var KT=Object.defineProperty;var Cx=r=>{throw TypeError(r)};var YT=(r,e,t)=>e in r?KT(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var De=(r,e,t)=>YT(r,typeof e!="symbol"?e+"":e,t),zy=(r,e,t)=>e.has(r)||Cx("Cannot "+t);var f=(r,e,t)=>(zy(r,e,"read from private field"),t?t.call(r):e.get(r)),T=(r,e,t)=>e.has(r)?Cx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),E=(r,e,t,n)=>(zy(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),C=(r,e,t)=>(zy(r,e,"access private method"),t);var Qn=(r,e,t,n)=>({set _(s){E(r,e,s,t)},get _(){return f(r,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function iw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var jy={exports:{}},Rc={},By={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tx;function QT(){if(Tx)return je;Tx=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=m&&B[m]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function A(B,X,I){this.props=B,this.context=X,this.refs=S,this.updater=I||w}A.prototype.isReactComponent={},A.prototype.setState=function(B,X){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,X,"setState")},A.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function k(){}k.prototype=A.prototype;function P(B,X,I){this.props=B,this.context=X,this.refs=S,this.updater=I||w}var R=P.prototype=new k;R.constructor=P,x(R,A.prototype),R.isPureReactComponent=!0;var F=Array.isArray,N=Object.prototype.hasOwnProperty,M={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function W(B,X,I){var we,Ae={},ge=null,ke=null;if(X!=null)for(we in X.ref!==void 0&&(ke=X.ref),X.key!==void 0&&(ge=""+X.key),X)N.call(X,we)&&!$.hasOwnProperty(we)&&(Ae[we]=X[we]);var Ee=arguments.length-2;if(Ee===1)Ae.children=I;else if(1<Ee){for(var Ne=Array(Ee),Fe=0;Fe<Ee;Fe++)Ne[Fe]=arguments[Fe+2];Ae.children=Ne}if(B&&B.defaultProps)for(we in Ee=B.defaultProps,Ee)Ae[we]===void 0&&(Ae[we]=Ee[we]);return{$$typeof:r,type:B,key:ge,ref:ke,props:Ae,_owner:M.current}}function Q(B,X){return{$$typeof:r,type:B.type,key:X,ref:B.ref,props:B.props,_owner:B._owner}}function z(B){return typeof B=="object"&&B!==null&&B.$$typeof===r}function q(B){var X={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(I){return X[I]})}var ne=/\/+/g;function J(B,X){return typeof B=="object"&&B!==null&&B.key!=null?q(""+B.key):X.toString(36)}function Y(B,X,I,we,Ae){var ge=typeof B;(ge==="undefined"||ge==="boolean")&&(B=null);var ke=!1;if(B===null)ke=!0;else switch(ge){case"string":case"number":ke=!0;break;case"object":switch(B.$$typeof){case r:case e:ke=!0}}if(ke)return ke=B,Ae=Ae(ke),B=we===""?"."+J(ke,0):we,F(Ae)?(I="",B!=null&&(I=B.replace(ne,"$&/")+"/"),Y(Ae,X,I,"",function(Fe){return Fe})):Ae!=null&&(z(Ae)&&(Ae=Q(Ae,I+(!Ae.key||ke&&ke.key===Ae.key?"":(""+Ae.key).replace(ne,"$&/")+"/")+B)),X.push(Ae)),1;if(ke=0,we=we===""?".":we+":",F(B))for(var Ee=0;Ee<B.length;Ee++){ge=B[Ee];var Ne=we+J(ge,Ee);ke+=Y(ge,X,I,Ne,Ae)}else if(Ne=y(B),typeof Ne=="function")for(B=Ne.call(B),Ee=0;!(ge=B.next()).done;)ge=ge.value,Ne=we+J(ge,Ee++),ke+=Y(ge,X,I,Ne,Ae);else if(ge==="object")throw X=String(B),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ke}function oe(B,X,I){if(B==null)return B;var we=[],Ae=0;return Y(B,we,"","",function(ge){return X.call(I,ge,Ae++)}),we}function pe(B){if(B._status===-1){var X=B._result;X=X(),X.then(function(I){(B._status===0||B._status===-1)&&(B._status=1,B._result=I)},function(I){(B._status===0||B._status===-1)&&(B._status=2,B._result=I)}),B._status===-1&&(B._status=0,B._result=X)}if(B._status===1)return B._result.default;throw B._result}var Z={current:null},G={transition:null},ce={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:G,ReactCurrentOwner:M};function L(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:oe,forEach:function(B,X,I){oe(B,function(){X.apply(this,arguments)},I)},count:function(B){var X=0;return oe(B,function(){X++}),X},toArray:function(B){return oe(B,function(X){return X})||[]},only:function(B){if(!z(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},je.Component=A,je.Fragment=t,je.Profiler=s,je.PureComponent=P,je.StrictMode=n,je.Suspense=h,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,je.act=L,je.cloneElement=function(B,X,I){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var we=x({},B.props),Ae=B.key,ge=B.ref,ke=B._owner;if(X!=null){if(X.ref!==void 0&&(ge=X.ref,ke=M.current),X.key!==void 0&&(Ae=""+X.key),B.type&&B.type.defaultProps)var Ee=B.type.defaultProps;for(Ne in X)N.call(X,Ne)&&!$.hasOwnProperty(Ne)&&(we[Ne]=X[Ne]===void 0&&Ee!==void 0?Ee[Ne]:X[Ne])}var Ne=arguments.length-2;if(Ne===1)we.children=I;else if(1<Ne){Ee=Array(Ne);for(var Fe=0;Fe<Ne;Fe++)Ee[Fe]=arguments[Fe+2];we.children=Ee}return{$$typeof:r,type:B.type,key:Ae,ref:ge,props:we,_owner:ke}},je.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:o,_context:B},B.Consumer=B},je.createElement=W,je.createFactory=function(B){var X=W.bind(null,B);return X.type=B,X},je.createRef=function(){return{current:null}},je.forwardRef=function(B){return{$$typeof:u,render:B}},je.isValidElement=z,je.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:pe}},je.memo=function(B,X){return{$$typeof:d,type:B,compare:X===void 0?null:X}},je.startTransition=function(B){var X=G.transition;G.transition={};try{B()}finally{G.transition=X}},je.unstable_act=L,je.useCallback=function(B,X){return Z.current.useCallback(B,X)},je.useContext=function(B){return Z.current.useContext(B)},je.useDebugValue=function(){},je.useDeferredValue=function(B){return Z.current.useDeferredValue(B)},je.useEffect=function(B,X){return Z.current.useEffect(B,X)},je.useId=function(){return Z.current.useId()},je.useImperativeHandle=function(B,X,I){return Z.current.useImperativeHandle(B,X,I)},je.useInsertionEffect=function(B,X){return Z.current.useInsertionEffect(B,X)},je.useLayoutEffect=function(B,X){return Z.current.useLayoutEffect(B,X)},je.useMemo=function(B,X){return Z.current.useMemo(B,X)},je.useReducer=function(B,X,I){return Z.current.useReducer(B,X,I)},je.useRef=function(B){return Z.current.useRef(B)},je.useState=function(B){return Z.current.useState(B)},je.useSyncExternalStore=function(B,X,I){return Z.current.useSyncExternalStore(B,X,I)},je.useTransition=function(){return Z.current.useTransition()},je.version="18.3.1",je}var Px;function Tg(){return Px||(Px=1,By.exports=QT()),By.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx;function JT(){if(Rx)return Rc;Rx=1;var r=Tg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,d){var p,m={},y=null,w=null;d!==void 0&&(y=""+d),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(w=h.ref);for(p in h)n.call(h,p)&&!o.hasOwnProperty(p)&&(m[p]=h[p]);if(u&&u.defaultProps)for(p in h=u.defaultProps,h)m[p]===void 0&&(m[p]=h[p]);return{$$typeof:e,type:u,key:y,ref:w,props:m,_owner:s.current}}return Rc.Fragment=t,Rc.jsx=l,Rc.jsxs=l,Rc}var Lx;function ZT(){return Lx||(Lx=1,jy.exports=JT()),jy.exports}var ie=ZT(),ee=Tg(),op={},Hy={exports:{}},Fn={},Uy={exports:{}},$y={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ix;function eP(){return Ix||(Ix=1,function(r){function e(G,ce){var L=G.length;G.push(ce);e:for(;0<L;){var B=L-1>>>1,X=G[B];if(0<s(X,ce))G[B]=ce,G[L]=X,L=B;else break e}}function t(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var ce=G[0],L=G.pop();if(L!==ce){G[0]=L;e:for(var B=0,X=G.length,I=X>>>1;B<I;){var we=2*(B+1)-1,Ae=G[we],ge=we+1,ke=G[ge];if(0>s(Ae,L))ge<X&&0>s(ke,Ae)?(G[B]=ke,G[ge]=L,B=ge):(G[B]=Ae,G[we]=L,B=we);else if(ge<X&&0>s(ke,L))G[B]=ke,G[ge]=L,B=ge;else break e}}return ce}function s(G,ce){var L=G.sortIndex-ce.sortIndex;return L!==0?L:G.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var h=[],d=[],p=1,m=null,y=3,w=!1,x=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(G){for(var ce=t(d);ce!==null;){if(ce.callback===null)n(d);else if(ce.startTime<=G)n(d),ce.sortIndex=ce.expirationTime,e(h,ce);else break;ce=t(d)}}function F(G){if(S=!1,R(G),!x)if(t(h)!==null)x=!0,pe(N);else{var ce=t(d);ce!==null&&Z(F,ce.startTime-G)}}function N(G,ce){x=!1,S&&(S=!1,k(W),W=-1),w=!0;var L=y;try{for(R(ce),m=t(h);m!==null&&(!(m.expirationTime>ce)||G&&!q());){var B=m.callback;if(typeof B=="function"){m.callback=null,y=m.priorityLevel;var X=B(m.expirationTime<=ce);ce=r.unstable_now(),typeof X=="function"?m.callback=X:m===t(h)&&n(h),R(ce)}else n(h);m=t(h)}if(m!==null)var I=!0;else{var we=t(d);we!==null&&Z(F,we.startTime-ce),I=!1}return I}finally{m=null,y=L,w=!1}}var M=!1,$=null,W=-1,Q=5,z=-1;function q(){return!(r.unstable_now()-z<Q)}function ne(){if($!==null){var G=r.unstable_now();z=G;var ce=!0;try{ce=$(!0,G)}finally{ce?J():(M=!1,$=null)}}else M=!1}var J;if(typeof P=="function")J=function(){P(ne)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,oe=Y.port2;Y.port1.onmessage=ne,J=function(){oe.postMessage(null)}}else J=function(){A(ne,0)};function pe(G){$=G,M||(M=!0,J())}function Z(G,ce){W=A(function(){G(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_continueExecution=function(){x||w||(x=!0,pe(N))},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return t(h)},r.unstable_next=function(G){switch(y){case 1:case 2:case 3:var ce=3;break;default:ce=y}var L=y;y=ce;try{return G()}finally{y=L}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(G,ce){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var L=y;y=G;try{return ce()}finally{y=L}},r.unstable_scheduleCallback=function(G,ce,L){var B=r.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?B+L:B):L=B,G){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=L+X,G={id:p++,callback:ce,priorityLevel:G,startTime:L,expirationTime:X,sortIndex:-1},L>B?(G.sortIndex=L,e(d,G),t(h)===null&&G===t(d)&&(S?(k(W),W=-1):S=!0,Z(F,L-B))):(G.sortIndex=X,e(h,G),x||w||(x=!0,pe(N))),G},r.unstable_shouldYield=q,r.unstable_wrapCallback=function(G){var ce=y;return function(){var L=y;y=ce;try{return G.apply(this,arguments)}finally{y=L}}}}($y)),$y}var Mx;function tP(){return Mx||(Mx=1,Uy.exports=eP()),Uy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dx;function nP(){if(Dx)return Fn;Dx=1;var r=Tg(),e=tP();function t(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)n.add(a[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(i){return h.call(m,i)?!0:h.call(p,i)?!1:d.test(i)?m[i]=!0:(p[i]=!0,!1)}function w(i,a,c,g){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function x(i,a,c,g){if(a===null||typeof a>"u"||w(i,a,c,g))return!0;if(g)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function S(i,a,c,g,v,b,_){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=v,this.mustUseProperty=c,this.propertyName=i,this.type=a,this.sanitizeURL=b,this.removeEmptyString=_}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){A[i]=new S(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];A[a]=new S(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){A[i]=new S(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){A[i]=new S(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){A[i]=new S(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){A[i]=new S(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){A[i]=new S(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){A[i]=new S(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){A[i]=new S(i,5,!1,i.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function P(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(k,P);A[a]=new S(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(k,P);A[a]=new S(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(k,P);A[a]=new S(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){A[i]=new S(i,1,!1,i.toLowerCase(),null,!1,!1)}),A.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){A[i]=new S(i,1,!1,i.toLowerCase(),null,!0,!0)});function R(i,a,c,g){var v=A.hasOwnProperty(a)?A[a]:null;(v!==null?v.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(x(a,c,v,g)&&(c=null),g||v===null?y(a)&&(c===null?i.removeAttribute(a):i.setAttribute(a,""+c)):v.mustUseProperty?i[v.propertyName]=c===null?v.type===3?!1:"":c:(a=v.attributeName,g=v.attributeNamespace,c===null?i.removeAttribute(a):(v=v.type,c=v===3||v===4&&c===!0?"":""+c,g?i.setAttributeNS(g,a,c):i.setAttribute(a,c))))}var F=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),M=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),q=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),G=Symbol.iterator;function ce(i){return i===null||typeof i!="object"?null:(i=G&&i[G]||i["@@iterator"],typeof i=="function"?i:null)}var L=Object.assign,B;function X(i){if(B===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);B=a&&a[1]||""}return`
`+B+i}var I=!1;function we(i,a){if(!i||I)return"";I=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(V){var g=V}Reflect.construct(i,[],a)}else{try{a.call()}catch(V){g=V}i.call(a.prototype)}else{try{throw Error()}catch(V){g=V}i()}}catch(V){if(V&&g&&typeof V.stack=="string"){for(var v=V.stack.split(`
`),b=g.stack.split(`
`),_=v.length-1,D=b.length-1;1<=_&&0<=D&&v[_]!==b[D];)D--;for(;1<=_&&0<=D;_--,D--)if(v[_]!==b[D]){if(_!==1||D!==1)do if(_--,D--,0>D||v[_]!==b[D]){var O=`
`+v[_].replace(" at new "," at ");return i.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",i.displayName)),O}while(1<=_&&0<=D);break}}}finally{I=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?X(i):""}function Ae(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=we(i.type,!1),i;case 11:return i=we(i.type.render,!1),i;case 1:return i=we(i.type,!0),i;default:return""}}function ge(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case $:return"Fragment";case M:return"Portal";case Q:return"Profiler";case W:return"StrictMode";case J:return"Suspense";case Y:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case q:return(i.displayName||"Context")+".Consumer";case z:return(i._context.displayName||"Context")+".Provider";case ne:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case oe:return a=i.displayName||null,a!==null?a:ge(i.type)||"Memo";case pe:a=i._payload,i=i._init;try{return ge(i(a))}catch{}}return null}function ke(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(a);case 8:return a===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ee(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ne(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Fe(i){var a=Ne(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),g=""+i[a];if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,b=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return v.call(this)},set:function(_){g=""+_,b.call(this,_)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return g},setValue:function(_){g=""+_},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function bn(i){i._valueTracker||(i._valueTracker=Fe(i))}function ti(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),g="";return i&&(g=Ne(i)?i.checked?"true":"false":i.value),i=g,i!==c?(a.setValue(i),!0):!1}function Xe(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ct(i,a){var c=a.checked;return L({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function St(i,a){var c=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;c=Ee(a.value!=null?a.value:c),i._wrapperState={initialChecked:g,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function mt(i,a){a=a.checked,a!=null&&R(i,"checked",a,!1)}function Vn(i,a){mt(i,a);var c=Ee(a.value),g=a.type;if(c!=null)g==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?Ts(i,a.type,c):a.hasOwnProperty("defaultValue")&&Ts(i,a.type,Ee(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function ni(i,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,c||a===i.value||(i.value=a),i.defaultValue=a}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function Ts(i,a,c){(a!=="number"||Xe(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var ri=Array.isArray;function Wn(i,a,c,g){if(i=i.options,a){a={};for(var v=0;v<c.length;v++)a["$"+c[v]]=!0;for(c=0;c<i.length;c++)v=a.hasOwnProperty("$"+i[c].value),i[c].selected!==v&&(i[c].selected=v),v&&g&&(i[c].defaultSelected=!0)}else{for(c=""+Ee(c),a=null,v=0;v<i.length;v++){if(i[v].value===c){i[v].selected=!0,g&&(i[v].defaultSelected=!0);return}a!==null||i[v].disabled||(a=i[v])}a!==null&&(a.selected=!0)}}function To(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return L({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ol(i,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(ri(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}i._wrapperState={initialValue:Ee(c)}}function al(i,a){var c=Ee(a.value),g=Ee(a.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),a.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),g!=null&&(i.defaultValue=""+g)}function ll(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function K(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?K(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ce,Oe=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,g,v){MSApp.execUnsafeLocalFunction(function(){return i(a,c,g,v)})}:i}(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(Ce=Ce||document.createElement("div"),Ce.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ce.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function He(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var Xt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ii=["Webkit","ms","Moz","O"];Object.keys(Xt).forEach(function(i){Ii.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),Xt[a]=Xt[i]})});function fr(i,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Xt.hasOwnProperty(i)&&Xt[i]?(""+a).trim():a+"px"}function Ps(i,a){i=i.style;for(var c in a)if(a.hasOwnProperty(c)){var g=c.indexOf("--")===0,v=fr(c,a[c],g);c==="float"&&(c="cssFloat"),g?i.setProperty(c,v):i[c]=v}}var Po=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kt(i,a){if(a){if(Po[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function ii(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gn=null;function Zg(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var em=null,ul=null,cl=null;function Vw(i){if(i=gc(i)){if(typeof em!="function")throw Error(t(280));var a=i.stateNode;a&&(a=xf(a),em(i.stateNode,i.type,a))}}function Ww(i){ul?cl?cl.push(i):cl=[i]:ul=i}function Gw(){if(ul){var i=ul,a=cl;if(cl=ul=null,Vw(i),a)for(i=0;i<a.length;i++)Vw(a[i])}}function qw(i,a){return i(a)}function Xw(){}var tm=!1;function Kw(i,a,c){if(tm)return i(a,c);tm=!0;try{return qw(i,a,c)}finally{tm=!1,(ul!==null||cl!==null)&&(Xw(),Gw())}}function Xu(i,a){var c=i.stateNode;if(c===null)return null;var g=xf(c);if(g===null)return null;c=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var nm=!1;if(u)try{var Ku={};Object.defineProperty(Ku,"passive",{get:function(){nm=!0}}),window.addEventListener("test",Ku,Ku),window.removeEventListener("test",Ku,Ku)}catch{nm=!1}function tC(i,a,c,g,v,b,_,D,O){var V=Array.prototype.slice.call(arguments,3);try{a.apply(c,V)}catch(re){this.onError(re)}}var Yu=!1,Jd=null,Zd=!1,rm=null,nC={onError:function(i){Yu=!0,Jd=i}};function rC(i,a,c,g,v,b,_,D,O){Yu=!1,Jd=null,tC.apply(nC,arguments)}function iC(i,a,c,g,v,b,_,D,O){if(rC.apply(this,arguments),Yu){if(Yu){var V=Jd;Yu=!1,Jd=null}else throw Error(t(198));Zd||(Zd=!0,rm=V)}}function Ro(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,a.flags&4098&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function Yw(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function Qw(i){if(Ro(i)!==i)throw Error(t(188))}function sC(i){var a=i.alternate;if(!a){if(a=Ro(i),a===null)throw Error(t(188));return a!==i?null:i}for(var c=i,g=a;;){var v=c.return;if(v===null)break;var b=v.alternate;if(b===null){if(g=v.return,g!==null){c=g;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===c)return Qw(v),i;if(b===g)return Qw(v),a;b=b.sibling}throw Error(t(188))}if(c.return!==g.return)c=v,g=b;else{for(var _=!1,D=v.child;D;){if(D===c){_=!0,c=v,g=b;break}if(D===g){_=!0,g=v,c=b;break}D=D.sibling}if(!_){for(D=b.child;D;){if(D===c){_=!0,c=b,g=v;break}if(D===g){_=!0,g=b,c=v;break}D=D.sibling}if(!_)throw Error(t(189))}}if(c.alternate!==g)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?i:a}function Jw(i){return i=sC(i),i!==null?Zw(i):null}function Zw(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=Zw(i);if(a!==null)return a;i=i.sibling}return null}var e1=e.unstable_scheduleCallback,t1=e.unstable_cancelCallback,oC=e.unstable_shouldYield,aC=e.unstable_requestPaint,At=e.unstable_now,lC=e.unstable_getCurrentPriorityLevel,im=e.unstable_ImmediatePriority,n1=e.unstable_UserBlockingPriority,ef=e.unstable_NormalPriority,uC=e.unstable_LowPriority,r1=e.unstable_IdlePriority,tf=null,si=null;function cC(i){if(si&&typeof si.onCommitFiberRoot=="function")try{si.onCommitFiberRoot(tf,i,void 0,(i.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:fC,hC=Math.log,dC=Math.LN2;function fC(i){return i>>>=0,i===0?32:31-(hC(i)/dC|0)|0}var nf=64,rf=4194304;function Qu(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function sf(i,a){var c=i.pendingLanes;if(c===0)return 0;var g=0,v=i.suspendedLanes,b=i.pingedLanes,_=c&268435455;if(_!==0){var D=_&~v;D!==0?g=Qu(D):(b&=_,b!==0&&(g=Qu(b)))}else _=c&~v,_!==0?g=Qu(_):b!==0&&(g=Qu(b));if(g===0)return 0;if(a!==0&&a!==g&&!(a&v)&&(v=g&-g,b=a&-a,v>=b||v===16&&(b&4194240)!==0))return a;if(g&4&&(g|=c&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=g;0<a;)c=31-Rr(a),v=1<<c,g|=i[c],a&=~v;return g}function pC(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gC(i,a){for(var c=i.suspendedLanes,g=i.pingedLanes,v=i.expirationTimes,b=i.pendingLanes;0<b;){var _=31-Rr(b),D=1<<_,O=v[_];O===-1?(!(D&c)||D&g)&&(v[_]=pC(D,a)):O<=a&&(i.expiredLanes|=D),b&=~D}}function sm(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function i1(){var i=nf;return nf<<=1,!(nf&4194240)&&(nf=64),i}function om(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function Ju(i,a,c){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Rr(a),i[a]=c}function mC(i,a){var c=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<c;){var v=31-Rr(c),b=1<<v;a[v]=0,g[v]=-1,i[v]=-1,c&=~b}}function am(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var g=31-Rr(c),v=1<<g;v&a|i[g]&a&&(i[g]|=a),c&=~v}}var et=0;function s1(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var o1,lm,a1,l1,u1,um=!1,of=[],Rs=null,Ls=null,Is=null,Zu=new Map,ec=new Map,Ms=[],yC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c1(i,a){switch(i){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":Zu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(a.pointerId)}}function tc(i,a,c,g,v,b){return i===null||i.nativeEvent!==b?(i={blockedOn:a,domEventName:c,eventSystemFlags:g,nativeEvent:b,targetContainers:[v]},a!==null&&(a=gc(a),a!==null&&lm(a)),i):(i.eventSystemFlags|=g,a=i.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),i)}function vC(i,a,c,g,v){switch(a){case"focusin":return Rs=tc(Rs,i,a,c,g,v),!0;case"dragenter":return Ls=tc(Ls,i,a,c,g,v),!0;case"mouseover":return Is=tc(Is,i,a,c,g,v),!0;case"pointerover":var b=v.pointerId;return Zu.set(b,tc(Zu.get(b)||null,i,a,c,g,v)),!0;case"gotpointercapture":return b=v.pointerId,ec.set(b,tc(ec.get(b)||null,i,a,c,g,v)),!0}return!1}function h1(i){var a=Lo(i.target);if(a!==null){var c=Ro(a);if(c!==null){if(a=c.tag,a===13){if(a=Yw(c),a!==null){i.blockedOn=a,u1(i.priority,function(){a1(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function af(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=hm(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var g=new c.constructor(c.type,c);Gn=g,c.target.dispatchEvent(g),Gn=null}else return a=gc(c),a!==null&&lm(a),i.blockedOn=c,!1;a.shift()}return!0}function d1(i,a,c){af(i)&&c.delete(a)}function wC(){um=!1,Rs!==null&&af(Rs)&&(Rs=null),Ls!==null&&af(Ls)&&(Ls=null),Is!==null&&af(Is)&&(Is=null),Zu.forEach(d1),ec.forEach(d1)}function nc(i,a){i.blockedOn===a&&(i.blockedOn=null,um||(um=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wC)))}function rc(i){function a(v){return nc(v,i)}if(0<of.length){nc(of[0],i);for(var c=1;c<of.length;c++){var g=of[c];g.blockedOn===i&&(g.blockedOn=null)}}for(Rs!==null&&nc(Rs,i),Ls!==null&&nc(Ls,i),Is!==null&&nc(Is,i),Zu.forEach(a),ec.forEach(a),c=0;c<Ms.length;c++)g=Ms[c],g.blockedOn===i&&(g.blockedOn=null);for(;0<Ms.length&&(c=Ms[0],c.blockedOn===null);)h1(c),c.blockedOn===null&&Ms.shift()}var hl=F.ReactCurrentBatchConfig,lf=!0;function bC(i,a,c,g){var v=et,b=hl.transition;hl.transition=null;try{et=1,cm(i,a,c,g)}finally{et=v,hl.transition=b}}function xC(i,a,c,g){var v=et,b=hl.transition;hl.transition=null;try{et=4,cm(i,a,c,g)}finally{et=v,hl.transition=b}}function cm(i,a,c,g){if(lf){var v=hm(i,a,c,g);if(v===null)Tm(i,a,g,uf,c),c1(i,g);else if(vC(v,i,a,c,g))g.stopPropagation();else if(c1(i,g),a&4&&-1<yC.indexOf(i)){for(;v!==null;){var b=gc(v);if(b!==null&&o1(b),b=hm(i,a,c,g),b===null&&Tm(i,a,g,uf,c),b===v)break;v=b}v!==null&&g.stopPropagation()}else Tm(i,a,g,null,c)}}var uf=null;function hm(i,a,c,g){if(uf=null,i=Zg(g),i=Lo(i),i!==null)if(a=Ro(i),a===null)i=null;else if(c=a.tag,c===13){if(i=Yw(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return uf=i,null}function f1(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lC()){case im:return 1;case n1:return 4;case ef:case uC:return 16;case r1:return 536870912;default:return 16}default:return 16}}var Ds=null,dm=null,cf=null;function p1(){if(cf)return cf;var i,a=dm,c=a.length,g,v="value"in Ds?Ds.value:Ds.textContent,b=v.length;for(i=0;i<c&&a[i]===v[i];i++);var _=c-i;for(g=1;g<=_&&a[c-g]===v[b-g];g++);return cf=v.slice(i,1<g?1-g:void 0)}function hf(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function df(){return!0}function g1(){return!1}function qn(i){function a(c,g,v,b,_){this._reactName=c,this._targetInst=v,this.type=g,this.nativeEvent=b,this.target=_,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(c=i[D],this[D]=c?c(b):b[D]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?df:g1,this.isPropagationStopped=g1,this}return L(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=df)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=df)},persist:function(){},isPersistent:df}),a}var dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fm=qn(dl),ic=L({},dl,{view:0,detail:0}),SC=qn(ic),pm,gm,sc,ff=L({},ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ym,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==sc&&(sc&&i.type==="mousemove"?(pm=i.screenX-sc.screenX,gm=i.screenY-sc.screenY):gm=pm=0,sc=i),pm)},movementY:function(i){return"movementY"in i?i.movementY:gm}}),m1=qn(ff),kC=L({},ff,{dataTransfer:0}),_C=qn(kC),AC=L({},ic,{relatedTarget:0}),mm=qn(AC),EC=L({},dl,{animationName:0,elapsedTime:0,pseudoElement:0}),CC=qn(EC),TC=L({},dl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),PC=qn(TC),RC=L({},dl,{data:0}),y1=qn(RC),LC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DC(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=MC[i])?!!a[i]:!1}function ym(){return DC}var FC=L({},ic,{key:function(i){if(i.key){var a=LC[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=hf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?IC[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ym,charCode:function(i){return i.type==="keypress"?hf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?hf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),OC=qn(FC),NC=L({},ff,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v1=qn(NC),zC=L({},ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ym}),jC=qn(zC),BC=L({},dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),HC=qn(BC),UC=L({},ff,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$C=qn(UC),VC=[9,13,27,32],vm=u&&"CompositionEvent"in window,oc=null;u&&"documentMode"in document&&(oc=document.documentMode);var WC=u&&"TextEvent"in window&&!oc,w1=u&&(!vm||oc&&8<oc&&11>=oc),b1=" ",x1=!1;function S1(i,a){switch(i){case"keyup":return VC.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k1(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fl=!1;function GC(i,a){switch(i){case"compositionend":return k1(a);case"keypress":return a.which!==32?null:(x1=!0,b1);case"textInput":return i=a.data,i===b1&&x1?null:i;default:return null}}function qC(i,a){if(fl)return i==="compositionend"||!vm&&S1(i,a)?(i=p1(),cf=dm=Ds=null,fl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return w1&&a.locale!=="ko"?null:a.data;default:return null}}var XC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _1(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!XC[i.type]:a==="textarea"}function A1(i,a,c,g){Ww(g),a=vf(a,"onChange"),0<a.length&&(c=new fm("onChange","change",null,c,g),i.push({event:c,listeners:a}))}var ac=null,lc=null;function KC(i){$1(i,0)}function pf(i){var a=vl(i);if(ti(a))return i}function YC(i,a){if(i==="change")return a}var E1=!1;if(u){var wm;if(u){var bm="oninput"in document;if(!bm){var C1=document.createElement("div");C1.setAttribute("oninput","return;"),bm=typeof C1.oninput=="function"}wm=bm}else wm=!1;E1=wm&&(!document.documentMode||9<document.documentMode)}function T1(){ac&&(ac.detachEvent("onpropertychange",P1),lc=ac=null)}function P1(i){if(i.propertyName==="value"&&pf(lc)){var a=[];A1(a,lc,i,Zg(i)),Kw(KC,a)}}function QC(i,a,c){i==="focusin"?(T1(),ac=a,lc=c,ac.attachEvent("onpropertychange",P1)):i==="focusout"&&T1()}function JC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return pf(lc)}function ZC(i,a){if(i==="click")return pf(a)}function eT(i,a){if(i==="input"||i==="change")return pf(a)}function tT(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Lr=typeof Object.is=="function"?Object.is:tT;function uc(i,a){if(Lr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),g=Object.keys(a);if(c.length!==g.length)return!1;for(g=0;g<c.length;g++){var v=c[g];if(!h.call(a,v)||!Lr(i[v],a[v]))return!1}return!0}function R1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function L1(i,a){var c=R1(i);i=0;for(var g;c;){if(c.nodeType===3){if(g=i+c.textContent.length,i<=a&&g>=a)return{node:c,offset:a-i};i=g}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=R1(c)}}function I1(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?I1(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function M1(){for(var i=window,a=Xe();a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=Xe(i.document)}return a}function xm(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function nT(i){var a=M1(),c=i.focusedElem,g=i.selectionRange;if(a!==c&&c&&c.ownerDocument&&I1(c.ownerDocument.documentElement,c)){if(g!==null&&xm(c)){if(a=g.start,i=g.end,i===void 0&&(i=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(i,c.value.length);else if(i=(a=c.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var v=c.textContent.length,b=Math.min(g.start,v);g=g.end===void 0?b:Math.min(g.end,v),!i.extend&&b>g&&(v=g,g=b,b=v),v=L1(c,b);var _=L1(c,g);v&&_&&(i.rangeCount!==1||i.anchorNode!==v.node||i.anchorOffset!==v.offset||i.focusNode!==_.node||i.focusOffset!==_.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),i.removeAllRanges(),b>g?(i.addRange(a),i.extend(_.node,_.offset)):(a.setEnd(_.node,_.offset),i.addRange(a)))}}for(a=[],i=c;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)i=a[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var rT=u&&"documentMode"in document&&11>=document.documentMode,pl=null,Sm=null,cc=null,km=!1;function D1(i,a,c){var g=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;km||pl==null||pl!==Xe(g)||(g=pl,"selectionStart"in g&&xm(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),cc&&uc(cc,g)||(cc=g,g=vf(Sm,"onSelect"),0<g.length&&(a=new fm("onSelect","select",null,a,c),i.push({event:a,listeners:g}),a.target=pl)))}function gf(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var gl={animationend:gf("Animation","AnimationEnd"),animationiteration:gf("Animation","AnimationIteration"),animationstart:gf("Animation","AnimationStart"),transitionend:gf("Transition","TransitionEnd")},_m={},F1={};u&&(F1=document.createElement("div").style,"AnimationEvent"in window||(delete gl.animationend.animation,delete gl.animationiteration.animation,delete gl.animationstart.animation),"TransitionEvent"in window||delete gl.transitionend.transition);function mf(i){if(_m[i])return _m[i];if(!gl[i])return i;var a=gl[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in F1)return _m[i]=a[c];return i}var O1=mf("animationend"),N1=mf("animationiteration"),z1=mf("animationstart"),j1=mf("transitionend"),B1=new Map,H1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fs(i,a){B1.set(i,a),o(a,[i])}for(var Am=0;Am<H1.length;Am++){var Em=H1[Am],iT=Em.toLowerCase(),sT=Em[0].toUpperCase()+Em.slice(1);Fs(iT,"on"+sT)}Fs(O1,"onAnimationEnd"),Fs(N1,"onAnimationIteration"),Fs(z1,"onAnimationStart"),Fs("dblclick","onDoubleClick"),Fs("focusin","onFocus"),Fs("focusout","onBlur"),Fs(j1,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oT=new Set("cancel close invalid load scroll toggle".split(" ").concat(hc));function U1(i,a,c){var g=i.type||"unknown-event";i.currentTarget=c,iC(g,a,void 0,i),i.currentTarget=null}function $1(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var g=i[c],v=g.event;g=g.listeners;e:{var b=void 0;if(a)for(var _=g.length-1;0<=_;_--){var D=g[_],O=D.instance,V=D.currentTarget;if(D=D.listener,O!==b&&v.isPropagationStopped())break e;U1(v,D,V),b=O}else for(_=0;_<g.length;_++){if(D=g[_],O=D.instance,V=D.currentTarget,D=D.listener,O!==b&&v.isPropagationStopped())break e;U1(v,D,V),b=O}}}if(Zd)throw i=rm,Zd=!1,rm=null,i}function pt(i,a){var c=a[Dm];c===void 0&&(c=a[Dm]=new Set);var g=i+"__bubble";c.has(g)||(V1(a,i,2,!1),c.add(g))}function Cm(i,a,c){var g=0;a&&(g|=4),V1(c,i,g,a)}var yf="_reactListening"+Math.random().toString(36).slice(2);function dc(i){if(!i[yf]){i[yf]=!0,n.forEach(function(c){c!=="selectionchange"&&(oT.has(c)||Cm(c,!1,i),Cm(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[yf]||(a[yf]=!0,Cm("selectionchange",!1,a))}}function V1(i,a,c,g){switch(f1(a)){case 1:var v=bC;break;case 4:v=xC;break;default:v=cm}c=v.bind(null,a,c,i),v=void 0,!nm||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),g?v!==void 0?i.addEventListener(a,c,{capture:!0,passive:v}):i.addEventListener(a,c,!0):v!==void 0?i.addEventListener(a,c,{passive:v}):i.addEventListener(a,c,!1)}function Tm(i,a,c,g,v){var b=g;if(!(a&1)&&!(a&2)&&g!==null)e:for(;;){if(g===null)return;var _=g.tag;if(_===3||_===4){var D=g.stateNode.containerInfo;if(D===v||D.nodeType===8&&D.parentNode===v)break;if(_===4)for(_=g.return;_!==null;){var O=_.tag;if((O===3||O===4)&&(O=_.stateNode.containerInfo,O===v||O.nodeType===8&&O.parentNode===v))return;_=_.return}for(;D!==null;){if(_=Lo(D),_===null)return;if(O=_.tag,O===5||O===6){g=b=_;continue e}D=D.parentNode}}g=g.return}Kw(function(){var V=b,re=Zg(c),se=[];e:{var te=B1.get(i);if(te!==void 0){var fe=fm,ye=i;switch(i){case"keypress":if(hf(c)===0)break e;case"keydown":case"keyup":fe=OC;break;case"focusin":ye="focus",fe=mm;break;case"focusout":ye="blur",fe=mm;break;case"beforeblur":case"afterblur":fe=mm;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=m1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=_C;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=jC;break;case O1:case N1:case z1:fe=CC;break;case j1:fe=HC;break;case"scroll":fe=SC;break;case"wheel":fe=$C;break;case"copy":case"cut":case"paste":fe=PC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=v1}var be=(a&4)!==0,Et=!be&&i==="scroll",H=be?te!==null?te+"Capture":null:te;be=[];for(var j=V,U;j!==null;){U=j;var ue=U.stateNode;if(U.tag===5&&ue!==null&&(U=ue,H!==null&&(ue=Xu(j,H),ue!=null&&be.push(fc(j,ue,U)))),Et)break;j=j.return}0<be.length&&(te=new fe(te,ye,null,c,re),se.push({event:te,listeners:be}))}}if(!(a&7)){e:{if(te=i==="mouseover"||i==="pointerover",fe=i==="mouseout"||i==="pointerout",te&&c!==Gn&&(ye=c.relatedTarget||c.fromElement)&&(Lo(ye)||ye[Mi]))break e;if((fe||te)&&(te=re.window===re?re:(te=re.ownerDocument)?te.defaultView||te.parentWindow:window,fe?(ye=c.relatedTarget||c.toElement,fe=V,ye=ye?Lo(ye):null,ye!==null&&(Et=Ro(ye),ye!==Et||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(fe=null,ye=V),fe!==ye)){if(be=m1,ue="onMouseLeave",H="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(be=v1,ue="onPointerLeave",H="onPointerEnter",j="pointer"),Et=fe==null?te:vl(fe),U=ye==null?te:vl(ye),te=new be(ue,j+"leave",fe,c,re),te.target=Et,te.relatedTarget=U,ue=null,Lo(re)===V&&(be=new be(H,j+"enter",ye,c,re),be.target=U,be.relatedTarget=Et,ue=be),Et=ue,fe&&ye)t:{for(be=fe,H=ye,j=0,U=be;U;U=ml(U))j++;for(U=0,ue=H;ue;ue=ml(ue))U++;for(;0<j-U;)be=ml(be),j--;for(;0<U-j;)H=ml(H),U--;for(;j--;){if(be===H||H!==null&&be===H.alternate)break t;be=ml(be),H=ml(H)}be=null}else be=null;fe!==null&&W1(se,te,fe,be,!1),ye!==null&&Et!==null&&W1(se,Et,ye,be,!0)}}e:{if(te=V?vl(V):window,fe=te.nodeName&&te.nodeName.toLowerCase(),fe==="select"||fe==="input"&&te.type==="file")var xe=YC;else if(_1(te))if(E1)xe=eT;else{xe=JC;var Te=QC}else(fe=te.nodeName)&&fe.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(xe=ZC);if(xe&&(xe=xe(i,V))){A1(se,xe,c,re);break e}Te&&Te(i,te,V),i==="focusout"&&(Te=te._wrapperState)&&Te.controlled&&te.type==="number"&&Ts(te,"number",te.value)}switch(Te=V?vl(V):window,i){case"focusin":(_1(Te)||Te.contentEditable==="true")&&(pl=Te,Sm=V,cc=null);break;case"focusout":cc=Sm=pl=null;break;case"mousedown":km=!0;break;case"contextmenu":case"mouseup":case"dragend":km=!1,D1(se,c,re);break;case"selectionchange":if(rT)break;case"keydown":case"keyup":D1(se,c,re)}var Pe;if(vm)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else fl?S1(i,c)&&(Le="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Le="onCompositionStart");Le&&(w1&&c.locale!=="ko"&&(fl||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&fl&&(Pe=p1()):(Ds=re,dm="value"in Ds?Ds.value:Ds.textContent,fl=!0)),Te=vf(V,Le),0<Te.length&&(Le=new y1(Le,i,null,c,re),se.push({event:Le,listeners:Te}),Pe?Le.data=Pe:(Pe=k1(c),Pe!==null&&(Le.data=Pe)))),(Pe=WC?GC(i,c):qC(i,c))&&(V=vf(V,"onBeforeInput"),0<V.length&&(re=new y1("onBeforeInput","beforeinput",null,c,re),se.push({event:re,listeners:V}),re.data=Pe))}$1(se,a)})}function fc(i,a,c){return{instance:i,listener:a,currentTarget:c}}function vf(i,a){for(var c=a+"Capture",g=[];i!==null;){var v=i,b=v.stateNode;v.tag===5&&b!==null&&(v=b,b=Xu(i,c),b!=null&&g.unshift(fc(i,b,v)),b=Xu(i,a),b!=null&&g.push(fc(i,b,v))),i=i.return}return g}function ml(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function W1(i,a,c,g,v){for(var b=a._reactName,_=[];c!==null&&c!==g;){var D=c,O=D.alternate,V=D.stateNode;if(O!==null&&O===g)break;D.tag===5&&V!==null&&(D=V,v?(O=Xu(c,b),O!=null&&_.unshift(fc(c,O,D))):v||(O=Xu(c,b),O!=null&&_.push(fc(c,O,D)))),c=c.return}_.length!==0&&i.push({event:a,listeners:_})}var aT=/\r\n?/g,lT=/\u0000|\uFFFD/g;function G1(i){return(typeof i=="string"?i:""+i).replace(aT,`
`).replace(lT,"")}function wf(i,a,c){if(a=G1(a),G1(i)!==a&&c)throw Error(t(425))}function bf(){}var Pm=null,Rm=null;function Lm(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Im=typeof setTimeout=="function"?setTimeout:void 0,uT=typeof clearTimeout=="function"?clearTimeout:void 0,q1=typeof Promise=="function"?Promise:void 0,cT=typeof queueMicrotask=="function"?queueMicrotask:typeof q1<"u"?function(i){return q1.resolve(null).then(i).catch(hT)}:Im;function hT(i){setTimeout(function(){throw i})}function Mm(i,a){var c=a,g=0;do{var v=c.nextSibling;if(i.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(g===0){i.removeChild(v),rc(a);return}g--}else c!=="$"&&c!=="$?"&&c!=="$!"||g++;c=v}while(c);rc(a)}function Os(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function X1(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return i;a--}else c==="/$"&&a++}i=i.previousSibling}return null}var yl=Math.random().toString(36).slice(2),oi="__reactFiber$"+yl,pc="__reactProps$"+yl,Mi="__reactContainer$"+yl,Dm="__reactEvents$"+yl,dT="__reactListeners$"+yl,fT="__reactHandles$"+yl;function Lo(i){var a=i[oi];if(a)return a;for(var c=i.parentNode;c;){if(a=c[Mi]||c[oi]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=X1(i);i!==null;){if(c=i[oi])return c;i=X1(i)}return a}i=c,c=i.parentNode}return null}function gc(i){return i=i[oi]||i[Mi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function vl(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function xf(i){return i[pc]||null}var Fm=[],wl=-1;function Ns(i){return{current:i}}function gt(i){0>wl||(i.current=Fm[wl],Fm[wl]=null,wl--)}function ht(i,a){wl++,Fm[wl]=i.current,i.current=a}var zs={},ln=Ns(zs),Rn=Ns(!1),Io=zs;function bl(i,a){var c=i.type.contextTypes;if(!c)return zs;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var v={},b;for(b in c)v[b]=a[b];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=v),v}function Ln(i){return i=i.childContextTypes,i!=null}function Sf(){gt(Rn),gt(ln)}function K1(i,a,c){if(ln.current!==zs)throw Error(t(168));ht(ln,a),ht(Rn,c)}function Y1(i,a,c){var g=i.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return c;g=g.getChildContext();for(var v in g)if(!(v in a))throw Error(t(108,ke(i)||"Unknown",v));return L({},c,g)}function kf(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||zs,Io=ln.current,ht(ln,i),ht(Rn,Rn.current),!0}function Q1(i,a,c){var g=i.stateNode;if(!g)throw Error(t(169));c?(i=Y1(i,a,Io),g.__reactInternalMemoizedMergedChildContext=i,gt(Rn),gt(ln),ht(ln,i)):gt(Rn),ht(Rn,c)}var Di=null,_f=!1,Om=!1;function J1(i){Di===null?Di=[i]:Di.push(i)}function pT(i){_f=!0,J1(i)}function js(){if(!Om&&Di!==null){Om=!0;var i=0,a=et;try{var c=Di;for(et=1;i<c.length;i++){var g=c[i];do g=g(!0);while(g!==null)}Di=null,_f=!1}catch(v){throw Di!==null&&(Di=Di.slice(i+1)),e1(im,js),v}finally{et=a,Om=!1}}return null}var xl=[],Sl=0,Af=null,Ef=0,pr=[],gr=0,Mo=null,Fi=1,Oi="";function Do(i,a){xl[Sl++]=Ef,xl[Sl++]=Af,Af=i,Ef=a}function Z1(i,a,c){pr[gr++]=Fi,pr[gr++]=Oi,pr[gr++]=Mo,Mo=i;var g=Fi;i=Oi;var v=32-Rr(g)-1;g&=~(1<<v),c+=1;var b=32-Rr(a)+v;if(30<b){var _=v-v%5;b=(g&(1<<_)-1).toString(32),g>>=_,v-=_,Fi=1<<32-Rr(a)+v|c<<v|g,Oi=b+i}else Fi=1<<b|c<<v|g,Oi=i}function Nm(i){i.return!==null&&(Do(i,1),Z1(i,1,0))}function zm(i){for(;i===Af;)Af=xl[--Sl],xl[Sl]=null,Ef=xl[--Sl],xl[Sl]=null;for(;i===Mo;)Mo=pr[--gr],pr[gr]=null,Oi=pr[--gr],pr[gr]=null,Fi=pr[--gr],pr[gr]=null}var Xn=null,Kn=null,yt=!1,Ir=null;function eb(i,a){var c=wr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=i,a=i.deletions,a===null?(i.deletions=[c],i.flags|=16):a.push(c)}function tb(i,a){switch(i.tag){case 5:var c=i.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,Xn=i,Kn=Os(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,Xn=i,Kn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Mo!==null?{id:Fi,overflow:Oi}:null,i.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=wr(18,null,null,0),c.stateNode=a,c.return=i,i.child=c,Xn=i,Kn=null,!0):!1;default:return!1}}function jm(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Bm(i){if(yt){var a=Kn;if(a){var c=a;if(!tb(i,a)){if(jm(i))throw Error(t(418));a=Os(c.nextSibling);var g=Xn;a&&tb(i,a)?eb(g,c):(i.flags=i.flags&-4097|2,yt=!1,Xn=i)}}else{if(jm(i))throw Error(t(418));i.flags=i.flags&-4097|2,yt=!1,Xn=i}}}function nb(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Xn=i}function Cf(i){if(i!==Xn)return!1;if(!yt)return nb(i),yt=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Lm(i.type,i.memoizedProps)),a&&(a=Kn)){if(jm(i))throw rb(),Error(t(418));for(;a;)eb(i,a),a=Os(a.nextSibling)}if(nb(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(a===0){Kn=Os(i.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}i=i.nextSibling}Kn=null}}else Kn=Xn?Os(i.stateNode.nextSibling):null;return!0}function rb(){for(var i=Kn;i;)i=Os(i.nextSibling)}function kl(){Kn=Xn=null,yt=!1}function Hm(i){Ir===null?Ir=[i]:Ir.push(i)}var gT=F.ReactCurrentBatchConfig;function mc(i,a,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var g=c.stateNode}if(!g)throw Error(t(147,i));var v=g,b=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===b?a.ref:(a=function(_){var D=v.refs;_===null?delete D[b]:D[b]=_},a._stringRef=b,a)}if(typeof i!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,i))}return i}function Tf(i,a){throw i=Object.prototype.toString.call(a),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function ib(i){var a=i._init;return a(i._payload)}function sb(i){function a(H,j){if(i){var U=H.deletions;U===null?(H.deletions=[j],H.flags|=16):U.push(j)}}function c(H,j){if(!i)return null;for(;j!==null;)a(H,j),j=j.sibling;return null}function g(H,j){for(H=new Map;j!==null;)j.key!==null?H.set(j.key,j):H.set(j.index,j),j=j.sibling;return H}function v(H,j){return H=qs(H,j),H.index=0,H.sibling=null,H}function b(H,j,U){return H.index=U,i?(U=H.alternate,U!==null?(U=U.index,U<j?(H.flags|=2,j):U):(H.flags|=2,j)):(H.flags|=1048576,j)}function _(H){return i&&H.alternate===null&&(H.flags|=2),H}function D(H,j,U,ue){return j===null||j.tag!==6?(j=Iy(U,H.mode,ue),j.return=H,j):(j=v(j,U),j.return=H,j)}function O(H,j,U,ue){var xe=U.type;return xe===$?re(H,j,U.props.children,ue,U.key):j!==null&&(j.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===pe&&ib(xe)===j.type)?(ue=v(j,U.props),ue.ref=mc(H,j,U),ue.return=H,ue):(ue=Jf(U.type,U.key,U.props,null,H.mode,ue),ue.ref=mc(H,j,U),ue.return=H,ue)}function V(H,j,U,ue){return j===null||j.tag!==4||j.stateNode.containerInfo!==U.containerInfo||j.stateNode.implementation!==U.implementation?(j=My(U,H.mode,ue),j.return=H,j):(j=v(j,U.children||[]),j.return=H,j)}function re(H,j,U,ue,xe){return j===null||j.tag!==7?(j=Uo(U,H.mode,ue,xe),j.return=H,j):(j=v(j,U),j.return=H,j)}function se(H,j,U){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Iy(""+j,H.mode,U),j.return=H,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case N:return U=Jf(j.type,j.key,j.props,null,H.mode,U),U.ref=mc(H,null,j),U.return=H,U;case M:return j=My(j,H.mode,U),j.return=H,j;case pe:var ue=j._init;return se(H,ue(j._payload),U)}if(ri(j)||ce(j))return j=Uo(j,H.mode,U,null),j.return=H,j;Tf(H,j)}return null}function te(H,j,U,ue){var xe=j!==null?j.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return xe!==null?null:D(H,j,""+U,ue);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case N:return U.key===xe?O(H,j,U,ue):null;case M:return U.key===xe?V(H,j,U,ue):null;case pe:return xe=U._init,te(H,j,xe(U._payload),ue)}if(ri(U)||ce(U))return xe!==null?null:re(H,j,U,ue,null);Tf(H,U)}return null}function fe(H,j,U,ue,xe){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return H=H.get(U)||null,D(j,H,""+ue,xe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case N:return H=H.get(ue.key===null?U:ue.key)||null,O(j,H,ue,xe);case M:return H=H.get(ue.key===null?U:ue.key)||null,V(j,H,ue,xe);case pe:var Te=ue._init;return fe(H,j,U,Te(ue._payload),xe)}if(ri(ue)||ce(ue))return H=H.get(U)||null,re(j,H,ue,xe,null);Tf(j,ue)}return null}function ye(H,j,U,ue){for(var xe=null,Te=null,Pe=j,Le=j=0,Vt=null;Pe!==null&&Le<U.length;Le++){Pe.index>Le?(Vt=Pe,Pe=null):Vt=Pe.sibling;var Qe=te(H,Pe,U[Le],ue);if(Qe===null){Pe===null&&(Pe=Vt);break}i&&Pe&&Qe.alternate===null&&a(H,Pe),j=b(Qe,j,Le),Te===null?xe=Qe:Te.sibling=Qe,Te=Qe,Pe=Vt}if(Le===U.length)return c(H,Pe),yt&&Do(H,Le),xe;if(Pe===null){for(;Le<U.length;Le++)Pe=se(H,U[Le],ue),Pe!==null&&(j=b(Pe,j,Le),Te===null?xe=Pe:Te.sibling=Pe,Te=Pe);return yt&&Do(H,Le),xe}for(Pe=g(H,Pe);Le<U.length;Le++)Vt=fe(Pe,H,Le,U[Le],ue),Vt!==null&&(i&&Vt.alternate!==null&&Pe.delete(Vt.key===null?Le:Vt.key),j=b(Vt,j,Le),Te===null?xe=Vt:Te.sibling=Vt,Te=Vt);return i&&Pe.forEach(function(Xs){return a(H,Xs)}),yt&&Do(H,Le),xe}function be(H,j,U,ue){var xe=ce(U);if(typeof xe!="function")throw Error(t(150));if(U=xe.call(U),U==null)throw Error(t(151));for(var Te=xe=null,Pe=j,Le=j=0,Vt=null,Qe=U.next();Pe!==null&&!Qe.done;Le++,Qe=U.next()){Pe.index>Le?(Vt=Pe,Pe=null):Vt=Pe.sibling;var Xs=te(H,Pe,Qe.value,ue);if(Xs===null){Pe===null&&(Pe=Vt);break}i&&Pe&&Xs.alternate===null&&a(H,Pe),j=b(Xs,j,Le),Te===null?xe=Xs:Te.sibling=Xs,Te=Xs,Pe=Vt}if(Qe.done)return c(H,Pe),yt&&Do(H,Le),xe;if(Pe===null){for(;!Qe.done;Le++,Qe=U.next())Qe=se(H,Qe.value,ue),Qe!==null&&(j=b(Qe,j,Le),Te===null?xe=Qe:Te.sibling=Qe,Te=Qe);return yt&&Do(H,Le),xe}for(Pe=g(H,Pe);!Qe.done;Le++,Qe=U.next())Qe=fe(Pe,H,Le,Qe.value,ue),Qe!==null&&(i&&Qe.alternate!==null&&Pe.delete(Qe.key===null?Le:Qe.key),j=b(Qe,j,Le),Te===null?xe=Qe:Te.sibling=Qe,Te=Qe);return i&&Pe.forEach(function(XT){return a(H,XT)}),yt&&Do(H,Le),xe}function Et(H,j,U,ue){if(typeof U=="object"&&U!==null&&U.type===$&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case N:e:{for(var xe=U.key,Te=j;Te!==null;){if(Te.key===xe){if(xe=U.type,xe===$){if(Te.tag===7){c(H,Te.sibling),j=v(Te,U.props.children),j.return=H,H=j;break e}}else if(Te.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===pe&&ib(xe)===Te.type){c(H,Te.sibling),j=v(Te,U.props),j.ref=mc(H,Te,U),j.return=H,H=j;break e}c(H,Te);break}else a(H,Te);Te=Te.sibling}U.type===$?(j=Uo(U.props.children,H.mode,ue,U.key),j.return=H,H=j):(ue=Jf(U.type,U.key,U.props,null,H.mode,ue),ue.ref=mc(H,j,U),ue.return=H,H=ue)}return _(H);case M:e:{for(Te=U.key;j!==null;){if(j.key===Te)if(j.tag===4&&j.stateNode.containerInfo===U.containerInfo&&j.stateNode.implementation===U.implementation){c(H,j.sibling),j=v(j,U.children||[]),j.return=H,H=j;break e}else{c(H,j);break}else a(H,j);j=j.sibling}j=My(U,H.mode,ue),j.return=H,H=j}return _(H);case pe:return Te=U._init,Et(H,j,Te(U._payload),ue)}if(ri(U))return ye(H,j,U,ue);if(ce(U))return be(H,j,U,ue);Tf(H,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,j!==null&&j.tag===6?(c(H,j.sibling),j=v(j,U),j.return=H,H=j):(c(H,j),j=Iy(U,H.mode,ue),j.return=H,H=j),_(H)):c(H,j)}return Et}var _l=sb(!0),ob=sb(!1),Pf=Ns(null),Rf=null,Al=null,Um=null;function $m(){Um=Al=Rf=null}function Vm(i){var a=Pf.current;gt(Pf),i._currentValue=a}function Wm(i,a,c){for(;i!==null;){var g=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),i===c)break;i=i.return}}function El(i,a){Rf=i,Um=Al=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&a&&(In=!0),i.firstContext=null)}function mr(i){var a=i._currentValue;if(Um!==i)if(i={context:i,memoizedValue:a,next:null},Al===null){if(Rf===null)throw Error(t(308));Al=i,Rf.dependencies={lanes:0,firstContext:i}}else Al=Al.next=i;return a}var Fo=null;function Gm(i){Fo===null?Fo=[i]:Fo.push(i)}function ab(i,a,c,g){var v=a.interleaved;return v===null?(c.next=c,Gm(a)):(c.next=v.next,v.next=c),a.interleaved=c,Ni(i,g)}function Ni(i,a){i.lanes|=a;var c=i.alternate;for(c!==null&&(c.lanes|=a),c=i,i=i.return;i!==null;)i.childLanes|=a,c=i.alternate,c!==null&&(c.childLanes|=a),c=i,i=i.return;return c.tag===3?c.stateNode:null}var Bs=!1;function qm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lb(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function zi(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Hs(i,a,c){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,Ke&2){var v=g.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),g.pending=a,Ni(i,c)}return v=g.interleaved,v===null?(a.next=a,Gm(g)):(a.next=v.next,v.next=a),g.interleaved=a,Ni(i,c)}function Lf(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var g=a.lanes;g&=i.pendingLanes,c|=g,a.lanes=c,am(i,c)}}function ub(i,a){var c=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,c===g)){var v=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var _={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};b===null?v=b=_:b=b.next=_,c=c.next}while(c!==null);b===null?v=b=a:b=b.next=a}else v=b=a;c={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:g.shared,effects:g.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}function If(i,a,c,g){var v=i.updateQueue;Bs=!1;var b=v.firstBaseUpdate,_=v.lastBaseUpdate,D=v.shared.pending;if(D!==null){v.shared.pending=null;var O=D,V=O.next;O.next=null,_===null?b=V:_.next=V,_=O;var re=i.alternate;re!==null&&(re=re.updateQueue,D=re.lastBaseUpdate,D!==_&&(D===null?re.firstBaseUpdate=V:D.next=V,re.lastBaseUpdate=O))}if(b!==null){var se=v.baseState;_=0,re=V=O=null,D=b;do{var te=D.lane,fe=D.eventTime;if((g&te)===te){re!==null&&(re=re.next={eventTime:fe,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var ye=i,be=D;switch(te=a,fe=c,be.tag){case 1:if(ye=be.payload,typeof ye=="function"){se=ye.call(fe,se,te);break e}se=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=be.payload,te=typeof ye=="function"?ye.call(fe,se,te):ye,te==null)break e;se=L({},se,te);break e;case 2:Bs=!0}}D.callback!==null&&D.lane!==0&&(i.flags|=64,te=v.effects,te===null?v.effects=[D]:te.push(D))}else fe={eventTime:fe,lane:te,tag:D.tag,payload:D.payload,callback:D.callback,next:null},re===null?(V=re=fe,O=se):re=re.next=fe,_|=te;if(D=D.next,D===null){if(D=v.shared.pending,D===null)break;te=D,D=te.next,te.next=null,v.lastBaseUpdate=te,v.shared.pending=null}}while(!0);if(re===null&&(O=se),v.baseState=O,v.firstBaseUpdate=V,v.lastBaseUpdate=re,a=v.shared.interleaved,a!==null){v=a;do _|=v.lane,v=v.next;while(v!==a)}else b===null&&(v.shared.lanes=0);zo|=_,i.lanes=_,i.memoizedState=se}}function cb(i,a,c){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var g=i[a],v=g.callback;if(v!==null){if(g.callback=null,g=c,typeof v!="function")throw Error(t(191,v));v.call(g)}}}var yc={},ai=Ns(yc),vc=Ns(yc),wc=Ns(yc);function Oo(i){if(i===yc)throw Error(t(174));return i}function Xm(i,a){switch(ht(wc,a),ht(vc,i),ht(ai,yc),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:le(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=le(a,i)}gt(ai),ht(ai,a)}function Cl(){gt(ai),gt(vc),gt(wc)}function hb(i){Oo(wc.current);var a=Oo(ai.current),c=le(a,i.type);a!==c&&(ht(vc,i),ht(ai,c))}function Km(i){vc.current===i&&(gt(ai),gt(vc))}var vt=Ns(0);function Mf(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ym=[];function Qm(){for(var i=0;i<Ym.length;i++)Ym[i]._workInProgressVersionPrimary=null;Ym.length=0}var Df=F.ReactCurrentDispatcher,Jm=F.ReactCurrentBatchConfig,No=0,wt=null,Mt=null,Ut=null,Ff=!1,bc=!1,xc=0,mT=0;function un(){throw Error(t(321))}function Zm(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!Lr(i[c],a[c]))return!1;return!0}function ey(i,a,c,g,v,b){if(No=b,wt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Df.current=i===null||i.memoizedState===null?bT:xT,i=c(g,v),bc){b=0;do{if(bc=!1,xc=0,25<=b)throw Error(t(301));b+=1,Ut=Mt=null,a.updateQueue=null,Df.current=ST,i=c(g,v)}while(bc)}if(Df.current=zf,a=Mt!==null&&Mt.next!==null,No=0,Ut=Mt=wt=null,Ff=!1,a)throw Error(t(300));return i}function ty(){var i=xc!==0;return xc=0,i}function li(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?wt.memoizedState=Ut=i:Ut=Ut.next=i,Ut}function yr(){if(Mt===null){var i=wt.alternate;i=i!==null?i.memoizedState:null}else i=Mt.next;var a=Ut===null?wt.memoizedState:Ut.next;if(a!==null)Ut=a,Mt=i;else{if(i===null)throw Error(t(310));Mt=i,i={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Ut===null?wt.memoizedState=Ut=i:Ut=Ut.next=i}return Ut}function Sc(i,a){return typeof a=="function"?a(i):a}function ny(i){var a=yr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var g=Mt,v=g.baseQueue,b=c.pending;if(b!==null){if(v!==null){var _=v.next;v.next=b.next,b.next=_}g.baseQueue=v=b,c.pending=null}if(v!==null){b=v.next,g=g.baseState;var D=_=null,O=null,V=b;do{var re=V.lane;if((No&re)===re)O!==null&&(O=O.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),g=V.hasEagerState?V.eagerState:i(g,V.action);else{var se={lane:re,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};O===null?(D=O=se,_=g):O=O.next=se,wt.lanes|=re,zo|=re}V=V.next}while(V!==null&&V!==b);O===null?_=g:O.next=D,Lr(g,a.memoizedState)||(In=!0),a.memoizedState=g,a.baseState=_,a.baseQueue=O,c.lastRenderedState=g}if(i=c.interleaved,i!==null){v=i;do b=v.lane,wt.lanes|=b,zo|=b,v=v.next;while(v!==i)}else v===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function ry(i){var a=yr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var g=c.dispatch,v=c.pending,b=a.memoizedState;if(v!==null){c.pending=null;var _=v=v.next;do b=i(b,_.action),_=_.next;while(_!==v);Lr(b,a.memoizedState)||(In=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),c.lastRenderedState=b}return[b,g]}function db(){}function fb(i,a){var c=wt,g=yr(),v=a(),b=!Lr(g.memoizedState,v);if(b&&(g.memoizedState=v,In=!0),g=g.queue,iy(mb.bind(null,c,g,i),[i]),g.getSnapshot!==a||b||Ut!==null&&Ut.memoizedState.tag&1){if(c.flags|=2048,kc(9,gb.bind(null,c,g,v,a),void 0,null),$t===null)throw Error(t(349));No&30||pb(c,a,v)}return v}function pb(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=wt.updateQueue,a===null?(a={lastEffect:null,stores:null},wt.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function gb(i,a,c,g){a.value=c,a.getSnapshot=g,yb(a)&&vb(i)}function mb(i,a,c){return c(function(){yb(a)&&vb(i)})}function yb(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!Lr(i,c)}catch{return!0}}function vb(i){var a=Ni(i,1);a!==null&&Or(a,i,1,-1)}function wb(i){var a=li();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:i},a.queue=i,i=i.dispatch=wT.bind(null,wt,i),[a.memoizedState,i]}function kc(i,a,c,g){return i={tag:i,create:a,destroy:c,deps:g,next:null},a=wt.updateQueue,a===null?(a={lastEffect:null,stores:null},wt.updateQueue=a,a.lastEffect=i.next=i):(c=a.lastEffect,c===null?a.lastEffect=i.next=i:(g=c.next,c.next=i,i.next=g,a.lastEffect=i)),i}function bb(){return yr().memoizedState}function Of(i,a,c,g){var v=li();wt.flags|=i,v.memoizedState=kc(1|a,c,void 0,g===void 0?null:g)}function Nf(i,a,c,g){var v=yr();g=g===void 0?null:g;var b=void 0;if(Mt!==null){var _=Mt.memoizedState;if(b=_.destroy,g!==null&&Zm(g,_.deps)){v.memoizedState=kc(a,c,b,g);return}}wt.flags|=i,v.memoizedState=kc(1|a,c,b,g)}function xb(i,a){return Of(8390656,8,i,a)}function iy(i,a){return Nf(2048,8,i,a)}function Sb(i,a){return Nf(4,2,i,a)}function kb(i,a){return Nf(4,4,i,a)}function _b(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Ab(i,a,c){return c=c!=null?c.concat([i]):null,Nf(4,4,_b.bind(null,a,i),c)}function sy(){}function Eb(i,a){var c=yr();a=a===void 0?null:a;var g=c.memoizedState;return g!==null&&a!==null&&Zm(a,g[1])?g[0]:(c.memoizedState=[i,a],i)}function Cb(i,a){var c=yr();a=a===void 0?null:a;var g=c.memoizedState;return g!==null&&a!==null&&Zm(a,g[1])?g[0]:(i=i(),c.memoizedState=[i,a],i)}function Tb(i,a,c){return No&21?(Lr(c,a)||(c=i1(),wt.lanes|=c,zo|=c,i.baseState=!0),a):(i.baseState&&(i.baseState=!1,In=!0),i.memoizedState=c)}function yT(i,a){var c=et;et=c!==0&&4>c?c:4,i(!0);var g=Jm.transition;Jm.transition={};try{i(!1),a()}finally{et=c,Jm.transition=g}}function Pb(){return yr().memoizedState}function vT(i,a,c){var g=Ws(i);if(c={lane:g,action:c,hasEagerState:!1,eagerState:null,next:null},Rb(i))Lb(a,c);else if(c=ab(i,a,c,g),c!==null){var v=Sn();Or(c,i,g,v),Ib(c,a,g)}}function wT(i,a,c){var g=Ws(i),v={lane:g,action:c,hasEagerState:!1,eagerState:null,next:null};if(Rb(i))Lb(a,v);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var _=a.lastRenderedState,D=b(_,c);if(v.hasEagerState=!0,v.eagerState=D,Lr(D,_)){var O=a.interleaved;O===null?(v.next=v,Gm(a)):(v.next=O.next,O.next=v),a.interleaved=v;return}}catch{}finally{}c=ab(i,a,v,g),c!==null&&(v=Sn(),Or(c,i,g,v),Ib(c,a,g))}}function Rb(i){var a=i.alternate;return i===wt||a!==null&&a===wt}function Lb(i,a){bc=Ff=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function Ib(i,a,c){if(c&4194240){var g=a.lanes;g&=i.pendingLanes,c|=g,a.lanes=c,am(i,c)}}var zf={readContext:mr,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},bT={readContext:mr,useCallback:function(i,a){return li().memoizedState=[i,a===void 0?null:a],i},useContext:mr,useEffect:xb,useImperativeHandle:function(i,a,c){return c=c!=null?c.concat([i]):null,Of(4194308,4,_b.bind(null,a,i),c)},useLayoutEffect:function(i,a){return Of(4194308,4,i,a)},useInsertionEffect:function(i,a){return Of(4,2,i,a)},useMemo:function(i,a){var c=li();return a=a===void 0?null:a,i=i(),c.memoizedState=[i,a],i},useReducer:function(i,a,c){var g=li();return a=c!==void 0?c(a):a,g.memoizedState=g.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},g.queue=i,i=i.dispatch=vT.bind(null,wt,i),[g.memoizedState,i]},useRef:function(i){var a=li();return i={current:i},a.memoizedState=i},useState:wb,useDebugValue:sy,useDeferredValue:function(i){return li().memoizedState=i},useTransition:function(){var i=wb(!1),a=i[0];return i=yT.bind(null,i[1]),li().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,c){var g=wt,v=li();if(yt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),$t===null)throw Error(t(349));No&30||pb(g,a,c)}v.memoizedState=c;var b={value:c,getSnapshot:a};return v.queue=b,xb(mb.bind(null,g,b,i),[i]),g.flags|=2048,kc(9,gb.bind(null,g,b,c,a),void 0,null),c},useId:function(){var i=li(),a=$t.identifierPrefix;if(yt){var c=Oi,g=Fi;c=(g&~(1<<32-Rr(g)-1)).toString(32)+c,a=":"+a+"R"+c,c=xc++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=mT++,a=":"+a+"r"+c.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},xT={readContext:mr,useCallback:Eb,useContext:mr,useEffect:iy,useImperativeHandle:Ab,useInsertionEffect:Sb,useLayoutEffect:kb,useMemo:Cb,useReducer:ny,useRef:bb,useState:function(){return ny(Sc)},useDebugValue:sy,useDeferredValue:function(i){var a=yr();return Tb(a,Mt.memoizedState,i)},useTransition:function(){var i=ny(Sc)[0],a=yr().memoizedState;return[i,a]},useMutableSource:db,useSyncExternalStore:fb,useId:Pb,unstable_isNewReconciler:!1},ST={readContext:mr,useCallback:Eb,useContext:mr,useEffect:iy,useImperativeHandle:Ab,useInsertionEffect:Sb,useLayoutEffect:kb,useMemo:Cb,useReducer:ry,useRef:bb,useState:function(){return ry(Sc)},useDebugValue:sy,useDeferredValue:function(i){var a=yr();return Mt===null?a.memoizedState=i:Tb(a,Mt.memoizedState,i)},useTransition:function(){var i=ry(Sc)[0],a=yr().memoizedState;return[i,a]},useMutableSource:db,useSyncExternalStore:fb,useId:Pb,unstable_isNewReconciler:!1};function Mr(i,a){if(i&&i.defaultProps){a=L({},a),i=i.defaultProps;for(var c in i)a[c]===void 0&&(a[c]=i[c]);return a}return a}function oy(i,a,c,g){a=i.memoizedState,c=c(g,a),c=c==null?a:L({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var jf={isMounted:function(i){return(i=i._reactInternals)?Ro(i)===i:!1},enqueueSetState:function(i,a,c){i=i._reactInternals;var g=Sn(),v=Ws(i),b=zi(g,v);b.payload=a,c!=null&&(b.callback=c),a=Hs(i,b,v),a!==null&&(Or(a,i,v,g),Lf(a,i,v))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var g=Sn(),v=Ws(i),b=zi(g,v);b.tag=1,b.payload=a,c!=null&&(b.callback=c),a=Hs(i,b,v),a!==null&&(Or(a,i,v,g),Lf(a,i,v))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=Sn(),g=Ws(i),v=zi(c,g);v.tag=2,a!=null&&(v.callback=a),a=Hs(i,v,g),a!==null&&(Or(a,i,g,c),Lf(a,i,g))}};function Mb(i,a,c,g,v,b,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,b,_):a.prototype&&a.prototype.isPureReactComponent?!uc(c,g)||!uc(v,b):!0}function Db(i,a,c){var g=!1,v=zs,b=a.contextType;return typeof b=="object"&&b!==null?b=mr(b):(v=Ln(a)?Io:ln.current,g=a.contextTypes,b=(g=g!=null)?bl(i,v):zs),a=new a(c,b),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=jf,i.stateNode=a,a._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=v,i.__reactInternalMemoizedMaskedChildContext=b),a}function Fb(i,a,c,g){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,g),a.state!==i&&jf.enqueueReplaceState(a,a.state,null)}function ay(i,a,c,g){var v=i.stateNode;v.props=c,v.state=i.memoizedState,v.refs={},qm(i);var b=a.contextType;typeof b=="object"&&b!==null?v.context=mr(b):(b=Ln(a)?Io:ln.current,v.context=bl(i,b)),v.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(oy(i,a,b,c),v.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&jf.enqueueReplaceState(v,v.state,null),If(i,c,v,g),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308)}function Tl(i,a){try{var c="",g=a;do c+=Ae(g),g=g.return;while(g);var v=c}catch(b){v=`
Error generating stack: `+b.message+`
`+b.stack}return{value:i,source:a,stack:v,digest:null}}function ly(i,a,c){return{value:i,source:null,stack:c??null,digest:a??null}}function uy(i,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var kT=typeof WeakMap=="function"?WeakMap:Map;function Ob(i,a,c){c=zi(-1,c),c.tag=3,c.payload={element:null};var g=a.value;return c.callback=function(){Gf||(Gf=!0,_y=g),uy(i,a)},c}function Nb(i,a,c){c=zi(-1,c),c.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var v=a.value;c.payload=function(){return g(v)},c.callback=function(){uy(i,a)}}var b=i.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(c.callback=function(){uy(i,a),typeof g!="function"&&($s===null?$s=new Set([this]):$s.add(this));var _=a.stack;this.componentDidCatch(a.value,{componentStack:_!==null?_:""})}),c}function zb(i,a,c){var g=i.pingCache;if(g===null){g=i.pingCache=new kT;var v=new Set;g.set(a,v)}else v=g.get(a),v===void 0&&(v=new Set,g.set(a,v));v.has(c)||(v.add(c),i=NT.bind(null,i,a,c),a.then(i,i))}function jb(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function Bb(i,a,c,g,v){return i.mode&1?(i.flags|=65536,i.lanes=v,i):(i===a?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=zi(-1,1),a.tag=2,Hs(c,a,1))),c.lanes|=1),i)}var _T=F.ReactCurrentOwner,In=!1;function xn(i,a,c,g){a.child=i===null?ob(a,null,c,g):_l(a,i.child,c,g)}function Hb(i,a,c,g,v){c=c.render;var b=a.ref;return El(a,v),g=ey(i,a,c,g,b,v),c=ty(),i!==null&&!In?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~v,ji(i,a,v)):(yt&&c&&Nm(a),a.flags|=1,xn(i,a,g,v),a.child)}function Ub(i,a,c,g,v){if(i===null){var b=c.type;return typeof b=="function"&&!Ly(b)&&b.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=b,$b(i,a,b,g,v)):(i=Jf(c.type,null,g,a,a.mode,v),i.ref=a.ref,i.return=a,a.child=i)}if(b=i.child,!(i.lanes&v)){var _=b.memoizedProps;if(c=c.compare,c=c!==null?c:uc,c(_,g)&&i.ref===a.ref)return ji(i,a,v)}return a.flags|=1,i=qs(b,g),i.ref=a.ref,i.return=a,a.child=i}function $b(i,a,c,g,v){if(i!==null){var b=i.memoizedProps;if(uc(b,g)&&i.ref===a.ref)if(In=!1,a.pendingProps=g=b,(i.lanes&v)!==0)i.flags&131072&&(In=!0);else return a.lanes=i.lanes,ji(i,a,v)}return cy(i,a,c,g,v)}function Vb(i,a,c){var g=a.pendingProps,v=g.children,b=i!==null?i.memoizedState:null;if(g.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Rl,Yn),Yn|=c;else{if(!(c&1073741824))return i=b!==null?b.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,ht(Rl,Yn),Yn|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=b!==null?b.baseLanes:c,ht(Rl,Yn),Yn|=g}else b!==null?(g=b.baseLanes|c,a.memoizedState=null):g=c,ht(Rl,Yn),Yn|=g;return xn(i,a,v,c),a.child}function Wb(i,a){var c=a.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function cy(i,a,c,g,v){var b=Ln(c)?Io:ln.current;return b=bl(a,b),El(a,v),c=ey(i,a,c,g,b,v),g=ty(),i!==null&&!In?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~v,ji(i,a,v)):(yt&&g&&Nm(a),a.flags|=1,xn(i,a,c,v),a.child)}function Gb(i,a,c,g,v){if(Ln(c)){var b=!0;kf(a)}else b=!1;if(El(a,v),a.stateNode===null)Hf(i,a),Db(a,c,g),ay(a,c,g,v),g=!0;else if(i===null){var _=a.stateNode,D=a.memoizedProps;_.props=D;var O=_.context,V=c.contextType;typeof V=="object"&&V!==null?V=mr(V):(V=Ln(c)?Io:ln.current,V=bl(a,V));var re=c.getDerivedStateFromProps,se=typeof re=="function"||typeof _.getSnapshotBeforeUpdate=="function";se||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(D!==g||O!==V)&&Fb(a,_,g,V),Bs=!1;var te=a.memoizedState;_.state=te,If(a,g,_,v),O=a.memoizedState,D!==g||te!==O||Rn.current||Bs?(typeof re=="function"&&(oy(a,c,re,g),O=a.memoizedState),(D=Bs||Mb(a,c,D,g,te,O,V))?(se||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=O),_.props=g,_.state=O,_.context=V,g=D):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{_=a.stateNode,lb(i,a),D=a.memoizedProps,V=a.type===a.elementType?D:Mr(a.type,D),_.props=V,se=a.pendingProps,te=_.context,O=c.contextType,typeof O=="object"&&O!==null?O=mr(O):(O=Ln(c)?Io:ln.current,O=bl(a,O));var fe=c.getDerivedStateFromProps;(re=typeof fe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(D!==se||te!==O)&&Fb(a,_,g,O),Bs=!1,te=a.memoizedState,_.state=te,If(a,g,_,v);var ye=a.memoizedState;D!==se||te!==ye||Rn.current||Bs?(typeof fe=="function"&&(oy(a,c,fe,g),ye=a.memoizedState),(V=Bs||Mb(a,c,V,g,te,ye,O)||!1)?(re||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(g,ye,O),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(g,ye,O)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||D===i.memoizedProps&&te===i.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&te===i.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=ye),_.props=g,_.state=ye,_.context=O,g=V):(typeof _.componentDidUpdate!="function"||D===i.memoizedProps&&te===i.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&te===i.memoizedState||(a.flags|=1024),g=!1)}return hy(i,a,c,g,b,v)}function hy(i,a,c,g,v,b){Wb(i,a);var _=(a.flags&128)!==0;if(!g&&!_)return v&&Q1(a,c,!1),ji(i,a,b);g=a.stateNode,_T.current=a;var D=_&&typeof c.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,i!==null&&_?(a.child=_l(a,i.child,null,b),a.child=_l(a,null,D,b)):xn(i,a,D,b),a.memoizedState=g.state,v&&Q1(a,c,!0),a.child}function qb(i){var a=i.stateNode;a.pendingContext?K1(i,a.pendingContext,a.pendingContext!==a.context):a.context&&K1(i,a.context,!1),Xm(i,a.containerInfo)}function Xb(i,a,c,g,v){return kl(),Hm(v),a.flags|=256,xn(i,a,c,g),a.child}var dy={dehydrated:null,treeContext:null,retryLane:0};function fy(i){return{baseLanes:i,cachePool:null,transitions:null}}function Kb(i,a,c){var g=a.pendingProps,v=vt.current,b=!1,_=(a.flags&128)!==0,D;if((D=_)||(D=i!==null&&i.memoizedState===null?!1:(v&2)!==0),D?(b=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(v|=1),ht(vt,v&1),i===null)return Bm(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(a.mode&1?i.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(_=g.children,i=g.fallback,b?(g=a.mode,b=a.child,_={mode:"hidden",children:_},!(g&1)&&b!==null?(b.childLanes=0,b.pendingProps=_):b=Zf(_,g,0,null),i=Uo(i,g,c,null),b.return=a,i.return=a,b.sibling=i,a.child=b,a.child.memoizedState=fy(c),a.memoizedState=dy,i):py(a,_));if(v=i.memoizedState,v!==null&&(D=v.dehydrated,D!==null))return AT(i,a,_,g,D,v,c);if(b){b=g.fallback,_=a.mode,v=i.child,D=v.sibling;var O={mode:"hidden",children:g.children};return!(_&1)&&a.child!==v?(g=a.child,g.childLanes=0,g.pendingProps=O,a.deletions=null):(g=qs(v,O),g.subtreeFlags=v.subtreeFlags&14680064),D!==null?b=qs(D,b):(b=Uo(b,_,c,null),b.flags|=2),b.return=a,g.return=a,g.sibling=b,a.child=g,g=b,b=a.child,_=i.child.memoizedState,_=_===null?fy(c):{baseLanes:_.baseLanes|c,cachePool:null,transitions:_.transitions},b.memoizedState=_,b.childLanes=i.childLanes&~c,a.memoizedState=dy,g}return b=i.child,i=b.sibling,g=qs(b,{mode:"visible",children:g.children}),!(a.mode&1)&&(g.lanes=c),g.return=a,g.sibling=null,i!==null&&(c=a.deletions,c===null?(a.deletions=[i],a.flags|=16):c.push(i)),a.child=g,a.memoizedState=null,g}function py(i,a){return a=Zf({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function Bf(i,a,c,g){return g!==null&&Hm(g),_l(a,i.child,null,c),i=py(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function AT(i,a,c,g,v,b,_){if(c)return a.flags&256?(a.flags&=-257,g=ly(Error(t(422))),Bf(i,a,_,g)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(b=g.fallback,v=a.mode,g=Zf({mode:"visible",children:g.children},v,0,null),b=Uo(b,v,_,null),b.flags|=2,g.return=a,b.return=a,g.sibling=b,a.child=g,a.mode&1&&_l(a,i.child,null,_),a.child.memoizedState=fy(_),a.memoizedState=dy,b);if(!(a.mode&1))return Bf(i,a,_,null);if(v.data==="$!"){if(g=v.nextSibling&&v.nextSibling.dataset,g)var D=g.dgst;return g=D,b=Error(t(419)),g=ly(b,g,void 0),Bf(i,a,_,g)}if(D=(_&i.childLanes)!==0,In||D){if(g=$t,g!==null){switch(_&-_){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=v&(g.suspendedLanes|_)?0:v,v!==0&&v!==b.retryLane&&(b.retryLane=v,Ni(i,v),Or(g,i,v,-1))}return Ry(),g=ly(Error(t(421))),Bf(i,a,_,g)}return v.data==="$?"?(a.flags|=128,a.child=i.child,a=zT.bind(null,i),v._reactRetry=a,null):(i=b.treeContext,Kn=Os(v.nextSibling),Xn=a,yt=!0,Ir=null,i!==null&&(pr[gr++]=Fi,pr[gr++]=Oi,pr[gr++]=Mo,Fi=i.id,Oi=i.overflow,Mo=a),a=py(a,g.children),a.flags|=4096,a)}function Yb(i,a,c){i.lanes|=a;var g=i.alternate;g!==null&&(g.lanes|=a),Wm(i.return,a,c)}function gy(i,a,c,g,v){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:c,tailMode:v}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=g,b.tail=c,b.tailMode=v)}function Qb(i,a,c){var g=a.pendingProps,v=g.revealOrder,b=g.tail;if(xn(i,a,g.children,c),g=vt.current,g&2)g=g&1|2,a.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Yb(i,c,a);else if(i.tag===19)Yb(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(ht(vt,g),!(a.mode&1))a.memoizedState=null;else switch(v){case"forwards":for(c=a.child,v=null;c!==null;)i=c.alternate,i!==null&&Mf(i)===null&&(v=c),c=c.sibling;c=v,c===null?(v=a.child,a.child=null):(v=c.sibling,c.sibling=null),gy(a,!1,v,c,b);break;case"backwards":for(c=null,v=a.child,a.child=null;v!==null;){if(i=v.alternate,i!==null&&Mf(i)===null){a.child=v;break}i=v.sibling,v.sibling=c,c=v,v=i}gy(a,!0,c,null,b);break;case"together":gy(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Hf(i,a){!(a.mode&1)&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function ji(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),zo|=a.lanes,!(c&a.childLanes))return null;if(i!==null&&a.child!==i.child)throw Error(t(153));if(a.child!==null){for(i=a.child,c=qs(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=qs(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function ET(i,a,c){switch(a.tag){case 3:qb(a),kl();break;case 5:hb(a);break;case 1:Ln(a.type)&&kf(a);break;case 4:Xm(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,v=a.memoizedProps.value;ht(Pf,g._currentValue),g._currentValue=v;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(ht(vt,vt.current&1),a.flags|=128,null):c&a.child.childLanes?Kb(i,a,c):(ht(vt,vt.current&1),i=ji(i,a,c),i!==null?i.sibling:null);ht(vt,vt.current&1);break;case 19:if(g=(c&a.childLanes)!==0,i.flags&128){if(g)return Qb(i,a,c);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ht(vt,vt.current),g)break;return null;case 22:case 23:return a.lanes=0,Vb(i,a,c)}return ji(i,a,c)}var Jb,my,Zb,ex;Jb=function(i,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},my=function(){},Zb=function(i,a,c,g){var v=i.memoizedProps;if(v!==g){i=a.stateNode,Oo(ai.current);var b=null;switch(c){case"input":v=ct(i,v),g=ct(i,g),b=[];break;case"select":v=L({},v,{value:void 0}),g=L({},g,{value:void 0}),b=[];break;case"textarea":v=To(i,v),g=To(i,g),b=[];break;default:typeof v.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=bf)}Kt(c,g);var _;c=null;for(V in v)if(!g.hasOwnProperty(V)&&v.hasOwnProperty(V)&&v[V]!=null)if(V==="style"){var D=v[V];for(_ in D)D.hasOwnProperty(_)&&(c||(c={}),c[_]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(s.hasOwnProperty(V)?b||(b=[]):(b=b||[]).push(V,null));for(V in g){var O=g[V];if(D=v!=null?v[V]:void 0,g.hasOwnProperty(V)&&O!==D&&(O!=null||D!=null))if(V==="style")if(D){for(_ in D)!D.hasOwnProperty(_)||O&&O.hasOwnProperty(_)||(c||(c={}),c[_]="");for(_ in O)O.hasOwnProperty(_)&&D[_]!==O[_]&&(c||(c={}),c[_]=O[_])}else c||(b||(b=[]),b.push(V,c)),c=O;else V==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,D=D?D.__html:void 0,O!=null&&D!==O&&(b=b||[]).push(V,O)):V==="children"?typeof O!="string"&&typeof O!="number"||(b=b||[]).push(V,""+O):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(s.hasOwnProperty(V)?(O!=null&&V==="onScroll"&&pt("scroll",i),b||D===O||(b=[])):(b=b||[]).push(V,O))}c&&(b=b||[]).push("style",c);var V=b;(a.updateQueue=V)&&(a.flags|=4)}},ex=function(i,a,c,g){c!==g&&(a.flags|=4)};function _c(i,a){if(!yt)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function cn(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,g=0;if(a)for(var v=i.child;v!==null;)c|=v.lanes|v.childLanes,g|=v.subtreeFlags&14680064,g|=v.flags&14680064,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)c|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=g,i.childLanes=c,a}function CT(i,a,c){var g=a.pendingProps;switch(zm(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(a),null;case 1:return Ln(a.type)&&Sf(),cn(a),null;case 3:return g=a.stateNode,Cl(),gt(Rn),gt(ln),Qm(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Cf(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Ir!==null&&(Cy(Ir),Ir=null))),my(i,a),cn(a),null;case 5:Km(a);var v=Oo(wc.current);if(c=a.type,i!==null&&a.stateNode!=null)Zb(i,a,c,g,v),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(t(166));return cn(a),null}if(i=Oo(ai.current),Cf(a)){g=a.stateNode,c=a.type;var b=a.memoizedProps;switch(g[oi]=a,g[pc]=b,i=(a.mode&1)!==0,c){case"dialog":pt("cancel",g),pt("close",g);break;case"iframe":case"object":case"embed":pt("load",g);break;case"video":case"audio":for(v=0;v<hc.length;v++)pt(hc[v],g);break;case"source":pt("error",g);break;case"img":case"image":case"link":pt("error",g),pt("load",g);break;case"details":pt("toggle",g);break;case"input":St(g,b),pt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!b.multiple},pt("invalid",g);break;case"textarea":ol(g,b),pt("invalid",g)}Kt(c,b),v=null;for(var _ in b)if(b.hasOwnProperty(_)){var D=b[_];_==="children"?typeof D=="string"?g.textContent!==D&&(b.suppressHydrationWarning!==!0&&wf(g.textContent,D,i),v=["children",D]):typeof D=="number"&&g.textContent!==""+D&&(b.suppressHydrationWarning!==!0&&wf(g.textContent,D,i),v=["children",""+D]):s.hasOwnProperty(_)&&D!=null&&_==="onScroll"&&pt("scroll",g)}switch(c){case"input":bn(g),ni(g,b,!0);break;case"textarea":bn(g),ll(g);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(g.onclick=bf)}g=v,a.updateQueue=g,g!==null&&(a.flags|=4)}else{_=v.nodeType===9?v:v.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=K(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=_.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=_.createElement(c,{is:g.is}):(i=_.createElement(c),c==="select"&&(_=i,g.multiple?_.multiple=!0:g.size&&(_.size=g.size))):i=_.createElementNS(i,c),i[oi]=a,i[pc]=g,Jb(i,a,!1,!1),a.stateNode=i;e:{switch(_=ii(c,g),c){case"dialog":pt("cancel",i),pt("close",i),v=g;break;case"iframe":case"object":case"embed":pt("load",i),v=g;break;case"video":case"audio":for(v=0;v<hc.length;v++)pt(hc[v],i);v=g;break;case"source":pt("error",i),v=g;break;case"img":case"image":case"link":pt("error",i),pt("load",i),v=g;break;case"details":pt("toggle",i),v=g;break;case"input":St(i,g),v=ct(i,g),pt("invalid",i);break;case"option":v=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},v=L({},g,{value:void 0}),pt("invalid",i);break;case"textarea":ol(i,g),v=To(i,g),pt("invalid",i);break;default:v=g}Kt(c,v),D=v;for(b in D)if(D.hasOwnProperty(b)){var O=D[b];b==="style"?Ps(i,O):b==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Oe(i,O)):b==="children"?typeof O=="string"?(c!=="textarea"||O!=="")&&He(i,O):typeof O=="number"&&He(i,""+O):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(s.hasOwnProperty(b)?O!=null&&b==="onScroll"&&pt("scroll",i):O!=null&&R(i,b,O,_))}switch(c){case"input":bn(i),ni(i,g,!1);break;case"textarea":bn(i),ll(i);break;case"option":g.value!=null&&i.setAttribute("value",""+Ee(g.value));break;case"select":i.multiple=!!g.multiple,b=g.value,b!=null?Wn(i,!!g.multiple,b,!1):g.defaultValue!=null&&Wn(i,!!g.multiple,g.defaultValue,!0);break;default:typeof v.onClick=="function"&&(i.onclick=bf)}switch(c){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return cn(a),null;case 6:if(i&&a.stateNode!=null)ex(i,a,i.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(t(166));if(c=Oo(wc.current),Oo(ai.current),Cf(a)){if(g=a.stateNode,c=a.memoizedProps,g[oi]=a,(b=g.nodeValue!==c)&&(i=Xn,i!==null))switch(i.tag){case 3:wf(g.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&wf(g.nodeValue,c,(i.mode&1)!==0)}b&&(a.flags|=4)}else g=(c.nodeType===9?c:c.ownerDocument).createTextNode(g),g[oi]=a,a.stateNode=g}return cn(a),null;case 13:if(gt(vt),g=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(yt&&Kn!==null&&a.mode&1&&!(a.flags&128))rb(),kl(),a.flags|=98560,b=!1;else if(b=Cf(a),g!==null&&g.dehydrated!==null){if(i===null){if(!b)throw Error(t(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(t(317));b[oi]=a}else kl(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;cn(a),b=!1}else Ir!==null&&(Cy(Ir),Ir=null),b=!0;if(!b)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(a.child.flags|=8192,a.mode&1&&(i===null||vt.current&1?Dt===0&&(Dt=3):Ry())),a.updateQueue!==null&&(a.flags|=4),cn(a),null);case 4:return Cl(),my(i,a),i===null&&dc(a.stateNode.containerInfo),cn(a),null;case 10:return Vm(a.type._context),cn(a),null;case 17:return Ln(a.type)&&Sf(),cn(a),null;case 19:if(gt(vt),b=a.memoizedState,b===null)return cn(a),null;if(g=(a.flags&128)!==0,_=b.rendering,_===null)if(g)_c(b,!1);else{if(Dt!==0||i!==null&&i.flags&128)for(i=a.child;i!==null;){if(_=Mf(i),_!==null){for(a.flags|=128,_c(b,!1),g=_.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=c,c=a.child;c!==null;)b=c,i=g,b.flags&=14680066,_=b.alternate,_===null?(b.childLanes=0,b.lanes=i,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=_.childLanes,b.lanes=_.lanes,b.child=_.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=_.memoizedProps,b.memoizedState=_.memoizedState,b.updateQueue=_.updateQueue,b.type=_.type,i=_.dependencies,b.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return ht(vt,vt.current&1|2),a.child}i=i.sibling}b.tail!==null&&At()>Ll&&(a.flags|=128,g=!0,_c(b,!1),a.lanes=4194304)}else{if(!g)if(i=Mf(_),i!==null){if(a.flags|=128,g=!0,c=i.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),_c(b,!0),b.tail===null&&b.tailMode==="hidden"&&!_.alternate&&!yt)return cn(a),null}else 2*At()-b.renderingStartTime>Ll&&c!==1073741824&&(a.flags|=128,g=!0,_c(b,!1),a.lanes=4194304);b.isBackwards?(_.sibling=a.child,a.child=_):(c=b.last,c!==null?c.sibling=_:a.child=_,b.last=_)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=At(),a.sibling=null,c=vt.current,ht(vt,g?c&1|2:c&1),a):(cn(a),null);case 22:case 23:return Py(),g=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(a.flags|=8192),g&&a.mode&1?Yn&1073741824&&(cn(a),a.subtreeFlags&6&&(a.flags|=8192)):cn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function TT(i,a){switch(zm(a),a.tag){case 1:return Ln(a.type)&&Sf(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Cl(),gt(Rn),gt(ln),Qm(),i=a.flags,i&65536&&!(i&128)?(a.flags=i&-65537|128,a):null;case 5:return Km(a),null;case 13:if(gt(vt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(t(340));kl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return gt(vt),null;case 4:return Cl(),null;case 10:return Vm(a.type._context),null;case 22:case 23:return Py(),null;case 24:return null;default:return null}}var Uf=!1,hn=!1,PT=typeof WeakSet=="function"?WeakSet:Set,me=null;function Pl(i,a){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(g){kt(i,a,g)}else c.current=null}function yy(i,a,c){try{c()}catch(g){kt(i,a,g)}}var tx=!1;function RT(i,a){if(Pm=lf,i=M1(),xm(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var g=c.getSelection&&c.getSelection();if(g&&g.rangeCount!==0){c=g.anchorNode;var v=g.anchorOffset,b=g.focusNode;g=g.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var _=0,D=-1,O=-1,V=0,re=0,se=i,te=null;t:for(;;){for(var fe;se!==c||v!==0&&se.nodeType!==3||(D=_+v),se!==b||g!==0&&se.nodeType!==3||(O=_+g),se.nodeType===3&&(_+=se.nodeValue.length),(fe=se.firstChild)!==null;)te=se,se=fe;for(;;){if(se===i)break t;if(te===c&&++V===v&&(D=_),te===b&&++re===g&&(O=_),(fe=se.nextSibling)!==null)break;se=te,te=se.parentNode}se=fe}c=D===-1||O===-1?null:{start:D,end:O}}else c=null}c=c||{start:0,end:0}}else c=null;for(Rm={focusedElem:i,selectionRange:c},lf=!1,me=a;me!==null;)if(a=me,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,me=i;else for(;me!==null;){a=me;try{var ye=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var be=ye.memoizedProps,Et=ye.memoizedState,H=a.stateNode,j=H.getSnapshotBeforeUpdate(a.elementType===a.type?be:Mr(a.type,be),Et);H.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var U=a.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ue){kt(a,a.return,ue)}if(i=a.sibling,i!==null){i.return=a.return,me=i;break}me=a.return}return ye=tx,tx=!1,ye}function Ac(i,a,c){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var v=g=g.next;do{if((v.tag&i)===i){var b=v.destroy;v.destroy=void 0,b!==void 0&&yy(a,c,b)}v=v.next}while(v!==g)}}function $f(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&i)===i){var g=c.create;c.destroy=g()}c=c.next}while(c!==a)}}function vy(i){var a=i.ref;if(a!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof a=="function"?a(i):a.current=i}}function nx(i){var a=i.alternate;a!==null&&(i.alternate=null,nx(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[oi],delete a[pc],delete a[Dm],delete a[dT],delete a[fT])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function rx(i){return i.tag===5||i.tag===3||i.tag===4}function ix(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||rx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function wy(i,a,c){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(i,a):c.insertBefore(i,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(i,c)):(a=c,a.appendChild(i)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=bf));else if(g!==4&&(i=i.child,i!==null))for(wy(i,a,c),i=i.sibling;i!==null;)wy(i,a,c),i=i.sibling}function by(i,a,c){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(by(i,a,c),i=i.sibling;i!==null;)by(i,a,c),i=i.sibling}var Yt=null,Dr=!1;function Us(i,a,c){for(c=c.child;c!==null;)sx(i,a,c),c=c.sibling}function sx(i,a,c){if(si&&typeof si.onCommitFiberUnmount=="function")try{si.onCommitFiberUnmount(tf,c)}catch{}switch(c.tag){case 5:hn||Pl(c,a);case 6:var g=Yt,v=Dr;Yt=null,Us(i,a,c),Yt=g,Dr=v,Yt!==null&&(Dr?(i=Yt,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):Yt.removeChild(c.stateNode));break;case 18:Yt!==null&&(Dr?(i=Yt,c=c.stateNode,i.nodeType===8?Mm(i.parentNode,c):i.nodeType===1&&Mm(i,c),rc(i)):Mm(Yt,c.stateNode));break;case 4:g=Yt,v=Dr,Yt=c.stateNode.containerInfo,Dr=!0,Us(i,a,c),Yt=g,Dr=v;break;case 0:case 11:case 14:case 15:if(!hn&&(g=c.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){v=g=g.next;do{var b=v,_=b.destroy;b=b.tag,_!==void 0&&(b&2||b&4)&&yy(c,a,_),v=v.next}while(v!==g)}Us(i,a,c);break;case 1:if(!hn&&(Pl(c,a),g=c.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=c.memoizedProps,g.state=c.memoizedState,g.componentWillUnmount()}catch(D){kt(c,a,D)}Us(i,a,c);break;case 21:Us(i,a,c);break;case 22:c.mode&1?(hn=(g=hn)||c.memoizedState!==null,Us(i,a,c),hn=g):Us(i,a,c);break;default:Us(i,a,c)}}function ox(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new PT),a.forEach(function(g){var v=jT.bind(null,i,g);c.has(g)||(c.add(g),g.then(v,v))})}}function Fr(i,a){var c=a.deletions;if(c!==null)for(var g=0;g<c.length;g++){var v=c[g];try{var b=i,_=a,D=_;e:for(;D!==null;){switch(D.tag){case 5:Yt=D.stateNode,Dr=!1;break e;case 3:Yt=D.stateNode.containerInfo,Dr=!0;break e;case 4:Yt=D.stateNode.containerInfo,Dr=!0;break e}D=D.return}if(Yt===null)throw Error(t(160));sx(b,_,v),Yt=null,Dr=!1;var O=v.alternate;O!==null&&(O.return=null),v.return=null}catch(V){kt(v,a,V)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)ax(a,i),a=a.sibling}function ax(i,a){var c=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Fr(a,i),ui(i),g&4){try{Ac(3,i,i.return),$f(3,i)}catch(be){kt(i,i.return,be)}try{Ac(5,i,i.return)}catch(be){kt(i,i.return,be)}}break;case 1:Fr(a,i),ui(i),g&512&&c!==null&&Pl(c,c.return);break;case 5:if(Fr(a,i),ui(i),g&512&&c!==null&&Pl(c,c.return),i.flags&32){var v=i.stateNode;try{He(v,"")}catch(be){kt(i,i.return,be)}}if(g&4&&(v=i.stateNode,v!=null)){var b=i.memoizedProps,_=c!==null?c.memoizedProps:b,D=i.type,O=i.updateQueue;if(i.updateQueue=null,O!==null)try{D==="input"&&b.type==="radio"&&b.name!=null&&mt(v,b),ii(D,_);var V=ii(D,b);for(_=0;_<O.length;_+=2){var re=O[_],se=O[_+1];re==="style"?Ps(v,se):re==="dangerouslySetInnerHTML"?Oe(v,se):re==="children"?He(v,se):R(v,re,se,V)}switch(D){case"input":Vn(v,b);break;case"textarea":al(v,b);break;case"select":var te=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!b.multiple;var fe=b.value;fe!=null?Wn(v,!!b.multiple,fe,!1):te!==!!b.multiple&&(b.defaultValue!=null?Wn(v,!!b.multiple,b.defaultValue,!0):Wn(v,!!b.multiple,b.multiple?[]:"",!1))}v[pc]=b}catch(be){kt(i,i.return,be)}}break;case 6:if(Fr(a,i),ui(i),g&4){if(i.stateNode===null)throw Error(t(162));v=i.stateNode,b=i.memoizedProps;try{v.nodeValue=b}catch(be){kt(i,i.return,be)}}break;case 3:if(Fr(a,i),ui(i),g&4&&c!==null&&c.memoizedState.isDehydrated)try{rc(a.containerInfo)}catch(be){kt(i,i.return,be)}break;case 4:Fr(a,i),ui(i);break;case 13:Fr(a,i),ui(i),v=i.child,v.flags&8192&&(b=v.memoizedState!==null,v.stateNode.isHidden=b,!b||v.alternate!==null&&v.alternate.memoizedState!==null||(ky=At())),g&4&&ox(i);break;case 22:if(re=c!==null&&c.memoizedState!==null,i.mode&1?(hn=(V=hn)||re,Fr(a,i),hn=V):Fr(a,i),ui(i),g&8192){if(V=i.memoizedState!==null,(i.stateNode.isHidden=V)&&!re&&i.mode&1)for(me=i,re=i.child;re!==null;){for(se=me=re;me!==null;){switch(te=me,fe=te.child,te.tag){case 0:case 11:case 14:case 15:Ac(4,te,te.return);break;case 1:Pl(te,te.return);var ye=te.stateNode;if(typeof ye.componentWillUnmount=="function"){g=te,c=te.return;try{a=g,ye.props=a.memoizedProps,ye.state=a.memoizedState,ye.componentWillUnmount()}catch(be){kt(g,c,be)}}break;case 5:Pl(te,te.return);break;case 22:if(te.memoizedState!==null){cx(se);continue}}fe!==null?(fe.return=te,me=fe):cx(se)}re=re.sibling}e:for(re=null,se=i;;){if(se.tag===5){if(re===null){re=se;try{v=se.stateNode,V?(b=v.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(D=se.stateNode,O=se.memoizedProps.style,_=O!=null&&O.hasOwnProperty("display")?O.display:null,D.style.display=fr("display",_))}catch(be){kt(i,i.return,be)}}}else if(se.tag===6){if(re===null)try{se.stateNode.nodeValue=V?"":se.memoizedProps}catch(be){kt(i,i.return,be)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===i)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===i)break e;for(;se.sibling===null;){if(se.return===null||se.return===i)break e;re===se&&(re=null),se=se.return}re===se&&(re=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Fr(a,i),ui(i),g&4&&ox(i);break;case 21:break;default:Fr(a,i),ui(i)}}function ui(i){var a=i.flags;if(a&2){try{e:{for(var c=i.return;c!==null;){if(rx(c)){var g=c;break e}c=c.return}throw Error(t(160))}switch(g.tag){case 5:var v=g.stateNode;g.flags&32&&(He(v,""),g.flags&=-33);var b=ix(i);by(i,b,v);break;case 3:case 4:var _=g.stateNode.containerInfo,D=ix(i);wy(i,D,_);break;default:throw Error(t(161))}}catch(O){kt(i,i.return,O)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function LT(i,a,c){me=i,lx(i)}function lx(i,a,c){for(var g=(i.mode&1)!==0;me!==null;){var v=me,b=v.child;if(v.tag===22&&g){var _=v.memoizedState!==null||Uf;if(!_){var D=v.alternate,O=D!==null&&D.memoizedState!==null||hn;D=Uf;var V=hn;if(Uf=_,(hn=O)&&!V)for(me=v;me!==null;)_=me,O=_.child,_.tag===22&&_.memoizedState!==null?hx(v):O!==null?(O.return=_,me=O):hx(v);for(;b!==null;)me=b,lx(b),b=b.sibling;me=v,Uf=D,hn=V}ux(i)}else v.subtreeFlags&8772&&b!==null?(b.return=v,me=b):ux(i)}}function ux(i){for(;me!==null;){var a=me;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:hn||$f(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!hn)if(c===null)g.componentDidMount();else{var v=a.elementType===a.type?c.memoizedProps:Mr(a.type,c.memoizedProps);g.componentDidUpdate(v,c.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var b=a.updateQueue;b!==null&&cb(a,b,g);break;case 3:var _=a.updateQueue;if(_!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}cb(a,_,c)}break;case 5:var D=a.stateNode;if(c===null&&a.flags&4){c=D;var O=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&c.focus();break;case"img":O.src&&(c.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var V=a.alternate;if(V!==null){var re=V.memoizedState;if(re!==null){var se=re.dehydrated;se!==null&&rc(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}hn||a.flags&512&&vy(a)}catch(te){kt(a,a.return,te)}}if(a===i){me=null;break}if(c=a.sibling,c!==null){c.return=a.return,me=c;break}me=a.return}}function cx(i){for(;me!==null;){var a=me;if(a===i){me=null;break}var c=a.sibling;if(c!==null){c.return=a.return,me=c;break}me=a.return}}function hx(i){for(;me!==null;){var a=me;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{$f(4,a)}catch(O){kt(a,c,O)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var v=a.return;try{g.componentDidMount()}catch(O){kt(a,v,O)}}var b=a.return;try{vy(a)}catch(O){kt(a,b,O)}break;case 5:var _=a.return;try{vy(a)}catch(O){kt(a,_,O)}}}catch(O){kt(a,a.return,O)}if(a===i){me=null;break}var D=a.sibling;if(D!==null){D.return=a.return,me=D;break}me=a.return}}var IT=Math.ceil,Vf=F.ReactCurrentDispatcher,xy=F.ReactCurrentOwner,vr=F.ReactCurrentBatchConfig,Ke=0,$t=null,Pt=null,Qt=0,Yn=0,Rl=Ns(0),Dt=0,Ec=null,zo=0,Wf=0,Sy=0,Cc=null,Mn=null,ky=0,Ll=1/0,Bi=null,Gf=!1,_y=null,$s=null,qf=!1,Vs=null,Xf=0,Tc=0,Ay=null,Kf=-1,Yf=0;function Sn(){return Ke&6?At():Kf!==-1?Kf:Kf=At()}function Ws(i){return i.mode&1?Ke&2&&Qt!==0?Qt&-Qt:gT.transition!==null?(Yf===0&&(Yf=i1()),Yf):(i=et,i!==0||(i=window.event,i=i===void 0?16:f1(i.type)),i):1}function Or(i,a,c,g){if(50<Tc)throw Tc=0,Ay=null,Error(t(185));Ju(i,c,g),(!(Ke&2)||i!==$t)&&(i===$t&&(!(Ke&2)&&(Wf|=c),Dt===4&&Gs(i,Qt)),Dn(i,g),c===1&&Ke===0&&!(a.mode&1)&&(Ll=At()+500,_f&&js()))}function Dn(i,a){var c=i.callbackNode;gC(i,a);var g=sf(i,i===$t?Qt:0);if(g===0)c!==null&&t1(c),i.callbackNode=null,i.callbackPriority=0;else if(a=g&-g,i.callbackPriority!==a){if(c!=null&&t1(c),a===1)i.tag===0?pT(fx.bind(null,i)):J1(fx.bind(null,i)),cT(function(){!(Ke&6)&&js()}),c=null;else{switch(s1(g)){case 1:c=im;break;case 4:c=n1;break;case 16:c=ef;break;case 536870912:c=r1;break;default:c=ef}c=xx(c,dx.bind(null,i))}i.callbackPriority=a,i.callbackNode=c}}function dx(i,a){if(Kf=-1,Yf=0,Ke&6)throw Error(t(327));var c=i.callbackNode;if(Il()&&i.callbackNode!==c)return null;var g=sf(i,i===$t?Qt:0);if(g===0)return null;if(g&30||g&i.expiredLanes||a)a=Qf(i,g);else{a=g;var v=Ke;Ke|=2;var b=gx();($t!==i||Qt!==a)&&(Bi=null,Ll=At()+500,Bo(i,a));do try{FT();break}catch(D){px(i,D)}while(!0);$m(),Vf.current=b,Ke=v,Pt!==null?a=0:($t=null,Qt=0,a=Dt)}if(a!==0){if(a===2&&(v=sm(i),v!==0&&(g=v,a=Ey(i,v))),a===1)throw c=Ec,Bo(i,0),Gs(i,g),Dn(i,At()),c;if(a===6)Gs(i,g);else{if(v=i.current.alternate,!(g&30)&&!MT(v)&&(a=Qf(i,g),a===2&&(b=sm(i),b!==0&&(g=b,a=Ey(i,b))),a===1))throw c=Ec,Bo(i,0),Gs(i,g),Dn(i,At()),c;switch(i.finishedWork=v,i.finishedLanes=g,a){case 0:case 1:throw Error(t(345));case 2:Ho(i,Mn,Bi);break;case 3:if(Gs(i,g),(g&130023424)===g&&(a=ky+500-At(),10<a)){if(sf(i,0)!==0)break;if(v=i.suspendedLanes,(v&g)!==g){Sn(),i.pingedLanes|=i.suspendedLanes&v;break}i.timeoutHandle=Im(Ho.bind(null,i,Mn,Bi),a);break}Ho(i,Mn,Bi);break;case 4:if(Gs(i,g),(g&4194240)===g)break;for(a=i.eventTimes,v=-1;0<g;){var _=31-Rr(g);b=1<<_,_=a[_],_>v&&(v=_),g&=~b}if(g=v,g=At()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*IT(g/1960))-g,10<g){i.timeoutHandle=Im(Ho.bind(null,i,Mn,Bi),g);break}Ho(i,Mn,Bi);break;case 5:Ho(i,Mn,Bi);break;default:throw Error(t(329))}}}return Dn(i,At()),i.callbackNode===c?dx.bind(null,i):null}function Ey(i,a){var c=Cc;return i.current.memoizedState.isDehydrated&&(Bo(i,a).flags|=256),i=Qf(i,a),i!==2&&(a=Mn,Mn=c,a!==null&&Cy(a)),i}function Cy(i){Mn===null?Mn=i:Mn.push.apply(Mn,i)}function MT(i){for(var a=i;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var g=0;g<c.length;g++){var v=c[g],b=v.getSnapshot;v=v.value;try{if(!Lr(b(),v))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Gs(i,a){for(a&=~Sy,a&=~Wf,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var c=31-Rr(a),g=1<<c;i[c]=-1,a&=~g}}function fx(i){if(Ke&6)throw Error(t(327));Il();var a=sf(i,0);if(!(a&1))return Dn(i,At()),null;var c=Qf(i,a);if(i.tag!==0&&c===2){var g=sm(i);g!==0&&(a=g,c=Ey(i,g))}if(c===1)throw c=Ec,Bo(i,0),Gs(i,a),Dn(i,At()),c;if(c===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Ho(i,Mn,Bi),Dn(i,At()),null}function Ty(i,a){var c=Ke;Ke|=1;try{return i(a)}finally{Ke=c,Ke===0&&(Ll=At()+500,_f&&js())}}function jo(i){Vs!==null&&Vs.tag===0&&!(Ke&6)&&Il();var a=Ke;Ke|=1;var c=vr.transition,g=et;try{if(vr.transition=null,et=1,i)return i()}finally{et=g,vr.transition=c,Ke=a,!(Ke&6)&&js()}}function Py(){Yn=Rl.current,gt(Rl)}function Bo(i,a){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,uT(c)),Pt!==null)for(c=Pt.return;c!==null;){var g=c;switch(zm(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Sf();break;case 3:Cl(),gt(Rn),gt(ln),Qm();break;case 5:Km(g);break;case 4:Cl();break;case 13:gt(vt);break;case 19:gt(vt);break;case 10:Vm(g.type._context);break;case 22:case 23:Py()}c=c.return}if($t=i,Pt=i=qs(i.current,null),Qt=Yn=a,Dt=0,Ec=null,Sy=Wf=zo=0,Mn=Cc=null,Fo!==null){for(a=0;a<Fo.length;a++)if(c=Fo[a],g=c.interleaved,g!==null){c.interleaved=null;var v=g.next,b=c.pending;if(b!==null){var _=b.next;b.next=v,g.next=_}c.pending=g}Fo=null}return i}function px(i,a){do{var c=Pt;try{if($m(),Df.current=zf,Ff){for(var g=wt.memoizedState;g!==null;){var v=g.queue;v!==null&&(v.pending=null),g=g.next}Ff=!1}if(No=0,Ut=Mt=wt=null,bc=!1,xc=0,xy.current=null,c===null||c.return===null){Dt=1,Ec=a,Pt=null;break}e:{var b=i,_=c.return,D=c,O=a;if(a=Qt,D.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var V=O,re=D,se=re.tag;if(!(re.mode&1)&&(se===0||se===11||se===15)){var te=re.alternate;te?(re.updateQueue=te.updateQueue,re.memoizedState=te.memoizedState,re.lanes=te.lanes):(re.updateQueue=null,re.memoizedState=null)}var fe=jb(_);if(fe!==null){fe.flags&=-257,Bb(fe,_,D,b,a),fe.mode&1&&zb(b,V,a),a=fe,O=V;var ye=a.updateQueue;if(ye===null){var be=new Set;be.add(O),a.updateQueue=be}else ye.add(O);break e}else{if(!(a&1)){zb(b,V,a),Ry();break e}O=Error(t(426))}}else if(yt&&D.mode&1){var Et=jb(_);if(Et!==null){!(Et.flags&65536)&&(Et.flags|=256),Bb(Et,_,D,b,a),Hm(Tl(O,D));break e}}b=O=Tl(O,D),Dt!==4&&(Dt=2),Cc===null?Cc=[b]:Cc.push(b),b=_;do{switch(b.tag){case 3:b.flags|=65536,a&=-a,b.lanes|=a;var H=Ob(b,O,a);ub(b,H);break e;case 1:D=O;var j=b.type,U=b.stateNode;if(!(b.flags&128)&&(typeof j.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&($s===null||!$s.has(U)))){b.flags|=65536,a&=-a,b.lanes|=a;var ue=Nb(b,D,a);ub(b,ue);break e}}b=b.return}while(b!==null)}yx(c)}catch(xe){a=xe,Pt===c&&c!==null&&(Pt=c=c.return);continue}break}while(!0)}function gx(){var i=Vf.current;return Vf.current=zf,i===null?zf:i}function Ry(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),$t===null||!(zo&268435455)&&!(Wf&268435455)||Gs($t,Qt)}function Qf(i,a){var c=Ke;Ke|=2;var g=gx();($t!==i||Qt!==a)&&(Bi=null,Bo(i,a));do try{DT();break}catch(v){px(i,v)}while(!0);if($m(),Ke=c,Vf.current=g,Pt!==null)throw Error(t(261));return $t=null,Qt=0,Dt}function DT(){for(;Pt!==null;)mx(Pt)}function FT(){for(;Pt!==null&&!oC();)mx(Pt)}function mx(i){var a=bx(i.alternate,i,Yn);i.memoizedProps=i.pendingProps,a===null?yx(i):Pt=a,xy.current=null}function yx(i){var a=i;do{var c=a.alternate;if(i=a.return,a.flags&32768){if(c=TT(c,a),c!==null){c.flags&=32767,Pt=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Dt=6,Pt=null;return}}else if(c=CT(c,a,Yn),c!==null){Pt=c;return}if(a=a.sibling,a!==null){Pt=a;return}Pt=a=i}while(a!==null);Dt===0&&(Dt=5)}function Ho(i,a,c){var g=et,v=vr.transition;try{vr.transition=null,et=1,OT(i,a,c,g)}finally{vr.transition=v,et=g}return null}function OT(i,a,c,g){do Il();while(Vs!==null);if(Ke&6)throw Error(t(327));c=i.finishedWork;var v=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var b=c.lanes|c.childLanes;if(mC(i,b),i===$t&&(Pt=$t=null,Qt=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||qf||(qf=!0,xx(ef,function(){return Il(),null})),b=(c.flags&15990)!==0,c.subtreeFlags&15990||b){b=vr.transition,vr.transition=null;var _=et;et=1;var D=Ke;Ke|=4,xy.current=null,RT(i,c),ax(c,i),nT(Rm),lf=!!Pm,Rm=Pm=null,i.current=c,LT(c),aC(),Ke=D,et=_,vr.transition=b}else i.current=c;if(qf&&(qf=!1,Vs=i,Xf=v),b=i.pendingLanes,b===0&&($s=null),cC(c.stateNode),Dn(i,At()),a!==null)for(g=i.onRecoverableError,c=0;c<a.length;c++)v=a[c],g(v.value,{componentStack:v.stack,digest:v.digest});if(Gf)throw Gf=!1,i=_y,_y=null,i;return Xf&1&&i.tag!==0&&Il(),b=i.pendingLanes,b&1?i===Ay?Tc++:(Tc=0,Ay=i):Tc=0,js(),null}function Il(){if(Vs!==null){var i=s1(Xf),a=vr.transition,c=et;try{if(vr.transition=null,et=16>i?16:i,Vs===null)var g=!1;else{if(i=Vs,Vs=null,Xf=0,Ke&6)throw Error(t(331));var v=Ke;for(Ke|=4,me=i.current;me!==null;){var b=me,_=b.child;if(me.flags&16){var D=b.deletions;if(D!==null){for(var O=0;O<D.length;O++){var V=D[O];for(me=V;me!==null;){var re=me;switch(re.tag){case 0:case 11:case 15:Ac(8,re,b)}var se=re.child;if(se!==null)se.return=re,me=se;else for(;me!==null;){re=me;var te=re.sibling,fe=re.return;if(nx(re),re===V){me=null;break}if(te!==null){te.return=fe,me=te;break}me=fe}}}var ye=b.alternate;if(ye!==null){var be=ye.child;if(be!==null){ye.child=null;do{var Et=be.sibling;be.sibling=null,be=Et}while(be!==null)}}me=b}}if(b.subtreeFlags&2064&&_!==null)_.return=b,me=_;else e:for(;me!==null;){if(b=me,b.flags&2048)switch(b.tag){case 0:case 11:case 15:Ac(9,b,b.return)}var H=b.sibling;if(H!==null){H.return=b.return,me=H;break e}me=b.return}}var j=i.current;for(me=j;me!==null;){_=me;var U=_.child;if(_.subtreeFlags&2064&&U!==null)U.return=_,me=U;else e:for(_=j;me!==null;){if(D=me,D.flags&2048)try{switch(D.tag){case 0:case 11:case 15:$f(9,D)}}catch(xe){kt(D,D.return,xe)}if(D===_){me=null;break e}var ue=D.sibling;if(ue!==null){ue.return=D.return,me=ue;break e}me=D.return}}if(Ke=v,js(),si&&typeof si.onPostCommitFiberRoot=="function")try{si.onPostCommitFiberRoot(tf,i)}catch{}g=!0}return g}finally{et=c,vr.transition=a}}return!1}function vx(i,a,c){a=Tl(c,a),a=Ob(i,a,1),i=Hs(i,a,1),a=Sn(),i!==null&&(Ju(i,1,a),Dn(i,a))}function kt(i,a,c){if(i.tag===3)vx(i,i,c);else for(;a!==null;){if(a.tag===3){vx(a,i,c);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&($s===null||!$s.has(g))){i=Tl(c,i),i=Nb(a,i,1),a=Hs(a,i,1),i=Sn(),a!==null&&(Ju(a,1,i),Dn(a,i));break}}a=a.return}}function NT(i,a,c){var g=i.pingCache;g!==null&&g.delete(a),a=Sn(),i.pingedLanes|=i.suspendedLanes&c,$t===i&&(Qt&c)===c&&(Dt===4||Dt===3&&(Qt&130023424)===Qt&&500>At()-ky?Bo(i,0):Sy|=c),Dn(i,a)}function wx(i,a){a===0&&(i.mode&1?(a=rf,rf<<=1,!(rf&130023424)&&(rf=4194304)):a=1);var c=Sn();i=Ni(i,a),i!==null&&(Ju(i,a,c),Dn(i,c))}function zT(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),wx(i,c)}function jT(i,a){var c=0;switch(i.tag){case 13:var g=i.stateNode,v=i.memoizedState;v!==null&&(c=v.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(a),wx(i,c)}var bx;bx=function(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps||Rn.current)In=!0;else{if(!(i.lanes&c)&&!(a.flags&128))return In=!1,ET(i,a,c);In=!!(i.flags&131072)}else In=!1,yt&&a.flags&1048576&&Z1(a,Ef,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;Hf(i,a),i=a.pendingProps;var v=bl(a,ln.current);El(a,c),v=ey(null,a,g,i,v,c);var b=ty();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Ln(g)?(b=!0,kf(a)):b=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,qm(a),v.updater=jf,a.stateNode=v,v._reactInternals=a,ay(a,g,i,c),a=hy(null,a,g,!0,b,c)):(a.tag=0,yt&&b&&Nm(a),xn(null,a,v,c),a=a.child),a;case 16:g=a.elementType;e:{switch(Hf(i,a),i=a.pendingProps,v=g._init,g=v(g._payload),a.type=g,v=a.tag=HT(g),i=Mr(g,i),v){case 0:a=cy(null,a,g,i,c);break e;case 1:a=Gb(null,a,g,i,c);break e;case 11:a=Hb(null,a,g,i,c);break e;case 14:a=Ub(null,a,g,Mr(g.type,i),c);break e}throw Error(t(306,g,""))}return a;case 0:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:Mr(g,v),cy(i,a,g,v,c);case 1:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:Mr(g,v),Gb(i,a,g,v,c);case 3:e:{if(qb(a),i===null)throw Error(t(387));g=a.pendingProps,b=a.memoizedState,v=b.element,lb(i,a),If(a,g,null,c);var _=a.memoizedState;if(g=_.element,b.isDehydrated)if(b={element:g,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){v=Tl(Error(t(423)),a),a=Xb(i,a,g,c,v);break e}else if(g!==v){v=Tl(Error(t(424)),a),a=Xb(i,a,g,c,v);break e}else for(Kn=Os(a.stateNode.containerInfo.firstChild),Xn=a,yt=!0,Ir=null,c=ob(a,null,g,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(kl(),g===v){a=ji(i,a,c);break e}xn(i,a,g,c)}a=a.child}return a;case 5:return hb(a),i===null&&Bm(a),g=a.type,v=a.pendingProps,b=i!==null?i.memoizedProps:null,_=v.children,Lm(g,v)?_=null:b!==null&&Lm(g,b)&&(a.flags|=32),Wb(i,a),xn(i,a,_,c),a.child;case 6:return i===null&&Bm(a),null;case 13:return Kb(i,a,c);case 4:return Xm(a,a.stateNode.containerInfo),g=a.pendingProps,i===null?a.child=_l(a,null,g,c):xn(i,a,g,c),a.child;case 11:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:Mr(g,v),Hb(i,a,g,v,c);case 7:return xn(i,a,a.pendingProps,c),a.child;case 8:return xn(i,a,a.pendingProps.children,c),a.child;case 12:return xn(i,a,a.pendingProps.children,c),a.child;case 10:e:{if(g=a.type._context,v=a.pendingProps,b=a.memoizedProps,_=v.value,ht(Pf,g._currentValue),g._currentValue=_,b!==null)if(Lr(b.value,_)){if(b.children===v.children&&!Rn.current){a=ji(i,a,c);break e}}else for(b=a.child,b!==null&&(b.return=a);b!==null;){var D=b.dependencies;if(D!==null){_=b.child;for(var O=D.firstContext;O!==null;){if(O.context===g){if(b.tag===1){O=zi(-1,c&-c),O.tag=2;var V=b.updateQueue;if(V!==null){V=V.shared;var re=V.pending;re===null?O.next=O:(O.next=re.next,re.next=O),V.pending=O}}b.lanes|=c,O=b.alternate,O!==null&&(O.lanes|=c),Wm(b.return,c,a),D.lanes|=c;break}O=O.next}}else if(b.tag===10)_=b.type===a.type?null:b.child;else if(b.tag===18){if(_=b.return,_===null)throw Error(t(341));_.lanes|=c,D=_.alternate,D!==null&&(D.lanes|=c),Wm(_,c,a),_=b.sibling}else _=b.child;if(_!==null)_.return=b;else for(_=b;_!==null;){if(_===a){_=null;break}if(b=_.sibling,b!==null){b.return=_.return,_=b;break}_=_.return}b=_}xn(i,a,v.children,c),a=a.child}return a;case 9:return v=a.type,g=a.pendingProps.children,El(a,c),v=mr(v),g=g(v),a.flags|=1,xn(i,a,g,c),a.child;case 14:return g=a.type,v=Mr(g,a.pendingProps),v=Mr(g.type,v),Ub(i,a,g,v,c);case 15:return $b(i,a,a.type,a.pendingProps,c);case 17:return g=a.type,v=a.pendingProps,v=a.elementType===g?v:Mr(g,v),Hf(i,a),a.tag=1,Ln(g)?(i=!0,kf(a)):i=!1,El(a,c),Db(a,g,v),ay(a,g,v,c),hy(null,a,g,!0,i,c);case 19:return Qb(i,a,c);case 22:return Vb(i,a,c)}throw Error(t(156,a.tag))};function xx(i,a){return e1(i,a)}function BT(i,a,c,g){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(i,a,c,g){return new BT(i,a,c,g)}function Ly(i){return i=i.prototype,!(!i||!i.isReactComponent)}function HT(i){if(typeof i=="function")return Ly(i)?1:0;if(i!=null){if(i=i.$$typeof,i===ne)return 11;if(i===oe)return 14}return 2}function qs(i,a){var c=i.alternate;return c===null?(c=wr(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function Jf(i,a,c,g,v,b){var _=2;if(g=i,typeof i=="function")Ly(i)&&(_=1);else if(typeof i=="string")_=5;else e:switch(i){case $:return Uo(c.children,v,b,a);case W:_=8,v|=8;break;case Q:return i=wr(12,c,a,v|2),i.elementType=Q,i.lanes=b,i;case J:return i=wr(13,c,a,v),i.elementType=J,i.lanes=b,i;case Y:return i=wr(19,c,a,v),i.elementType=Y,i.lanes=b,i;case Z:return Zf(c,v,b,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:_=10;break e;case q:_=9;break e;case ne:_=11;break e;case oe:_=14;break e;case pe:_=16,g=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return a=wr(_,c,a,v),a.elementType=i,a.type=g,a.lanes=b,a}function Uo(i,a,c,g){return i=wr(7,i,g,a),i.lanes=c,i}function Zf(i,a,c,g){return i=wr(22,i,g,a),i.elementType=Z,i.lanes=c,i.stateNode={isHidden:!1},i}function Iy(i,a,c){return i=wr(6,i,null,a),i.lanes=c,i}function My(i,a,c){return a=wr(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function UT(i,a,c,g,v){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=om(0),this.expirationTimes=om(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=om(0),this.identifierPrefix=g,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Dy(i,a,c,g,v,b,_,D,O){return i=new UT(i,a,c,D,O),a===1?(a=1,b===!0&&(a|=8)):a=0,b=wr(3,null,null,a),i.current=b,b.stateNode=i,b.memoizedState={element:g,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},qm(b),i}function $T(i,a,c){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:g==null?null:""+g,children:i,containerInfo:a,implementation:c}}function Sx(i){if(!i)return zs;i=i._reactInternals;e:{if(Ro(i)!==i||i.tag!==1)throw Error(t(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Ln(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(i.tag===1){var c=i.type;if(Ln(c))return Y1(i,c,a)}return a}function kx(i,a,c,g,v,b,_,D,O){return i=Dy(c,g,!0,i,v,b,_,D,O),i.context=Sx(null),c=i.current,g=Sn(),v=Ws(c),b=zi(g,v),b.callback=a??null,Hs(c,b,v),i.current.lanes=v,Ju(i,v,g),Dn(i,g),i}function ep(i,a,c,g){var v=a.current,b=Sn(),_=Ws(v);return c=Sx(c),a.context===null?a.context=c:a.pendingContext=c,a=zi(b,_),a.payload={element:i},g=g===void 0?null:g,g!==null&&(a.callback=g),i=Hs(v,a,_),i!==null&&(Or(i,v,_,b),Lf(i,v,_)),_}function tp(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function _x(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function Fy(i,a){_x(i,a),(i=i.alternate)&&_x(i,a)}function VT(){return null}var Ax=typeof reportError=="function"?reportError:function(i){console.error(i)};function Oy(i){this._internalRoot=i}np.prototype.render=Oy.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(t(409));ep(i,a,null,null)},np.prototype.unmount=Oy.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;jo(function(){ep(null,i,null,null)}),a[Mi]=null}};function np(i){this._internalRoot=i}np.prototype.unstable_scheduleHydration=function(i){if(i){var a=l1();i={blockedOn:null,target:i,priority:a};for(var c=0;c<Ms.length&&a!==0&&a<Ms[c].priority;c++);Ms.splice(c,0,i),c===0&&h1(i)}};function Ny(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function rp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Ex(){}function WT(i,a,c,g,v){if(v){if(typeof g=="function"){var b=g;g=function(){var V=tp(_);b.call(V)}}var _=kx(a,g,i,0,null,!1,!1,"",Ex);return i._reactRootContainer=_,i[Mi]=_.current,dc(i.nodeType===8?i.parentNode:i),jo(),_}for(;v=i.lastChild;)i.removeChild(v);if(typeof g=="function"){var D=g;g=function(){var V=tp(O);D.call(V)}}var O=Dy(i,0,!1,null,null,!1,!1,"",Ex);return i._reactRootContainer=O,i[Mi]=O.current,dc(i.nodeType===8?i.parentNode:i),jo(function(){ep(a,O,c,g)}),O}function ip(i,a,c,g,v){var b=c._reactRootContainer;if(b){var _=b;if(typeof v=="function"){var D=v;v=function(){var O=tp(_);D.call(O)}}ep(a,_,i,v)}else _=WT(c,a,i,v,g);return tp(_)}o1=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var c=Qu(a.pendingLanes);c!==0&&(am(a,c|1),Dn(a,At()),!(Ke&6)&&(Ll=At()+500,js()))}break;case 13:jo(function(){var g=Ni(i,1);if(g!==null){var v=Sn();Or(g,i,1,v)}}),Fy(i,1)}},lm=function(i){if(i.tag===13){var a=Ni(i,134217728);if(a!==null){var c=Sn();Or(a,i,134217728,c)}Fy(i,134217728)}},a1=function(i){if(i.tag===13){var a=Ws(i),c=Ni(i,a);if(c!==null){var g=Sn();Or(c,i,a,g)}Fy(i,a)}},l1=function(){return et},u1=function(i,a){var c=et;try{return et=i,a()}finally{et=c}},em=function(i,a,c){switch(a){case"input":if(Vn(i,c),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var g=c[a];if(g!==i&&g.form===i.form){var v=xf(g);if(!v)throw Error(t(90));ti(g),Vn(g,v)}}}break;case"textarea":al(i,c);break;case"select":a=c.value,a!=null&&Wn(i,!!c.multiple,a,!1)}},qw=Ty,Xw=jo;var GT={usingClientEntryPoint:!1,Events:[gc,vl,xf,Ww,Gw,Ty]},Pc={findFiberByHostInstance:Lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qT={bundleType:Pc.bundleType,version:Pc.version,rendererPackageName:Pc.rendererPackageName,rendererConfig:Pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Jw(i),i===null?null:i.stateNode},findFiberByHostInstance:Pc.findFiberByHostInstance||VT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sp.isDisabled&&sp.supportsFiber)try{tf=sp.inject(qT),si=sp}catch{}}return Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GT,Fn.createPortal=function(i,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ny(a))throw Error(t(200));return $T(i,a,null,c)},Fn.createRoot=function(i,a){if(!Ny(i))throw Error(t(299));var c=!1,g="",v=Ax;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=Dy(i,1,!1,null,null,c,!1,g,v),i[Mi]=a.current,dc(i.nodeType===8?i.parentNode:i),new Oy(a)},Fn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Jw(a),i=i===null?null:i.stateNode,i},Fn.flushSync=function(i){return jo(i)},Fn.hydrate=function(i,a,c){if(!rp(a))throw Error(t(200));return ip(null,i,a,!0,c)},Fn.hydrateRoot=function(i,a,c){if(!Ny(i))throw Error(t(405));var g=c!=null&&c.hydratedSources||null,v=!1,b="",_=Ax;if(c!=null&&(c.unstable_strictMode===!0&&(v=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onRecoverableError!==void 0&&(_=c.onRecoverableError)),a=kx(a,null,i,1,c??null,v,!1,b,_),i[Mi]=a.current,dc(i),g)for(i=0;i<g.length;i++)c=g[i],v=c._getVersion,v=v(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,v]:a.mutableSourceEagerHydrationData.push(c,v);return new np(a)},Fn.render=function(i,a,c){if(!rp(a))throw Error(t(200));return ip(null,i,a,!1,c)},Fn.unmountComponentAtNode=function(i){if(!rp(i))throw Error(t(40));return i._reactRootContainer?(jo(function(){ip(null,null,i,!1,function(){i._reactRootContainer=null,i[Mi]=null})}),!0):!1},Fn.unstable_batchedUpdates=Ty,Fn.unstable_renderSubtreeIntoContainer=function(i,a,c,g){if(!rp(c))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return ip(i,a,c,!1,g)},Fn.version="18.3.1-next-f1338f8080-20240426",Fn}var Fx;function rP(){if(Fx)return Hy.exports;Fx=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hy.exports=nP(),Hy.exports}var Ox;function iP(){if(Ox)return op;Ox=1;var r=rP();return op.createRoot=r.createRoot,op.hydrateRoot=r.hydrateRoot,op}var sP=iP(),Vy={exports:{}},Wy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nx;function oP(){if(Nx)return Wy;Nx=1;var r=Tg();function e(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var t=typeof Object.is=="function"?Object.is:e,n=r.useSyncExternalStore,s=r.useRef,o=r.useEffect,l=r.useMemo,u=r.useDebugValue;return Wy.useSyncExternalStoreWithSelector=function(h,d,p,m,y){var w=s(null);if(w.current===null){var x={hasValue:!1,value:null};w.current=x}else x=w.current;w=l(function(){function A(N){if(!k){if(k=!0,P=N,N=m(N),y!==void 0&&x.hasValue){var M=x.value;if(y(M,N))return R=M}return R=N}if(M=R,t(P,N))return M;var $=m(N);return y!==void 0&&y(M,$)?(P=N,M):(P=N,R=$)}var k=!1,P,R,F=p===void 0?null:p;return[function(){return A(d())},F===null?void 0:function(){return A(F())}]},[d,p,m,y]);var S=n(h,w[0],w[1]);return o(function(){x.hasValue=!0,x.value=S},[S]),u(S),S},Wy}var zx;function aP(){return zx||(zx=1,Vy.exports=oP()),Vy.exports}var lP=aP();function uP(r){r()}function cP(){let r=null,e=null;return{clear(){r=null,e=null},notify(){uP(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=r;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let n=!0;const s=e={callback:t,next:null,prev:e};return s.prev?s.prev.next=s:r=s,function(){!n||r===null||(n=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:r=s.next)}}}}var jx={notify(){},get:()=>[]};function hP(r,e){let t,n=jx,s=0,o=!1;function l(S){p();const A=n.subscribe(S);let k=!1;return()=>{k||(k=!0,A(),m())}}function u(){n.notify()}function h(){x.onStateChange&&x.onStateChange()}function d(){return o}function p(){s++,t||(t=r.subscribe(h),n=cP())}function m(){s--,t&&s===0&&(t(),t=void 0,n.clear(),n=jx)}function y(){o||(o=!0,p())}function w(){o&&(o=!1,m())}const x={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:h,isSubscribed:d,trySubscribe:y,tryUnsubscribe:w,getListeners:()=>n};return x}var dP=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fP=dP(),pP=()=>typeof navigator<"u"&&navigator.product==="ReactNative",gP=pP(),mP=()=>fP||gP?ee.useLayoutEffect:ee.useEffect,yP=mP(),Gy=Symbol.for("react-redux-context"),qy=typeof globalThis<"u"?globalThis:{};function vP(){if(!ee.createContext)return{};const r=qy[Gy]??(qy[Gy]=new Map);let e=r.get(ee.createContext);return e||(e=ee.createContext(null),r.set(ee.createContext,e)),e}var So=vP();function wP(r){const{children:e,context:t,serverState:n,store:s}=r,o=ee.useMemo(()=>{const h=hP(s);return{store:s,subscription:h,getServerState:n?()=>n:void 0}},[s,n]),l=ee.useMemo(()=>s.getState(),[s]);yP(()=>{const{subscription:h}=o;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),l!==s.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[o,l]);const u=t||So;return ee.createElement(u.Provider,{value:o},e)}var bP=wP;function sw(r=So){return function(){return ee.useContext(r)}}var vk=sw();function wk(r=So){const e=r===So?vk:sw(r),t=()=>{const{store:n}=e();return n};return Object.assign(t,{withTypes:()=>t}),t}var xP=wk();function SP(r=So){const e=r===So?xP:wk(r),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var kP=SP(),_P=(r,e)=>r===e;function AP(r=So){const e=r===So?vk:sw(r),t=(n,s={})=>{const{equalityFn:o=_P}=typeof s=="function"?{equalityFn:s}:s,l=e(),{store:u,subscription:h,getServerState:d}=l;ee.useRef(!0);const p=ee.useCallback({[n.name](y){return n(y)}}[n.name],[n]),m=lP.useSyncExternalStoreWithSelector(h.addNestedSub,u.getState,d||u.getState,p,o);return ee.useDebugValue(m),m};return Object.assign(t,{withTypes:()=>t}),t}var EP=AP();function on(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var CP=typeof Symbol=="function"&&Symbol.observable||"@@observable",Bx=CP,Xy=()=>Math.random().toString(36).substring(7).split("").join("."),TP={INIT:`@@redux/INIT${Xy()}`,REPLACE:`@@redux/REPLACE${Xy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Xy()}`},Wp=TP;function ow(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function bk(r,e,t){if(typeof r!="function")throw new Error(on(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(on(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(on(1));return t(bk)(r,e)}let n=r,s=e,o=new Map,l=o,u=0,h=!1;function d(){l===o&&(l=new Map,o.forEach((A,k)=>{l.set(k,A)}))}function p(){if(h)throw new Error(on(3));return s}function m(A){if(typeof A!="function")throw new Error(on(4));if(h)throw new Error(on(5));let k=!0;d();const P=u++;return l.set(P,A),function(){if(k){if(h)throw new Error(on(6));k=!1,d(),l.delete(P),o=null}}}function y(A){if(!ow(A))throw new Error(on(7));if(typeof A.type>"u")throw new Error(on(8));if(typeof A.type!="string")throw new Error(on(17));if(h)throw new Error(on(9));try{h=!0,s=n(s,A)}finally{h=!1}return(o=l).forEach(P=>{P()}),A}function w(A){if(typeof A!="function")throw new Error(on(10));n=A,y({type:Wp.REPLACE})}function x(){const A=m;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(on(11));function P(){const F=k;F.next&&F.next(p())}return P(),{unsubscribe:A(P)}},[Bx](){return this}}}return y({type:Wp.INIT}),{dispatch:y,subscribe:m,getState:p,replaceReducer:w,[Bx]:x}}function PP(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:Wp.INIT})>"u")throw new Error(on(12));if(typeof t(void 0,{type:Wp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(on(13))})}function RP(r){const e=Object.keys(r),t={};for(let o=0;o<e.length;o++){const l=e[o];typeof r[l]=="function"&&(t[l]=r[l])}const n=Object.keys(t);let s;try{PP(t)}catch(o){s=o}return function(l={},u){if(s)throw s;let h=!1;const d={};for(let p=0;p<n.length;p++){const m=n[p],y=t[m],w=l[m],x=y(w,u);if(typeof x>"u")throw u&&u.type,new Error(on(14));d[m]=x,h=h||x!==w}return h=h||n.length!==Object.keys(l).length,h?d:l}}function Gp(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...n)=>e(t(...n)))}function LP(...r){return e=>(t,n)=>{const s=e(t,n);let o=()=>{throw new Error(on(15))};const l={getState:s.getState,dispatch:(h,...d)=>o(h,...d)},u=r.map(h=>h(l));return o=Gp(...u)(s.dispatch),{...s,dispatch:o}}}function IP(r){return ow(r)&&"type"in r&&typeof r.type=="string"}var xk=Symbol.for("immer-nothing"),Hx=Symbol.for("immer-draftable"),hr=Symbol.for("immer-state");function Jr(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var $u=Object.getPrototypeOf;function Ga(r){return!!r&&!!r[hr]}function ks(r){var e;return r?Sk(r)||Array.isArray(r)||!!r[Hx]||!!((e=r.constructor)!=null&&e[Hx])||Rg(r)||Lg(r):!1}var MP=Object.prototype.constructor.toString();function Sk(r){if(!r||typeof r!="object")return!1;const e=$u(r);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===MP}function qp(r,e){Pg(r)===0?Reflect.ownKeys(r).forEach(t=>{e(t,r[t],r)}):r.forEach((t,n)=>e(n,t,r))}function Pg(r){const e=r[hr];return e?e.type_:Array.isArray(r)?1:Rg(r)?2:Lg(r)?3:0}function xv(r,e){return Pg(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function kk(r,e,t){const n=Pg(r);n===2?r.set(e,t):n===3?r.add(t):r[e]=t}function DP(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function Rg(r){return r instanceof Map}function Lg(r){return r instanceof Set}function Wo(r){return r.copy_||r.base_}function Sv(r,e){if(Rg(r))return new Map(r);if(Lg(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const t=Sk(r);if(e===!0||e==="class_only"&&!t){const n=Object.getOwnPropertyDescriptors(r);delete n[hr];let s=Reflect.ownKeys(n);for(let o=0;o<s.length;o++){const l=s[o],u=n[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:r[l]})}return Object.create($u(r),n)}else{const n=$u(r);if(n!==null&&t)return{...r};const s=Object.create(n);return Object.assign(s,r)}}function aw(r,e=!1){return Ig(r)||Ga(r)||!ks(r)||(Pg(r)>1&&(r.set=r.add=r.clear=r.delete=FP),Object.freeze(r),e&&Object.entries(r).forEach(([t,n])=>aw(n,!0))),r}function FP(){Jr(2)}function Ig(r){return Object.isFrozen(r)}var OP={};function qa(r){const e=OP[r];return e||Jr(0,r),e}var ih;function _k(){return ih}function NP(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ux(r,e){e&&(qa("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function kv(r){_v(r),r.drafts_.forEach(zP),r.drafts_=null}function _v(r){r===ih&&(ih=r.parent_)}function $x(r){return ih=NP(ih,r)}function zP(r){const e=r[hr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Vx(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return r!==void 0&&r!==t?(t[hr].modified_&&(kv(e),Jr(4)),ks(r)&&(r=Xp(e,r),e.parent_||Kp(e,r)),e.patches_&&qa("Patches").generateReplacementPatches_(t[hr].base_,r,e.patches_,e.inversePatches_)):r=Xp(e,t,[]),kv(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==xk?r:void 0}function Xp(r,e,t){if(Ig(e))return e;const n=e[hr];if(!n)return qp(e,(s,o)=>Wx(r,n,e,s,o,t)),e;if(n.scope_!==r)return e;if(!n.modified_)return Kp(r,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let o=s,l=!1;n.type_===3&&(o=new Set(s),s.clear(),l=!0),qp(o,(u,h)=>Wx(r,n,s,u,h,t,l)),Kp(r,s,!1),t&&r.patches_&&qa("Patches").generatePatches_(n,t,r.patches_,r.inversePatches_)}return n.copy_}function Wx(r,e,t,n,s,o,l){if(Ga(s)){const u=o&&e&&e.type_!==3&&!xv(e.assigned_,n)?o.concat(n):void 0,h=Xp(r,s,u);if(kk(t,n,h),Ga(h))r.canAutoFreeze_=!1;else return}else l&&t.add(s);if(ks(s)&&!Ig(s)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;Xp(r,s),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,n)&&Kp(r,s)}}function Kp(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&aw(e,t)}function jP(r,e){const t=Array.isArray(r),n={type_:t?1:0,scope_:e?e.scope_:_k(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,o=lw;t&&(s=[n],o=sh);const{revoke:l,proxy:u}=Proxy.revocable(s,o);return n.draft_=u,n.revoke_=l,u}var lw={get(r,e){if(e===hr)return r;const t=Wo(r);if(!xv(t,e))return BP(r,t,e);const n=t[e];return r.finalized_||!ks(n)?n:n===Ky(r.base_,e)?(Yy(r),r.copy_[e]=Ev(n,r)):n},has(r,e){return e in Wo(r)},ownKeys(r){return Reflect.ownKeys(Wo(r))},set(r,e,t){const n=Ak(Wo(r),e);if(n!=null&&n.set)return n.set.call(r.draft_,t),!0;if(!r.modified_){const s=Ky(Wo(r),e),o=s==null?void 0:s[hr];if(o&&o.base_===t)return r.copy_[e]=t,r.assigned_[e]=!1,!0;if(DP(t,s)&&(t!==void 0||xv(r.base_,e)))return!0;Yy(r),Av(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_[e]=!0),!0},deleteProperty(r,e){return Ky(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,Yy(r),Av(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=Wo(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty(){Jr(11)},getPrototypeOf(r){return $u(r.base_)},setPrototypeOf(){Jr(12)}},sh={};qp(lw,(r,e)=>{sh[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});sh.deleteProperty=function(r,e){return sh.set.call(this,r,e,void 0)};sh.set=function(r,e,t){return lw.set.call(this,r[0],e,t,r[0])};function Ky(r,e){const t=r[hr];return(t?Wo(t):r)[e]}function BP(r,e,t){var s;const n=Ak(e,t);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(r.draft_):void 0}function Ak(r,e){if(!(e in r))return;let t=$u(r);for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=$u(t)}}function Av(r){r.modified_||(r.modified_=!0,r.parent_&&Av(r.parent_))}function Yy(r){r.copy_||(r.copy_=Sv(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var HP=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if(typeof e=="function"&&typeof t!="function"){const o=t;t=e;const l=this;return function(h=o,...d){return l.produce(h,p=>t.call(this,p,...d))}}typeof t!="function"&&Jr(6),n!==void 0&&typeof n!="function"&&Jr(7);let s;if(ks(e)){const o=$x(this),l=Ev(e,void 0);let u=!0;try{s=t(l),u=!1}finally{u?kv(o):_v(o)}return Ux(o,n),Vx(s,o)}else if(!e||typeof e!="object"){if(s=t(e),s===void 0&&(s=e),s===xk&&(s=void 0),this.autoFreeze_&&aw(s,!0),n){const o=[],l=[];qa("Patches").generateReplacementPatches_(e,s,o,l),n(o,l)}return s}else Jr(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,h=>e(h,...u));let n,s;return[this.produce(e,t,(l,u)=>{n=l,s=u}),n,s]},typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof(r==null?void 0:r.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){ks(r)||Jr(8),Ga(r)&&(r=UP(r));const e=$x(this),t=Ev(r,void 0);return t[hr].isManual_=!0,_v(e),t}finishDraft(r,e){const t=r&&r[hr];(!t||!t.isManual_)&&Jr(9);const{scope_:n}=t;return Ux(n,e),Vx(void 0,n)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){const s=e[t];if(s.path.length===0&&s.op==="replace"){r=s.value;break}}t>-1&&(e=e.slice(t+1));const n=qa("Patches").applyPatches_;return Ga(r)?n(r,e):this.produce(r,s=>n(s,e))}};function Ev(r,e){const t=Rg(r)?qa("MapSet").proxyMap_(r,e):Lg(r)?qa("MapSet").proxySet_(r,e):jP(r,e);return(e?e.scope_:_k()).drafts_.push(t),t}function UP(r){return Ga(r)||Jr(10,r),Ek(r)}function Ek(r){if(!ks(r)||Ig(r))return r;const e=r[hr];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Sv(r,e.scope_.immer_.useStrictShallowCopy_)}else t=Sv(r,!0);return qp(t,(n,s)=>{kk(t,n,Ek(s))}),e&&(e.finalized_=!1),t}var dr=new HP,Ck=dr.produce;dr.produceWithPatches.bind(dr);dr.setAutoFreeze.bind(dr);dr.setUseStrictShallowCopy.bind(dr);dr.applyPatches.bind(dr);dr.createDraft.bind(dr);dr.finishDraft.bind(dr);function Tk(r){return({dispatch:t,getState:n})=>s=>o=>typeof o=="function"?o(t,n,r):s(o)}var $P=Tk(),VP=Tk,WP=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Gp:Gp.apply(null,arguments)};function Gx(r,e){function t(...n){if(e){let s=e(...n);if(!s)throw new Error(vs(0));return{type:r,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:r,payload:n[0]}}return t.toString=()=>`${r}`,t.type=r,t.match=n=>IP(n)&&n.type===r,t}var Pk=class Nc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Nc.prototype)}static get[Symbol.species](){return Nc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Nc(...e[0].concat(this)):new Nc(...e.concat(this))}};function qx(r){return ks(r)?Ck(r,()=>{}):r}function Xx(r,e,t){return r.has(e)?r.get(e):r.set(e,t(e)).get(e)}function GP(r){return typeof r=="boolean"}var qP=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=e??{};let l=new Pk;return t&&(GP(t)?l.push($P):l.push(VP(t.extraArgument))),l},XP="RTK_autoBatch",Kx=r=>e=>{setTimeout(e,r)},KP=(r={type:"raf"})=>e=>(...t)=>{const n=e(...t);let s=!0,o=!1,l=!1;const u=new Set,h=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Kx(10):r.type==="callback"?r.queueNotification:Kx(r.timeout),d=()=>{l=!1,o&&(o=!1,u.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const m=()=>s&&p(),y=n.subscribe(m);return u.add(p),()=>{y(),u.delete(p)}},dispatch(p){var m;try{return s=!((m=p==null?void 0:p.meta)!=null&&m[XP]),o=!s,o&&(l||(l=!0,h(d))),n.dispatch(p)}finally{s=!0}}})},YP=r=>function(t){const{autoBatch:n=!0}=t??{};let s=new Pk(r);return n&&s.push(KP(typeof n=="object"?n:void 0)),s};function QP(r){const e=qP(),{reducer:t=void 0,middleware:n,devTools:s=!0,preloadedState:o=void 0,enhancers:l=void 0}=r||{};let u;if(typeof t=="function")u=t;else if(ow(t))u=RP(t);else throw new Error(vs(1));let h;typeof n=="function"?h=n(e):h=e();let d=Gp;s&&(d=WP({trace:!1,...typeof s=="object"&&s}));const p=LP(...h),m=YP(p);let y=typeof l=="function"?l(m):m();const w=d(...y);return bk(u,o,w)}function Rk(r){const e={},t=[];let n;const s={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(vs(28));if(u in e)throw new Error(vs(29));return e[u]=l,s},addMatcher(o,l){return t.push({matcher:o,reducer:l}),s},addDefaultCase(o){return n=o,s}};return r(s),[e,t,n]}function JP(r){return typeof r=="function"}function ZP(r,e){let[t,n,s]=Rk(e),o;if(JP(r))o=()=>qx(r());else{const u=qx(r);o=()=>u}function l(u=o(),h){let d=[t[h.type],...n.filter(({matcher:p})=>p(h)).map(({reducer:p})=>p)];return d.filter(p=>!!p).length===0&&(d=[s]),d.reduce((p,m)=>{if(m)if(Ga(p)){const w=m(p,h);return w===void 0?p:w}else{if(ks(p))return Ck(p,y=>m(y,h));{const y=m(p,h);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},u)}return l.getInitialState=o,l}var eR=Symbol.for("rtk-slice-createasyncthunk");function tR(r,e){return`${r}/${e}`}function nR({creators:r}={}){var t;const e=(t=r==null?void 0:r.asyncThunk)==null?void 0:t[eR];return function(s){const{name:o,reducerPath:l=o}=s;if(!o)throw new Error(vs(11));typeof process<"u";const u=(typeof s.reducers=="function"?s.reducers(iR()):s.reducers)||{},h=Object.keys(u),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(R,F){const N=typeof R=="string"?R:R.type;if(!N)throw new Error(vs(12));if(N in d.sliceCaseReducersByType)throw new Error(vs(13));return d.sliceCaseReducersByType[N]=F,p},addMatcher(R,F){return d.sliceMatchers.push({matcher:R,reducer:F}),p},exposeAction(R,F){return d.actionCreators[R]=F,p},exposeCaseReducer(R,F){return d.sliceCaseReducersByName[R]=F,p}};h.forEach(R=>{const F=u[R],N={reducerName:R,type:tR(o,R),createNotation:typeof s.reducers=="function"};oR(F)?lR(N,F,p,e):sR(N,F,p)});function m(){const[R={},F=[],N=void 0]=typeof s.extraReducers=="function"?Rk(s.extraReducers):[s.extraReducers],M={...R,...d.sliceCaseReducersByType};return ZP(s.initialState,$=>{for(let W in M)$.addCase(W,M[W]);for(let W of d.sliceMatchers)$.addMatcher(W.matcher,W.reducer);for(let W of F)$.addMatcher(W.matcher,W.reducer);N&&$.addDefaultCase(N)})}const y=R=>R,w=new Map;let x;function S(R,F){return x||(x=m()),x(R,F)}function A(){return x||(x=m()),x.getInitialState()}function k(R,F=!1){function N($){let W=$[R];return typeof W>"u"&&F&&(W=A()),W}function M($=y){const W=Xx(w,F,()=>new WeakMap);return Xx(W,$,()=>{const Q={};for(const[z,q]of Object.entries(s.selectors??{}))Q[z]=rR(q,$,A,F);return Q})}return{reducerPath:R,getSelectors:M,get selectors(){return M(N)},selectSlice:N}}const P={name:o,reducer:S,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:A,...k(l),injectInto(R,{reducerPath:F,...N}={}){const M=F??l;return R.inject({reducerPath:M,reducer:S},N),{...P,...k(M,!0)}}};return P}}function rR(r,e,t,n){function s(o,...l){let u=e(o);return typeof u>"u"&&n&&(u=t()),r(u,...l)}return s.unwrapped=r,s}var uw=nR();function iR(){function r(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:r}}function sR({type:r,reducerName:e,createNotation:t},n,s){let o,l;if("reducer"in n){if(t&&!aR(n))throw new Error(vs(17));o=n.reducer,l=n.prepare}else o=n;s.addCase(r,o).exposeCaseReducer(e,o).exposeAction(e,l?Gx(r,l):Gx(r))}function oR(r){return r._reducerDefinitionType==="asyncThunk"}function aR(r){return r._reducerDefinitionType==="reducerWithPrepare"}function lR({type:r,reducerName:e},t,n,s){if(!s)throw new Error(vs(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:h,settled:d,options:p}=t,m=s(r,o,p);n.exposeAction(e,m),l&&n.addCase(m.fulfilled,l),u&&n.addCase(m.pending,u),h&&n.addCase(m.rejected,h),d&&n.addMatcher(m.settled,d),n.exposeCaseReducer(e,{fulfilled:l||ap,pending:u||ap,rejected:h||ap,settled:d||ap})}function ap(){}function vs(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}const uR={light:{background:"#fff",color:"#000",cursorColor:"#000",promptColors:["#001A6E","#D4EBF8","#6A669D"],fontSize:14,fontFamily:"Source Code Pro"},dark:{background:"#000",color:"#fff",cursorColor:"#fff",promptColors:["#FCFFC1","#FFE893","#FBB4A5"],fontSize:14,fontFamily:"Source Code Pro"}},cR={name:"light"},Lk=uw({name:"theme",initialState:cR,reducers:{setTheme:(r,e)=>{r.name=e.payload}}}),{setTheme:hR}=Lk.actions,dR=Lk.reducer,cw=EP.withTypes(),Ud=kP.withTypes(),ei=()=>{const r=cw(e=>e.theme.name);return uR[r]},Ik=()=>cw(e=>e.command.history),tl=()=>{const r=cw(t=>t.profile);return ee.useMemo(()=>{if(r.id)return r},[r])},fR=(r=1)=>`${ei().fontSize*r}px`,pR=r=>{var u;const e=tl(),t=(u=e==null?void 0:e.projects)==null?void 0:u[r-1],[n,s]=ee.useState(),[o,l]=ee.useState();return ee.useEffect(()=>{(async()=>{try{if(!t)throw new Error(`Project ${r} not found`);const d=t.repo.replace("github.com","api.github.com/repos"),p=await fetch(`${d}/readme`);if(!p.ok)throw new Error("Failed to fetch readme");const y=(await p.json()).download_url,w=await fetch(y);if(!w.ok)throw new Error("Failed to fetch readme content");const x=await w.text();s(x)}catch(d){l(d instanceof Error?d.message:"An unknown error occurred")}})()},[r,e==null?void 0:e.githubUrl,t,t==null?void 0:t.repo]),{readme:n,error:o}};class Es{constructor(e,t,n,s,o,l=!1){De(this,"params",{});this.name=e,this.description=t,this.paramsSchema=n,this.action=s,this.result=o,this.isInteractive=l}execute(){if(this.paramsSchema)for(const e in this.paramsSchema){const t=this.paramsSchema[e];if(t.required&&this.params[e]===void 0)throw new Error(`Missing required parameter: ${e}`);if(this.params[e]!==void 0){const n=this.params[e];if(typeof n!==t.type)throw new Error(`Invalid type for parameter ${e}: expected ${t.type}, got ${typeof n}`);this.params[e]=n}else t.defaultValue!==void 0&&(this.params[e]=t.defaultValue)}this.action&&this.action(this.params)}}class $d{constructor(e,t,n){this.name=e,this.description=t,this.children=n}}const gR={history:[{name:"welcome"}]},Mk=uw({name:"command",initialState:gR,reducers:{addCommand:(r,e)=>{r.history.push(e.payload)},clearHistory:r=>{r.history=[]},resetHistory:r=>{r.history=[{name:"welcome"}]},clearCommandInteractiveResult(r){for(let e=r.history.length-1;e>=0;e--)if(r.history[e].isInteractive){r.history[e].result=void 0;break}},clearCommandInteractiveResultWithError(r,e){for(let t=r.history.length-1;t>=0;t--)if(r.history[t].isInteractive){r.history[t].result=e.payload,r.history[t].isInteractive=!1;break}}}}),{addCommand:Lc,clearHistory:mR,resetHistory:yR,clearCommandInteractiveResult:vR,clearCommandInteractiveResultWithError:wR}=Mk.actions,bR=Mk.reducer,xR=1,SR="Pham Tien Duy",kR="tienduy0123@gmail.com",_R="w3lt",AR="https://github.com/w3lt",ER=[{name:"Wibu Store",description:"This store sells wibu game (for everyone ofc) :>",repo:"https://github.com/w3lt/Wibu-Store"}],CR={id:xR,name:SR,email:kR,username:_R,githubUrl:AR,projects:ER},TR=2,PR="Nguyen Huong Giang",RR="schneiderrning@gmail.com",LR="lieserlw",IR="https://github.com/lieserlw",MR=[],DR={id:TR,name:PR,email:RR,username:LR,githubUrl:IR,projects:MR};function Yx(r){return r.cvUrl=`/portfolio-page/src/profiles/cv/${r.username}.pdf`,r}const Cv=[Yx(CR),Yx(DR)],FR={},Dk=uw({name:"profile",initialState:FR,reducers:{setProfile:(r,e)=>Cv[e.payload],logout:()=>({})}}),{setProfile:OR,logout:NR}=Dk.actions,zR=Dk.reducer,oh=QP({reducer:{theme:dR,command:bR,profile:zR}});class jR extends Es{constructor(){super("clear","Clear the terminal",void 0,()=>{oh.dispatch(mR())})}}const BR="modulepreload",HR=function(r){return"/portfolio-page/"+r},Qx={},lp=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(t.map(h=>{if(h=HR(h),h in Qx)return;Qx[h]=!0;const d=h.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":BR,d||(m.as="script"),m.crossOrigin="",m.href=h,u&&m.setAttribute("nonce",u),document.head.appendChild(m),d)return new Promise((y,w)=>{m.addEventListener("load",y),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};var Zc={};Zc.d=(r,e)=>{for(var t in e)Zc.o(e,t)&&!Zc.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})};Zc.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var Ie=globalThis.pdfjsLib={};Zc.d(Ie,{AbortException:()=>rl,AnnotationEditorLayer:()=>N0,AnnotationEditorParamsType:()=>Me,AnnotationEditorType:()=>Ge,AnnotationEditorUIManager:()=>Ka,AnnotationLayer:()=>jI,AnnotationMode:()=>Zs,CMapCompressionType:()=>Pv,ColorPicker:()=>ng,DOMSVGFactory:()=>fw,DrawLayer:()=>H0,FeatureTest:()=>Hn,GlobalWorkerOptions:()=>ws,ImageKind:()=>vp,InvalidPDFException:()=>Ok,MissingPDFException:()=>nl,OPS:()=>zr,Outliner:()=>v0,PDFDataRangeTransport:()=>L_,PDFDateString:()=>$k,PDFWorker:()=>Vl,PasswordResponses:()=>WR,PermissionFlag:()=>VR,PixelsPerInch:()=>ko,RenderingCancelledException:()=>pw,TextLayer:()=>eg,UnexpectedResponseException:()=>Og,Util:()=>Se,VerbosityLevel:()=>Mg,XfaLayer:()=>M_,build:()=>wI,createValidAbsoluteUrl:()=>KR,fetchData:()=>Hg,getDocument:()=>cI,getFilenameFromUrl:()=>sL,getPdfFilenameFromUrl:()=>oL,getXfaPageViewport:()=>aL,isDataScheme:()=>gw,isPdfFile:()=>mw,noContextMenu:()=>$n,normalizeUnicode:()=>tL,renderTextLayer:()=>tI,setLayerDimensions:()=>Xa,shadow:()=>Ye,updateTextLayer:()=>nI,version:()=>vI});const yn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Fk=[1,0,0,1,0,0],Tv=[.001,0,0,.001,0,0],UR=1e7,Qy=1.35,Ar={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Zs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},$R="pdfjs_internal_editor_",Ge={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Me={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},VR={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},dn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},vp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ft={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Ic={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Mg={ERRORS:0,WARNINGS:1,INFOS:5},Pv={NONE:0,BINARY:1},zr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},WR={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Dg=Mg.WARNINGS;function GR(r){Number.isInteger(r)&&(Dg=r)}function qR(){return Dg}function Fg(r){Dg>=Mg.INFOS&&console.log(`Info: ${r}`)}function Be(r){Dg>=Mg.WARNINGS&&console.log(`Warning: ${r}`)}function it(r){throw new Error(r)}function Ht(r,e){r||it(e)}function XR(r){switch(r==null?void 0:r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function KR(r,e=null,t=null){if(!r)return null;try{if(t&&typeof r=="string"){if(t.addDefaultProtocol&&r.startsWith("www.")){const s=r.match(/\./g);(s==null?void 0:s.length)>=2&&(r=`http://${r}`)}if(t.tryConvertEncoding)try{r=eL(r)}catch{}}const n=e?new URL(r,e):new URL(r);if(XR(n))return n}catch{}return null}function Ye(r,e,t,n=!1){return Object.defineProperty(r,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Eo=function(){function e(t,n){this.constructor===e&&it("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class Rv extends Eo{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Lv extends Eo{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Ok extends Eo{constructor(e){super(e,"InvalidPDFException")}}class nl extends Eo{constructor(e){super(e,"MissingPDFException")}}class Og extends Eo{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class YR extends Eo{constructor(e){super(e,"FormatError")}}class rl extends Eo{constructor(e){super(e,"AbortException")}}function Nk(r){(typeof r!="object"||(r==null?void 0:r.length)===void 0)&&it("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const n=[];for(let s=0;s<e;s+=t){const o=Math.min(s+t,e),l=r.subarray(s,o);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function Ng(r){typeof r!="string"&&it("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=r.charCodeAt(n)&255;return t}function QR(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function hw(r){const e=Object.create(null);for(const[t,n]of r)e[t]=n;return e}function JR(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function ZR(){try{return new Function(""),!0}catch{return!1}}class Hn{static get isLittleEndian(){return Ye(this,"isLittleEndian",JR())}static get isEvalSupported(){return Ye(this,"isEvalSupported",ZR())}static get isOffscreenCanvasSupported(){return Ye(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ye(this,"platform",{isMac:navigator.platform.includes("Mac")}):Ye(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return Ye(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Jy=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));var xs,wp,Iv;class Se{static makeHexColor(e,t,n){return`#${Jy[e]}${Jy[t]}${Jy[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const n=e[0]*t[0]+e[1]*t[2]+t[4],s=e[0]*t[1]+e[1]*t[3]+t[5];return[n,s]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2],s=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,o=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[s,o]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),s=this.applyTransform(e.slice(2,4),t),o=this.applyTransform([e[0],e[3]],t),l=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],s[0],o[0],l[0]),Math.min(n[1],s[1],o[1],l[1]),Math.max(n[0],s[0],o[0],l[0]),Math.max(n[1],s[1],o[1],l[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],s=e[0]*t[1]+e[1]*t[3],o=e[2]*t[0]+e[3]*t[2],l=e[2]*t[1]+e[3]*t[3],u=(n+l)/2,h=Math.sqrt((n+l)**2-4*(n*l-o*s))/2,d=u+h||1,p=u-h||1;return[Math.sqrt(d),Math.sqrt(p)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>s)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>l?null:[n,o,s,l]}static bezierBoundingBox(e,t,n,s,o,l,u,h,d){return d?(d[0]=Math.min(d[0],e,u),d[1]=Math.min(d[1],t,h),d[2]=Math.max(d[2],e,u),d[3]=Math.max(d[3],t,h)):d=[Math.min(e,u),Math.min(t,h),Math.max(e,u),Math.max(t,h)],C(this,xs,Iv).call(this,e,n,o,u,t,s,l,h,3*(-e+3*(n-o)+u),6*(e-2*n+o),3*(n-e),d),C(this,xs,Iv).call(this,e,n,o,u,t,s,l,h,3*(-t+3*(s-l)+h),6*(t-2*s+l),3*(s-t),d),d}}xs=new WeakSet,wp=function(e,t,n,s,o,l,u,h,d,p){if(d<=0||d>=1)return;const m=1-d,y=d*d,w=y*d,x=m*(m*(m*e+3*d*t)+3*y*n)+w*s,S=m*(m*(m*o+3*d*l)+3*y*u)+w*h;p[0]=Math.min(p[0],x),p[1]=Math.min(p[1],S),p[2]=Math.max(p[2],x),p[3]=Math.max(p[3],S)},Iv=function(e,t,n,s,o,l,u,h,d,p,m,y){if(Math.abs(d)<1e-12){Math.abs(p)>=1e-12&&C(this,xs,wp).call(this,e,t,n,s,o,l,u,h,-m/p,y);return}const w=p**2-4*m*d;if(w<0)return;const x=Math.sqrt(w),S=2*d;C(this,xs,wp).call(this,e,t,n,s,o,l,u,h,(-p+x)/S,y),C(this,xs,wp).call(this,e,t,n,s,o,l,u,h,(-p-x)/S,y)},T(Se,xs);function eL(r){return decodeURIComponent(escape(r))}let Zy=null,Jx=null;function tL(r){return Zy||(Zy=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Jx=new Map([["","t"]])),r.replaceAll(Zy,(e,t,n)=>t?t.normalize("NFKC"):Jx.get(n))}function nL(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const r=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(r);else for(let e=0;e<32;e++)r[e]=Math.floor(Math.random()*255);return Nk(r)}const zk="pdfjs_internal_id_",Hi={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class zg{constructor(){this.constructor===zg&&it("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,s,o){return"none"}destroy(e=!1){}}var ch;const Bw=class Bw{constructor({enableHWA:e=!1}={}){T(this,ch,!1);this.constructor===Bw&&it("Cannot initialize BaseCanvasFactory."),E(this,ch,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!f(this,ch)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){it("Abstract method `_createCanvas` called.")}};ch=new WeakMap;let Yp=Bw;class jg{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===jg&&it("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),n=this.isCompressed?Pv.BINARY:Pv.NONE;return this._fetchData(t,n).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){it("Abstract method `_fetchData` called.")}}class Bg{constructor({baseUrl:e=null}){this.constructor===Bg&&it("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){it("Abstract method `_fetchData` called.")}}class dw{constructor(){this.constructor===dw&&it("Cannot initialize BaseSVGFactory.")}create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){it("Abstract method `_createSVG` called.")}}const $i="http://www.w3.org/2000/svg",Ko=class Ko{};De(Ko,"CSS",96),De(Ko,"PDF",72),De(Ko,"PDF_TO_CSS_UNITS",Ko.CSS/Ko.PDF);let ko=Ko;var Qo,di,Xi,zn,ug,Jo,ve,fn,Fl,Ol,bp,jk,Mv,Nl,zc,jc,Dv,Bc;class rL extends zg{constructor({docId:t,ownerDocument:n=globalThis.document}={}){super();T(this,ve);T(this,Qo);T(this,di);T(this,Xi);T(this,zn);T(this,ug);T(this,Jo,0);E(this,Xi,t),E(this,zn,n)}addFilter(t){if(!t)return"none";let n=f(this,ve,fn).get(t);if(n)return n;const[s,o,l]=C(this,ve,bp).call(this,t),u=t.length===1?s:`${s}${o}${l}`;if(n=f(this,ve,fn).get(u),n)return f(this,ve,fn).set(t,n),n;const h=`g_${f(this,Xi)}_transfer_map_${Qn(this,Jo)._++}`,d=`url(#${h})`;f(this,ve,fn).set(t,d),f(this,ve,fn).set(u,d);const p=C(this,ve,Nl).call(this,h);return C(this,ve,jc).call(this,s,o,l,p),d}addHCMFilter(t,n){var x;const s=`${t}-${n}`,o="base";let l=f(this,ve,Fl).get(o);if((l==null?void 0:l.key)===s||(l?((x=l.filter)==null||x.remove(),l.key=s,l.url="none",l.filter=null):(l={key:s,url:"none",filter:null},f(this,ve,Fl).set(o,l)),!t||!n))return l.url;const u=C(this,ve,Bc).call(this,t);t=Se.makeHexColor(...u);const h=C(this,ve,Bc).call(this,n);if(n=Se.makeHexColor(...h),f(this,ve,Ol).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return l.url;const d=new Array(256);for(let S=0;S<=255;S++){const A=S/255;d[S]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const p=d.join(","),m=`g_${f(this,Xi)}_hcm_filter`,y=l.filter=C(this,ve,Nl).call(this,m);C(this,ve,jc).call(this,p,p,p,y),C(this,ve,Mv).call(this,y);const w=(S,A)=>{const k=u[S]/255,P=h[S]/255,R=new Array(A+1);for(let F=0;F<=A;F++)R[F]=k+F/A*(P-k);return R.join(",")};return C(this,ve,jc).call(this,w(0,5),w(1,5),w(2,5),y),l.url=`url(#${m})`,l.url}addAlphaFilter(t){let n=f(this,ve,fn).get(t);if(n)return n;const[s]=C(this,ve,bp).call(this,[t]),o=`alpha_${s}`;if(n=f(this,ve,fn).get(o),n)return f(this,ve,fn).set(t,n),n;const l=`g_${f(this,Xi)}_alpha_map_${Qn(this,Jo)._++}`,u=`url(#${l})`;f(this,ve,fn).set(t,u),f(this,ve,fn).set(o,u);const h=C(this,ve,Nl).call(this,l);return C(this,ve,Dv).call(this,s,h),u}addLuminosityFilter(t){let n=f(this,ve,fn).get(t||"luminosity");if(n)return n;let s,o;if(t?([s]=C(this,ve,bp).call(this,[t]),o=`luminosity_${s}`):o="luminosity",n=f(this,ve,fn).get(o),n)return f(this,ve,fn).set(t,n),n;const l=`g_${f(this,Xi)}_luminosity_map_${Qn(this,Jo)._++}`,u=`url(#${l})`;f(this,ve,fn).set(t,u),f(this,ve,fn).set(o,u);const h=C(this,ve,Nl).call(this,l);return C(this,ve,jk).call(this,h),t&&C(this,ve,Dv).call(this,s,h),u}addHighlightHCMFilter(t,n,s,o,l){var P;const u=`${n}-${s}-${o}-${l}`;let h=f(this,ve,Fl).get(t);if((h==null?void 0:h.key)===u||(h?((P=h.filter)==null||P.remove(),h.key=u,h.url="none",h.filter=null):(h={key:u,url:"none",filter:null},f(this,ve,Fl).set(t,h)),!n||!s))return h.url;const[d,p]=[n,s].map(C(this,ve,Bc).bind(this));let m=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),y=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),[w,x]=[o,l].map(C(this,ve,Bc).bind(this));y<m&&([m,y,w,x]=[y,m,x,w]),f(this,ve,Ol).style.color="";const S=(R,F,N)=>{const M=new Array(256),$=(y-m)/N,W=R/255,Q=(F-R)/(255*N);let z=0;for(let q=0;q<=N;q++){const ne=Math.round(m+q*$),J=W+q*Q;for(let Y=z;Y<=ne;Y++)M[Y]=J;z=ne+1}for(let q=z;q<256;q++)M[q]=M[z-1];return M.join(",")},A=`g_${f(this,Xi)}_hcm_${t}_filter`,k=h.filter=C(this,ve,Nl).call(this,A);return C(this,ve,Mv).call(this,k),C(this,ve,jc).call(this,S(w[0],x[0],5),S(w[1],x[1],5),S(w[2],x[2],5),k),h.url=`url(#${A})`,h.url}destroy(t=!1){t&&f(this,ve,Fl).size!==0||(f(this,di)&&(f(this,di).parentNode.parentNode.remove(),E(this,di,null)),f(this,Qo)&&(f(this,Qo).clear(),E(this,Qo,null)),E(this,Jo,0))}}Qo=new WeakMap,di=new WeakMap,Xi=new WeakMap,zn=new WeakMap,ug=new WeakMap,Jo=new WeakMap,ve=new WeakSet,fn=function(){return f(this,Qo)||E(this,Qo,new Map)},Fl=function(){return f(this,ug)||E(this,ug,new Map)},Ol=function(){if(!f(this,di)){const t=f(this,zn).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const s=f(this,zn).createElementNS($i,"svg");s.setAttribute("width",0),s.setAttribute("height",0),E(this,di,f(this,zn).createElementNS($i,"defs")),t.append(s),s.append(f(this,di)),f(this,zn).body.append(t)}return f(this,di)},bp=function(t){if(t.length===1){const d=t[0],p=new Array(256);for(let y=0;y<256;y++)p[y]=d[y]/255;const m=p.join(",");return[m,m,m]}const[n,s,o]=t,l=new Array(256),u=new Array(256),h=new Array(256);for(let d=0;d<256;d++)l[d]=n[d]/255,u[d]=s[d]/255,h[d]=o[d]/255;return[l.join(","),u.join(","),h.join(",")]},jk=function(t){const n=f(this,zn).createElementNS($i,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},Mv=function(t){const n=f(this,zn).createElementNS($i,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},Nl=function(t){const n=f(this,zn).createElementNS($i,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),f(this,ve,Ol).append(n),n},zc=function(t,n,s){const o=f(this,zn).createElementNS($i,n);o.setAttribute("type","discrete"),o.setAttribute("tableValues",s),t.append(o)},jc=function(t,n,s,o){const l=f(this,zn).createElementNS($i,"feComponentTransfer");o.append(l),C(this,ve,zc).call(this,l,"feFuncR",t),C(this,ve,zc).call(this,l,"feFuncG",n),C(this,ve,zc).call(this,l,"feFuncB",s)},Dv=function(t,n){const s=f(this,zn).createElementNS($i,"feComponentTransfer");n.append(s),C(this,ve,zc).call(this,s,"feFuncA",t)},Bc=function(t){return f(this,ve,Ol).style.color=t,yw(getComputedStyle(f(this,ve,Ol)).getPropertyValue("color"))};class iL extends Yp{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}async function Hg(r,e="text"){if(Hc(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const s=new XMLHttpRequest;s.open("GET",r,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class Bk extends jg{_fetchData(e,t){return Hg(e,this.isCompressed?"arraybuffer":"text").then(n=>({cMapData:n instanceof ArrayBuffer?new Uint8Array(n):Ng(n),compressionType:t}))}}class Hk extends Bg{_fetchData(e){return Hg(e,"arraybuffer").then(t=>new Uint8Array(t))}}class fw extends dw{_createSVG(e){return document.createElementNS($i,e)}}class Vd{constructor({viewBox:e,scale:t,rotation:n,offsetX:s=0,offsetY:o=0,dontFlip:l=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=s,this.offsetY=o;const u=(e[2]+e[0])/2,h=(e[3]+e[1])/2;let d,p,m,y;switch(n%=360,n<0&&(n+=360),n){case 180:d=-1,p=0,m=0,y=1;break;case 90:d=0,p=1,m=1,y=0;break;case 270:d=0,p=-1,m=-1,y=0;break;case 0:d=1,p=0,m=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(m=-m,y=-y);let w,x,S,A;d===0?(w=Math.abs(h-e[1])*t+s,x=Math.abs(u-e[0])*t+o,S=(e[3]-e[1])*t,A=(e[2]-e[0])*t):(w=Math.abs(u-e[0])*t+s,x=Math.abs(h-e[1])*t+o,S=(e[2]-e[0])*t,A=(e[3]-e[1])*t),this.transform=[d*t,p*t,m*t,y*t,w-d*t*u-m*t*h,x-p*t*u-y*t*h],this.width=S,this.height=A}get rawDims(){const{viewBox:e}=this;return Ye(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:o=!1}={}){return new Vd({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:o})}convertToViewportPoint(e,t){return Se.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Se.applyTransform([e[0],e[1]],this.transform),n=Se.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return Se.applyInverseTransform([e,t],this.transform)}}class pw extends Eo{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function gw(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function mw(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function sL(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function oL(r,e="document.pdf"){if(typeof r!="string")return e;if(gw(r))return Be('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=t.exec(r);let o=n.exec(s[1])||n.exec(s[2])||n.exec(s[3]);if(o&&(o=o[0],o.includes("%")))try{o=n.exec(decodeURIComponent(o))[0]}catch{}return o||e}class Zx{constructor(){De(this,"started",Object.create(null));De(this,"times",[])}time(e){e in this.started&&Be(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Be(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:s,end:o}of this.times)e.push(`${n.padEnd(t)} ${o-s}ms
`);return e.join("")}}function Hc(r,e){try{const{protocol:t}=e?new URL(r,e):new URL(r);return t==="http:"||t==="https:"}catch{return!1}}function $n(r){r.preventDefault()}function Uk(r){console.log("Deprecated API usage: "+r)}let eS;class $k{static toDateObject(e){if(!e||typeof e!="string")return null;eS||(eS=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=eS.exec(e);if(!t)return null;const n=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let u=parseInt(t[5],10);u=u>=0&&u<=59?u:0;let h=parseInt(t[6],10);h=h>=0&&h<=59?h:0;const d=t[7]||"Z";let p=parseInt(t[8],10);p=p>=0&&p<=23?p:0;let m=parseInt(t[9],10)||0;return m=m>=0&&m<=59?m:0,d==="-"?(l+=p,u+=m):d==="+"&&(l-=p,u-=m),new Date(Date.UTC(n,s,o,l,u,h))}}function aL(r,{scale:e=1,rotation:t=0}){const{width:n,height:s}=r.attributes.style,o=[0,0,parseInt(n),parseInt(s)];return new Vd({viewBox:o,scale:e,rotation:t})}function yw(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Be(`Not a valid color format: "${r}"`),[0,0,0])}function lL(r){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of r.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;r.set(t,yw(n))}e.remove()}function xt(r){const{a:e,b:t,c:n,d:s,e:o,f:l}=r.getTransform();return[e,t,n,s,o,l]}function Ui(r){const{a:e,b:t,c:n,d:s,e:o,f:l}=r.getTransform().invertSelf();return[e,t,n,s,o,l]}function Xa(r,e,t=!1,n=!0){if(e instanceof Vd){const{pageWidth:s,pageHeight:o}=e.rawDims,{style:l}=r,u=Hn.isCSSRoundSupported,h=`var(--scale-factor) * ${s}px`,d=`var(--scale-factor) * ${o}px`,p=u?`round(${h}, 1px)`:`calc(${h})`,m=u?`round(${d}, 1px)`:`calc(${d})`;!t||e.rotation%180===0?(l.width=p,l.height=m):(l.width=m,l.height=p)}n&&r.setAttribute("data-main-rotation",e.rotation)}var Zo,ea,tr,ta,cg,Vk,Tn,Wk,Gk,xp,qk,Ov;const hg=class hg{constructor(e){T(this,Tn);T(this,Zo,null);T(this,ea,null);T(this,tr);T(this,ta,null);E(this,tr,e)}render(){const e=E(this,Zo,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=f(this,tr)._uiManager._signal;e.addEventListener("contextmenu",$n,{signal:t}),e.addEventListener("pointerdown",C(hg,cg,Vk),{signal:t});const n=E(this,ta,document.createElement("div"));n.className="buttons",e.append(n);const s=f(this,tr).toolbarPosition;if(s){const{style:o}=e,l=f(this,tr)._uiManager.direction==="ltr"?1-s[0]:s[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return C(this,Tn,qk).call(this),e}hide(){var e;f(this,Zo).classList.add("hidden"),(e=f(this,ea))==null||e.hideDropdown()}show(){f(this,Zo).classList.remove("hidden")}addAltTextButton(e){C(this,Tn,xp).call(this,e),f(this,ta).prepend(e,f(this,Tn,Ov))}addColorPicker(e){E(this,ea,e);const t=e.renderButton();C(this,Tn,xp).call(this,t),f(this,ta).prepend(t,f(this,Tn,Ov))}remove(){var e;f(this,Zo).remove(),(e=f(this,ea))==null||e.destroy(),E(this,ea,null)}};Zo=new WeakMap,ea=new WeakMap,tr=new WeakMap,ta=new WeakMap,cg=new WeakSet,Vk=function(e){e.stopPropagation()},Tn=new WeakSet,Wk=function(e){f(this,tr)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},Gk=function(e){f(this,tr)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},xp=function(e){const t=f(this,tr)._uiManager._signal;e.addEventListener("focusin",C(this,Tn,Wk).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",C(this,Tn,Gk).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",$n,{signal:t})},qk=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${f(this,tr).editorType}-button`),C(this,Tn,xp).call(this,e),e.addEventListener("click",t=>{f(this,tr)._uiManager.delete()},{signal:f(this,tr)._uiManager._signal}),f(this,ta).append(e)},Ov=function(){const e=document.createElement("div");return e.className="divider",e},T(hg,cg);let Fv=hg;var hh,na,ra,_o,Xk,Kk,Yk;class uL{constructor(e){T(this,_o);T(this,hh,null);T(this,na,null);T(this,ra);E(this,ra,e)}show(e,t,n){const[s,o]=C(this,_o,Kk).call(this,t,n),{style:l}=f(this,na)||E(this,na,C(this,_o,Xk).call(this));e.append(f(this,na)),l.insetInlineEnd=`${100*s}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){f(this,na).remove()}}hh=new WeakMap,na=new WeakMap,ra=new WeakMap,_o=new WeakSet,Xk=function(){const e=E(this,na,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",$n,{signal:f(this,ra)._signal});const t=E(this,hh,document.createElement("div"));return t.className="buttons",e.append(t),C(this,_o,Yk).call(this),e},Kk=function(e,t){let n=0,s=0;for(const o of e){const l=o.y+o.height;if(l<n)continue;const u=o.x+(t?o.width:0);if(l>n){s=u,n=l;continue}t?u>s&&(s=u):u<s&&(s=u)}return[t?1-s:s,n]},Yk=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=f(this,ra)._signal;e.addEventListener("contextmenu",$n,{signal:n}),e.addEventListener("click",()=>{f(this,ra).highlightSelection("floating_button")},{signal:n}),f(this,hh).append(e)};function Qp(r,e,t){for(const n of t)e.addEventListener(n,r[n].bind(r))}function cL(r){return Math.round(Math.min(255,Math.max(1,255*r))).toString(16).padStart(2,"0")}var dg;class hL{constructor(){T(this,dg,0)}get id(){return`${$R}${Qn(this,dg)._++}`}}dg=new WeakMap;var dh,fg,xr,fh,zv;const Hw=class Hw{constructor(){T(this,fh);T(this,dh,nL());T(this,fg,0);T(this,xr,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const o=s.decode().then(()=>(n.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Ye(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:t,name:n,size:s,type:o}=e;return C(this,fh,zv).call(this,`${t}_${n}_${s}_${o}`,e)}async getFromUrl(e){return C(this,fh,zv).call(this,e,e)}async getFromId(e){f(this,xr)||E(this,xr,new Map);const t=f(this,xr).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=f(this,xr).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){f(this,xr)||E(this,xr,new Map);const t=f(this,xr).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${f(this,dh)}_`)}};dh=new WeakMap,fg=new WeakMap,xr=new WeakMap,fh=new WeakSet,zv=async function(e,t){f(this,xr)||E(this,xr,new Map);let n=f(this,xr).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${f(this,dh)}_${Qn(this,fg)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(n.url=t,s=await Hg(t,"blob")):s=n.file=t,s.type==="image/svg+xml"){const o=Hw._isSVGFittingCanvas,l=new FileReader,u=new Image,h=new Promise((d,p)=>{u.onload=()=>{n.bitmap=u,n.isSvg=!0,d()},l.onload=async()=>{const m=n.svgUrl=l.result;u.src=await o?`${m}#svgView(preserveAspectRatio(none))`:m},u.onerror=l.onerror=p});l.readAsDataURL(s),await h}else n.bitmap=await createImageBitmap(s);n.refCounter=1}catch(s){console.error(s),n=null}return f(this,xr).set(e,n),n&&f(this,xr).set(n.id,n),n};let Nv=Hw;var Gt,eo,ph,qt;class dL{constructor(e=128){T(this,Gt,[]);T(this,eo,!1);T(this,ph);T(this,qt,-1);E(this,ph,e)}add({cmd:e,undo:t,post:n,mustExec:s,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:u=!1}){if(s&&e(),f(this,eo))return;const h={cmd:e,undo:t,post:n,type:o};if(f(this,qt)===-1){f(this,Gt).length>0&&(f(this,Gt).length=0),E(this,qt,0),f(this,Gt).push(h);return}if(l&&f(this,Gt)[f(this,qt)].type===o){u&&(h.undo=f(this,Gt)[f(this,qt)].undo),f(this,Gt)[f(this,qt)]=h;return}const d=f(this,qt)+1;d===f(this,ph)?f(this,Gt).splice(0,1):(E(this,qt,d),d<f(this,Gt).length&&f(this,Gt).splice(d)),f(this,Gt).push(h)}undo(){if(f(this,qt)===-1)return;E(this,eo,!0);const{undo:e,post:t}=f(this,Gt)[f(this,qt)];e(),t==null||t(),E(this,eo,!1),E(this,qt,f(this,qt)-1)}redo(){if(f(this,qt)<f(this,Gt).length-1){E(this,qt,f(this,qt)+1),E(this,eo,!0);const{cmd:e,post:t}=f(this,Gt)[f(this,qt)];e(),t==null||t(),E(this,eo,!1)}}hasSomethingToUndo(){return f(this,qt)!==-1}hasSomethingToRedo(){return f(this,qt)<f(this,Gt).length-1}destroy(){E(this,Gt,null)}}Gt=new WeakMap,eo=new WeakMap,ph=new WeakMap,qt=new WeakMap;var pg,Qk;class Wd{constructor(e){T(this,pg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Hn.platform;for(const[n,s,o={}]of e)for(const l of n){const u=l.startsWith("mac+");t&&u?(this.callbacks.set(l.slice(4),{callback:s,options:o}),this.allKeys.add(l.split("+").at(-1))):!t&&!u&&(this.callbacks.set(l,{callback:s,options:o}),this.allKeys.add(l.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(C(this,pg,Qk).call(this,t));if(!n)return;const{callback:s,options:{bubbles:o=!1,args:l=[],checker:u=null}}=n;u&&!u(e,t)||(s.bind(e,...l,t)(),o||(t.stopPropagation(),t.preventDefault()))}}pg=new WeakSet,Qk=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const gg=class gg{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return lL(e),Ye(this,"_colors",e)}convert(e){const t=yw(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,s]of this._colors)if(s.every((o,l)=>o===t[l]))return gg._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Se.makeHexColor(...t):e}};De(gg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let jv=gg;var Xl,nr,Ot,Zt,Kl,Ki,Yl,jr,Ql,ia,fi,Br,sa,gh,mh,pi,Jl,to,gi,mg,no,yh,oa,vh,Zl,en,tt,Yi,aa,wh,bh,xh,Sh,kh,_h,Ah,Eh,Ch,Th,Ph,Rh,Lh,ro,mi,Qi,Ih,he,Sp,Jk,Zk,kp,e_,t_,n_,Bv,r_,Hv,Uv,i_,kn,Ys,s_,o_,$v,a_,Uc,Vv;const Ul=class Ul{constructor(e,t,n,s,o,l,u,h,d){T(this,he);T(this,Xl,new AbortController);T(this,nr,null);T(this,Ot,new Map);T(this,Zt,new Map);T(this,Kl,null);T(this,Ki,null);T(this,Yl,null);T(this,jr,new dL);T(this,Ql,0);T(this,ia,new Set);T(this,fi,null);T(this,Br,null);T(this,sa,new Set);T(this,gh,!1);T(this,mh,null);T(this,pi,null);T(this,Jl,null);T(this,to,!1);T(this,gi,null);T(this,mg,new hL);T(this,no,!1);T(this,yh,!1);T(this,oa,null);T(this,vh,null);T(this,Zl,null);T(this,en,Ge.NONE);T(this,tt,new Set);T(this,Yi,null);T(this,aa,null);T(this,wh,null);T(this,bh,this.blur.bind(this));T(this,xh,this.focus.bind(this));T(this,Sh,this.copy.bind(this));T(this,kh,this.cut.bind(this));T(this,_h,this.paste.bind(this));T(this,Ah,this.keydown.bind(this));T(this,Eh,this.keyup.bind(this));T(this,Ch,this.onEditingAction.bind(this));T(this,Th,this.onPageChanging.bind(this));T(this,Ph,this.onScaleChanging.bind(this));T(this,Rh,this.onRotationChanging.bind(this));T(this,Lh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});T(this,ro,[0,0]);T(this,mi,null);T(this,Qi,null);T(this,Ih,null);this._signal=f(this,Xl).signal,E(this,Qi,e),E(this,Ih,t),E(this,Kl,n),this._eventBus=s,this._eventBus._on("editingaction",f(this,Ch)),this._eventBus._on("pagechanging",f(this,Th)),this._eventBus._on("scalechanging",f(this,Ph)),this._eventBus._on("rotationchanging",f(this,Rh)),C(this,he,e_).call(this),C(this,he,i_).call(this),C(this,he,Bv).call(this),E(this,Ki,o.annotationStorage),E(this,mh,o.filterFactory),E(this,aa,l),E(this,Jl,u||null),E(this,gh,h),E(this,Zl,d||null),this.viewParameters={realScale:ko.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Ul.prototype,t=l=>f(l,Qi).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:u})=>{if(u instanceof HTMLInputElement){const{type:h}=u;return h!=="text"&&h!=="number"}return!0},s=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Ye(this,"_keyboardManager",new Wd([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&f(l,Qi).contains(u)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&f(l,Qi).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:t}]]))}destroy(){var e,t,n;(e=f(this,Xl))==null||e.abort(),E(this,Xl,null),this._signal=null,this._eventBus._off("editingaction",f(this,Ch)),this._eventBus._off("pagechanging",f(this,Th)),this._eventBus._off("scalechanging",f(this,Ph)),this._eventBus._off("rotationchanging",f(this,Rh));for(const s of f(this,Zt).values())s.destroy();f(this,Zt).clear(),f(this,Ot).clear(),f(this,sa).clear(),E(this,nr,null),f(this,tt).clear(),f(this,jr).destroy(),(t=f(this,Kl))==null||t.destroy(),(n=f(this,gi))==null||n.hide(),E(this,gi,null),f(this,pi)&&(clearTimeout(f(this,pi)),E(this,pi,null)),f(this,mi)&&(clearTimeout(f(this,mi)),E(this,mi,null))}async mlGuess(e){var t;return((t=f(this,Zl))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!f(this,Zl)}get hcmFilter(){return Ye(this,"hcmFilter",f(this,aa)?f(this,mh).addHCMFilter(f(this,aa).foreground,f(this,aa).background):"none")}get direction(){return Ye(this,"direction",getComputedStyle(f(this,Qi)).direction)}get highlightColors(){return Ye(this,"highlightColors",f(this,Jl)?new Map(f(this,Jl).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Ye(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){E(this,vh,e)}editAltText(e){var t;(t=f(this,Kl))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){E(this,Ql,e-1)}focusMainContainer(){f(this,Qi).focus()}findParent(e,t){for(const n of f(this,Zt).values()){const{x:s,y:o,width:l,height:u}=n.div.getBoundingClientRect();if(e>=s&&e<=s+l&&t>=o&&t<=o+u)return n}return null}disableUserSelect(e=!1){f(this,Ih).classList.toggle("noUserSelect",e)}addShouldRescale(e){f(this,sa).add(e)}removeShouldRescale(e){f(this,sa).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*ko.PDF_TO_CSS_UNITS;for(const t of f(this,sa))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:s,focusNode:o,focusOffset:l}=t,u=t.toString(),d=C(this,he,Sp).call(this,t).closest(".textLayer"),p=this.getSelectionBoxes(d);if(p){t.empty(),f(this,en)===Ge.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Ge.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const m of f(this,Zt).values())if(m.hasTextLayer(d)){m.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:n,anchorOffset:s,focusNode:o,focusOffset:l,text:u});break}}}addToAnnotationStorage(e){!e.isEmpty()&&f(this,Ki)&&!f(this,Ki).has(e.id)&&f(this,Ki).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,f(this,to)&&(E(this,to,!1),C(this,he,kp).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of f(this,tt))if(t.div.contains(e)){E(this,oa,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!f(this,oa))return;const[e,t]=f(this,oa);E(this,oa,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){C(this,he,Bv).call(this),C(this,he,Hv).call(this)}removeEditListeners(){C(this,he,r_).call(this),C(this,he,Uv).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of f(this,Br))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of f(this,Br))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=f(this,nr))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of f(this,tt)){const o=s.serialize(!0);o&&t.push(o)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const o of t.items)for(const l of f(this,Br))if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){Be(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const o=[];for(const h of n){const d=s.deserialize(h);if(!d)return;o.push(d)}const l=()=>{for(const h of o)C(this,he,$v).call(this,h);C(this,he,Vv).call(this,o)},u=()=>{for(const h of o)h.remove()};this.addCommands({cmd:l,undo:u,mustExec:!0})}catch(o){Be(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),f(this,en)!==Ge.NONE&&!this.isEditorHandlingKeyboard&&Ul._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,f(this,to)&&(E(this,to,!1),C(this,he,kp).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(C(this,he,t_).call(this),C(this,he,Hv).call(this),C(this,he,kn).call(this,{isEditing:f(this,en)!==Ge.NONE,isEmpty:C(this,he,Uc).call(this),hasSomethingToUndo:f(this,jr).hasSomethingToUndo(),hasSomethingToRedo:f(this,jr).hasSomethingToRedo(),hasSelectedEditor:!1})):(C(this,he,n_).call(this),C(this,he,Uv).call(this),C(this,he,kn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!f(this,Br)){E(this,Br,e);for(const t of f(this,Br))C(this,he,Ys).call(this,t.defaultPropertiesToUpdate)}}getId(){return f(this,mg).id}get currentLayer(){return f(this,Zt).get(f(this,Ql))}getLayer(e){return f(this,Zt).get(e)}get currentPageIndex(){return f(this,Ql)}addLayer(e){f(this,Zt).set(e.pageIndex,e),f(this,no)?e.enable():e.disable()}removeLayer(e){f(this,Zt).delete(e.pageIndex)}updateMode(e,t=null,n=!1){if(f(this,en)!==e){if(E(this,en,e),e===Ge.NONE){this.setEditingState(!1),C(this,he,o_).call(this);return}this.setEditingState(!0),C(this,he,s_).call(this),this.unselectAll();for(const s of f(this,Zt).values())s.updateMode(e);if(!t&&n){this.addNewEditorFromKeyboard();return}if(t){for(const s of f(this,Ot).values())if(s.annotationElementId===t){this.setSelected(s),s.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==f(this,en)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(f(this,Br)){switch(e){case Me.CREATE:this.currentLayer.addNewEditor();return;case Me.HIGHLIGHT_DEFAULT_COLOR:(n=f(this,vh))==null||n.updateColor(t);break;case Me.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(f(this,wh)||E(this,wh,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const s of f(this,tt))s.updateParams(e,t);for(const s of f(this,Br))s.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var o;for(const l of f(this,Ot).values())l.editorType===e&&l.show(t);(((o=f(this,wh))==null?void 0:o.get(Me.HIGHLIGHT_SHOW_ALL))??!0)!==t&&C(this,he,Ys).call(this,[[Me.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(f(this,yh)!==e){E(this,yh,e);for(const t of f(this,Zt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of f(this,Ot).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return f(this,Ot).get(e)}addEditor(e){f(this,Ot).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(f(this,pi)&&clearTimeout(f(this,pi)),E(this,pi,setTimeout(()=>{this.focusMainContainer(),E(this,pi,null)},0))),f(this,Ot).delete(e.id),this.unselect(e),(!e.annotationElementId||!f(this,ia).has(e.annotationElementId))&&((t=f(this,Ki))==null||t.remove(e.id))}addDeletedAnnotationElement(e){f(this,ia).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return f(this,ia).has(e)}removeDeletedAnnotationElement(e){f(this,ia).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){f(this,nr)!==e&&(E(this,nr,e),e&&C(this,he,Ys).call(this,e.propertiesToUpdate))}updateUI(e){f(this,he,a_)===e&&C(this,he,Ys).call(this,e.propertiesToUpdate)}toggleSelected(e){if(f(this,tt).has(e)){f(this,tt).delete(e),e.unselect(),C(this,he,kn).call(this,{hasSelectedEditor:this.hasSelection});return}f(this,tt).add(e),e.select(),C(this,he,Ys).call(this,e.propertiesToUpdate),C(this,he,kn).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of f(this,tt))t!==e&&t.unselect();f(this,tt).clear(),f(this,tt).add(e),e.select(),C(this,he,Ys).call(this,e.propertiesToUpdate),C(this,he,kn).call(this,{hasSelectedEditor:!0})}isSelected(e){return f(this,tt).has(e)}get firstSelectedEditor(){return f(this,tt).values().next().value}unselect(e){e.unselect(),f(this,tt).delete(e),C(this,he,kn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return f(this,tt).size!==0}get isEnterHandled(){return f(this,tt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){f(this,jr).undo(),C(this,he,kn).call(this,{hasSomethingToUndo:f(this,jr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:C(this,he,Uc).call(this)})}redo(){f(this,jr).redo(),C(this,he,kn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:f(this,jr).hasSomethingToRedo(),isEmpty:C(this,he,Uc).call(this)})}addCommands(e){f(this,jr).add(e),C(this,he,kn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:C(this,he,Uc).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...f(this,tt)],t=()=>{for(const s of e)s.remove()},n=()=>{for(const s of e)C(this,he,$v).call(this,s)};this.addCommands({cmd:t,undo:n,mustExec:!0})}commitOrRemove(){var e;(e=f(this,nr))==null||e.commitOrRemove()}hasSomethingToControl(){return f(this,nr)||this.hasSelection}selectAll(){for(const e of f(this,tt))e.commit();C(this,he,Vv).call(this,f(this,Ot).values())}unselectAll(){if(!(f(this,nr)&&(f(this,nr).commitOrRemove(),f(this,en)!==Ge.NONE))&&this.hasSelection){for(const e of f(this,tt))e.unselect();f(this,tt).clear(),C(this,he,kn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;f(this,ro)[0]+=e,f(this,ro)[1]+=t;const[s,o]=f(this,ro),l=[...f(this,tt)],u=1e3;f(this,mi)&&clearTimeout(f(this,mi)),E(this,mi,setTimeout(()=>{E(this,mi,null),f(this,ro)[0]=f(this,ro)[1]=0,this.addCommands({cmd:()=>{for(const h of l)f(this,Ot).has(h.id)&&h.translateInPage(s,o)},undo:()=>{for(const h of l)f(this,Ot).has(h.id)&&h.translateInPage(-s,-o)},mustExec:!1})},u));for(const h of l)h.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),E(this,fi,new Map);for(const e of f(this,tt))f(this,fi).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!f(this,fi))return!1;this.disableUserSelect(!1);const e=f(this,fi);E(this,fi,null);let t=!1;for(const[{x:s,y:o,pageIndex:l},u]of e)u.newX=s,u.newY=o,u.newPageIndex=l,t||(t=s!==u.savedX||o!==u.savedY||l!==u.savedPageIndex);if(!t)return!1;const n=(s,o,l,u)=>{if(f(this,Ot).has(s.id)){const h=f(this,Zt).get(u);h?s._setParentAndPosition(h,o,l):(s.pageIndex=u,s.x=o,s.y=l)}};return this.addCommands({cmd:()=>{for(const[s,{newX:o,newY:l,newPageIndex:u}]of e)n(s,o,l,u)},undo:()=>{for(const[s,{savedX:o,savedY:l,savedPageIndex:u}]of e)n(s,o,l,u)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(f(this,fi))for(const n of f(this,fi).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||f(this,tt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return f(this,nr)===e}getActive(){return f(this,nr)}getMode(){return f(this,en)}get imageManager(){return Ye(this,"imageManager",new Nv)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let d=0,p=t.rangeCount;d<p;d++)if(!e.contains(t.getRangeAt(d).commonAncestorContainer))return null;const{x:n,y:s,width:o,height:l}=e.getBoundingClientRect();let u;switch(e.getAttribute("data-main-rotation")){case"90":u=(d,p,m,y)=>({x:(p-s)/l,y:1-(d+m-n)/o,width:y/l,height:m/o});break;case"180":u=(d,p,m,y)=>({x:1-(d+m-n)/o,y:1-(p+y-s)/l,width:m/o,height:y/l});break;case"270":u=(d,p,m,y)=>({x:1-(p+y-s)/l,y:(d-n)/o,width:y/l,height:m/o});break;default:u=(d,p,m,y)=>({x:(d-n)/o,y:(p-s)/l,width:m/o,height:y/l});break}const h=[];for(let d=0,p=t.rangeCount;d<p;d++){const m=t.getRangeAt(d);if(!m.collapsed)for(const{x:y,y:w,width:x,height:S}of m.getClientRects())x===0||S===0||h.push(u(y,w,x,S))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:e,id:t}){(f(this,Yl)||E(this,Yl,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=f(this,Yl))==null||t.delete(e)}renderAnnotationElement(e){var s;const t=(s=f(this,Yl))==null?void 0:s.get(e.data.id);if(!t)return;const n=f(this,Ki).getRawValue(t);n&&(f(this,en)===Ge.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};Xl=new WeakMap,nr=new WeakMap,Ot=new WeakMap,Zt=new WeakMap,Kl=new WeakMap,Ki=new WeakMap,Yl=new WeakMap,jr=new WeakMap,Ql=new WeakMap,ia=new WeakMap,fi=new WeakMap,Br=new WeakMap,sa=new WeakMap,gh=new WeakMap,mh=new WeakMap,pi=new WeakMap,Jl=new WeakMap,to=new WeakMap,gi=new WeakMap,mg=new WeakMap,no=new WeakMap,yh=new WeakMap,oa=new WeakMap,vh=new WeakMap,Zl=new WeakMap,en=new WeakMap,tt=new WeakMap,Yi=new WeakMap,aa=new WeakMap,wh=new WeakMap,bh=new WeakMap,xh=new WeakMap,Sh=new WeakMap,kh=new WeakMap,_h=new WeakMap,Ah=new WeakMap,Eh=new WeakMap,Ch=new WeakMap,Th=new WeakMap,Ph=new WeakMap,Rh=new WeakMap,Lh=new WeakMap,ro=new WeakMap,mi=new WeakMap,Qi=new WeakMap,Ih=new WeakMap,he=new WeakSet,Sp=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Jk=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=C(this,he,Sp).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(n);s&&(f(this,gi)||E(this,gi,new uL(this)),f(this,gi).show(n,s,this.direction==="ltr"))},Zk=function(){var o,l,u;const e=document.getSelection();if(!e||e.isCollapsed){f(this,Yi)&&((o=f(this,gi))==null||o.hide(),E(this,Yi,null),C(this,he,kn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===f(this,Yi))return;if(!C(this,he,Sp).call(this,e).closest(".textLayer")){f(this,Yi)&&((l=f(this,gi))==null||l.hide(),E(this,Yi,null),C(this,he,kn).call(this,{hasSelectedText:!1}));return}if((u=f(this,gi))==null||u.hide(),E(this,Yi,t),C(this,he,kn).call(this,{hasSelectedText:!0}),!(f(this,en)!==Ge.HIGHLIGHT&&f(this,en)!==Ge.NONE)&&(f(this,en)===Ge.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),E(this,to,this.isShiftKeyDown),!this.isShiftKeyDown)){const h=this._signal,d=p=>{p.type==="pointerup"&&p.button!==0||(window.removeEventListener("pointerup",d),window.removeEventListener("blur",d),p.type==="pointerup"&&C(this,he,kp).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("blur",d,{signal:h})}},kp=function(e=""){f(this,en)===Ge.HIGHLIGHT?this.highlightSelection(e):f(this,gh)&&C(this,he,Jk).call(this)},e_=function(){document.addEventListener("selectionchange",C(this,he,Zk).bind(this),{signal:this._signal})},t_=function(){const e=this._signal;window.addEventListener("focus",f(this,xh),{signal:e}),window.addEventListener("blur",f(this,bh),{signal:e})},n_=function(){window.removeEventListener("focus",f(this,xh)),window.removeEventListener("blur",f(this,bh))},Bv=function(){const e=this._signal;window.addEventListener("keydown",f(this,Ah),{signal:e}),window.addEventListener("keyup",f(this,Eh),{signal:e})},r_=function(){window.removeEventListener("keydown",f(this,Ah)),window.removeEventListener("keyup",f(this,Eh))},Hv=function(){const e=this._signal;document.addEventListener("copy",f(this,Sh),{signal:e}),document.addEventListener("cut",f(this,kh),{signal:e}),document.addEventListener("paste",f(this,_h),{signal:e})},Uv=function(){document.removeEventListener("copy",f(this,Sh)),document.removeEventListener("cut",f(this,kh)),document.removeEventListener("paste",f(this,_h))},i_=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},kn=function(e){Object.entries(e).some(([n,s])=>f(this,Lh)[n]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(f(this,Lh),e)}),f(this,en)===Ge.HIGHLIGHT&&e.hasSelectedEditor===!1&&C(this,he,Ys).call(this,[[Me.HIGHLIGHT_FREE,!0]]))},Ys=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},s_=function(){if(!f(this,no)){E(this,no,!0);for(const e of f(this,Zt).values())e.enable();for(const e of f(this,Ot).values())e.enable()}},o_=function(){if(this.unselectAll(),f(this,no)){E(this,no,!1);for(const e of f(this,Zt).values())e.disable();for(const e of f(this,Ot).values())e.disable()}},$v=function(e){const t=f(this,Zt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},a_=function(){let e=null;for(e of f(this,tt));return e},Uc=function(){if(f(this,Ot).size===0)return!0;if(f(this,Ot).size===1)for(const e of f(this,Ot).values())return e.isEmpty();return!1},Vv=function(e){for(const t of f(this,tt))t.unselect();f(this,tt).clear();for(const t of e)t.isEmpty()||(f(this,tt).add(t),t.select());C(this,he,kn).call(this,{hasSelectedEditor:this.hasSelection})},De(Ul,"TRANSLATE_SMALL",1),De(Ul,"TRANSLATE_BIG",10);let Ka=Ul;var Ji,Zi,Hr,es,rr,eu,Ur,Mh,Wv;const Vi=class Vi{constructor(e){T(this,Mh);T(this,Ji,"");T(this,Zi,!1);T(this,Hr,null);T(this,es,null);T(this,rr,null);T(this,eu,!1);T(this,Ur,null);E(this,Ur,e)}static initialize(e){Vi._l10nPromise||(Vi._l10nPromise=e)}async render(){const e=E(this,Hr,document.createElement("button"));e.className="altText";const t=await Vi._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const n=f(this,Ur)._uiManager._signal;e.addEventListener("contextmenu",$n,{signal:n}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const s=o=>{o.preventDefault(),f(this,Ur)._uiManager.editAltText(f(this,Ur))};return e.addEventListener("click",s,{capture:!0,signal:n}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(E(this,eu,!0),s(o))},{signal:n}),await C(this,Mh,Wv).call(this),e}finish(){f(this,Hr)&&(f(this,Hr).focus({focusVisible:f(this,eu)}),E(this,eu,!1))}isEmpty(){return!f(this,Ji)&&!f(this,Zi)}get data(){return{altText:f(this,Ji),decorative:f(this,Zi)}}set data({altText:e,decorative:t}){f(this,Ji)===e&&f(this,Zi)===t||(E(this,Ji,e),E(this,Zi,t),C(this,Mh,Wv).call(this))}toggle(e=!1){f(this,Hr)&&(!e&&f(this,rr)&&(clearTimeout(f(this,rr)),E(this,rr,null)),f(this,Hr).disabled=!e)}destroy(){var e;(e=f(this,Hr))==null||e.remove(),E(this,Hr,null),E(this,es,null)}};Ji=new WeakMap,Zi=new WeakMap,Hr=new WeakMap,es=new WeakMap,rr=new WeakMap,eu=new WeakMap,Ur=new WeakMap,Mh=new WeakSet,Wv=async function(){var s;const e=f(this,Hr);if(!e)return;if(!f(this,Ji)&&!f(this,Zi)){e.classList.remove("done"),(s=f(this,es))==null||s.remove();return}e.classList.add("done"),Vi._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(o=>{e.setAttribute("aria-label",o)});let t=f(this,es);if(!t){E(this,es,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const o=t.id=`alt-text-tooltip-${f(this,Ur).id}`;e.setAttribute("aria-describedby",o);const l=100,u=f(this,Ur)._uiManager._signal;u.addEventListener("abort",()=>{clearTimeout(f(this,rr)),E(this,rr,null)},{once:!0}),e.addEventListener("mouseenter",()=>{E(this,rr,setTimeout(()=>{E(this,rr,null),f(this,es).classList.add("show"),f(this,Ur)._reportTelemetry({action:"alt_text_tooltip"})},l))},{signal:u}),e.addEventListener("mouseleave",()=>{var h;f(this,rr)&&(clearTimeout(f(this,rr)),E(this,rr,null)),(h=f(this,es))==null||h.classList.remove("show")},{signal:u})}t.innerText=f(this,Zi)?await Vi._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):f(this,Ji),t.parentNode||e.append(t);const n=f(this,Ur).getImageForAltText();n==null||n.setAttribute("aria-describedby",t.id)},De(Vi,"_l10nPromise",null);let Jp=Vi;var la,$r,pn,tu,ua,tn,ca,nu,ru,gn,Dh,ha,io,Fh,da,ts,yi,iu,su,Sr,Oh,yg,$e,Gv,Nh,qv,Xv,l_,u_,Kv,Yv,Qv,c_,h_,d_,f_,Jv,$c;const ot=class ot{constructor(e){T(this,$e);T(this,la,null);T(this,$r,null);T(this,pn,null);T(this,tu,!1);T(this,ua,!1);T(this,tn,null);T(this,ca,null);T(this,nu,this.focusin.bind(this));T(this,ru,this.focusout.bind(this));T(this,gn,null);T(this,Dh,"");T(this,ha,!1);T(this,io,null);T(this,Fh,!1);T(this,da,!1);T(this,ts,!1);T(this,yi,null);T(this,iu,0);T(this,su,0);T(this,Sr,null);De(this,"_initialOptions",Object.create(null));De(this,"_isVisible",!0);De(this,"_uiManager",null);De(this,"_focusEventsAllowed",!0);De(this,"_l10nPromise",null);T(this,Oh,!1);T(this,yg,ot._zIndex++);this.constructor===ot&&it("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:s,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[o,l];const[u,h]=this.parentDimensions;this.x=e.x/u,this.y=e.y/h,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=ot.prototype._resizeWithKeyboard,t=Ka.TRANSLATE_SMALL,n=Ka.TRANSLATE_BIG;return Ye(this,"_resizerKeyboardManager",new Wd([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],ot.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ye(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new fL({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,n){if(ot._l10nPromise||(ot._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(o=>[o,e.get(o.replaceAll(/([A-Z])/g,l=>`-${l.toLowerCase()}`))]))),n!=null&&n.strings)for(const o of n.strings)ot._l10nPromise.set(o,e.get(o));if(ot._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);ot._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){it("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return f(this,Oh)}set _isDraggable(e){var t;E(this,Oh,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=f(this,yg)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):C(this,$e,$c).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(f(this,ha)?E(this,ha,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,s){const[o,l]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(e+n)/o,this.y=(t+s)/l,this.fixAndSetPosition()}translate(e,t){C(this,$e,Gv).call(this,this.parentDimensions,e,t)}translateInPage(e,t){f(this,io)||E(this,io,[this.x,this.y]),C(this,$e,Gv).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){f(this,io)||E(this,io,[this.x,this.y]);const[n,s]=this.parentDimensions;if(this.x+=e/n,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:p}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,p)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:l}=this;const[u,h]=this.getBaseTranslation();o+=u,l+=h,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*l).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!f(this,io)&&(f(this,io)[0]!==this.x||f(this,io)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=ot,s=n/e,o=n/t;switch(this.rotation){case 90:return[-s,o];case 180:return[s,o];case 270:return[s,-o];default:return[-s,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,n]=this.pageDimensions;let{x:s,y:o,width:l,height:u}=this;if(l*=t,u*=n,s*=t,o*=n,this._mustFixPosition)switch(e){case 0:s=Math.max(0,Math.min(t-l,s)),o=Math.max(0,Math.min(n-u,o));break;case 90:s=Math.max(0,Math.min(t-u,s)),o=Math.min(n,Math.max(l,o));break;case 180:s=Math.min(t,Math.max(l,s)),o=Math.min(n,Math.max(u,o));break;case 270:s=Math.min(t,Math.max(u,s)),o=Math.max(0,Math.min(n-l,o));break}this.x=s/=t,this.y=o/=n;const[h,d]=this.getBaseTranslation();s+=h,o+=d;const{style:p}=this.div;p.left=`${(100*s).toFixed(2)}%`,p.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return C(n=ot,Nh,qv).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return C(n=ot,Nh,qv).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this,s=t*e,o=n*e;return Hn.isCSSRoundSupported?[Math.round(s),Math.round(o)]:[s,o]}setDims(e,t){const[n,s]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,f(this,ua)||(this.div.style.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,s=n.endsWith("%"),o=!f(this,ua)&&t.endsWith("%");if(s&&o)return;const[l,u]=this.parentDimensions;s||(e.width=`${(100*parseFloat(n)/l).toFixed(2)}%`),!f(this,ua)&&!o&&(e.height=`${(100*parseFloat(t)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=f(this,pn))==null||e.finish()}async addEditToolbar(){return f(this,gn)||f(this,da)?f(this,gn):(E(this,gn,new Fv(this)),this.div.append(f(this,gn).render()),f(this,pn)&&f(this,gn).addAltTextButton(await f(this,pn).render()),f(this,gn))}removeEditToolbar(){var e;f(this,gn)&&(f(this,gn).remove(),E(this,gn,null),(e=f(this,pn))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){f(this,pn)||(Jp.initialize(ot._l10nPromise),E(this,pn,new Jp(this)),f(this,la)&&(f(this,pn).data=f(this,la),E(this,la,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=f(this,pn))==null?void 0:e.data}set altTextData(e){f(this,pn)&&(f(this,pn).data=e)}hasAltText(){var e;return!((e=f(this,pn))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=f(this,tu)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",f(this,nu),{signal:e}),this.div.addEventListener("focusout",f(this,ru),{signal:e});const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[s,o]=this.getInitialTranslation();return this.translate(s,o),Qp(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=Hn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(E(this,ha,!0),this._isDraggable){C(this,$e,c_).call(this,e);return}C(this,$e,Qv).call(this,e)}moveInDOM(){f(this,yi)&&clearTimeout(f(this,yi)),E(this,yi,setTimeout(()=>{var e;E(this,yi,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t,n=this.rotation){const s=this.parentScale,[o,l]=this.pageDimensions,[u,h]=this.pageTranslation,d=e/s,p=t/s,m=this.x*o,y=this.y*l,w=this.width*o,x=this.height*l;switch(n){case 0:return[m+d+u,l-y-p-x+h,m+d+w+u,l-y-p+h];case 90:return[m+p+u,l-y+d+h,m+p+x+u,l-y+d+w+h];case 180:return[m-d-w+u,l-y+p+h,m-d+u,l-y+p+x+h];case 270:return[m-p-x+u,l-y-d-w+h,m-p+u,l-y-d+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,s,o,l]=e,u=o-n,h=l-s;switch(this.rotation){case 0:return[n,t-l,u,h];case 90:return[n,t-s,h,u];case 180:return[o,t-s,u,h];case 270:return[o,t-l,h,u];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){E(this,da,!0)}disableEditMode(){E(this,da,!1)}isInEditMode(){return f(this,da)}shouldGetKeyboardEvents(){return f(this,ts)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,n;const e=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",f(this,nu),{signal:e}),(n=this.div)==null||n.addEventListener("focusout",f(this,ru),{signal:e})}rotate(e){}serialize(e=!1,t=null){it("An editor must be serializable")}static deserialize(e,t,n){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});s.rotation=e.rotation,E(s,la,e.accessibilityData);const[o,l]=s.pageDimensions,[u,h,d,p]=s.getRectInCurrentCoords(e.rect,l);return s.x=u/o,s.y=h/l,s.width=d/o,s.height=p/l,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",f(this,nu)),this.div.removeEventListener("focusout",f(this,ru)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),f(this,yi)&&(clearTimeout(f(this,yi)),E(this,yi,null)),C(this,$e,$c).call(this),this.removeEditToolbar(),f(this,Sr)){for(const e of f(this,Sr).values())clearTimeout(e);E(this,Sr,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(C(this,$e,l_).call(this),f(this,tn).classList.remove("hidden"),Qp(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),E(this,ca,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=f(this,tn).children;if(!f(this,$r)){E(this,$r,Array.from(t));const l=C(this,$e,h_).bind(this),u=C(this,$e,d_).bind(this),h=this._uiManager._signal;for(const d of f(this,$r)){const p=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",l,{signal:h}),d.addEventListener("blur",u,{signal:h}),d.addEventListener("focus",C(this,$e,f_).bind(this,p),{signal:h}),ot._l10nPromise.get(`pdfjs-editor-resizer-label-${p}`).then(m=>d.setAttribute("aria-label",m))}}const n=f(this,$r)[0];let s=0;for(const l of t){if(l===n)break;s++}const o=(360-this.rotation+this.parentRotation)%360/90*(f(this,$r).length/4);if(o!==s){if(o<s)for(let u=0;u<s-o;u++)f(this,tn).append(f(this,tn).firstChild);else if(o>s)for(let u=0;u<o-s;u++)f(this,tn).firstChild.before(f(this,tn).lastChild);let l=0;for(const u of t){const d=f(this,$r)[l++].getAttribute("data-resizer-name");ot._l10nPromise.get(`pdfjs-editor-resizer-label-${d}`).then(p=>u.setAttribute("aria-label",p))}}C(this,$e,Jv).call(this,0),E(this,ts,!0),f(this,tn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){f(this,ts)&&C(this,$e,Yv).call(this,f(this,Dh),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){C(this,$e,$c).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!f(this,gn)){this.addEditToolbar().then(()=>{var n,s;(n=this.div)!=null&&n.classList.contains("selectedEditor")&&((s=f(this,gn))==null||s.show())});return}(t=f(this,gn))==null||t.show()}unselect(){var e,t,n,s;(e=f(this,tn))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=f(this,gn))==null||s.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return f(this,Fh)}set isEditing(e){E(this,Fh,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){E(this,ua,!0);const n=e/t,{style:s}=this.div;s.aspectRatio=n,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){f(this,Sr)||E(this,Sr,new Map);const{action:n}=e;let s=f(this,Sr).get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),f(this,Sr).delete(n),f(this,Sr).size===0&&E(this,Sr,null)},ot._telemetryTimeout),f(this,Sr).set(n,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),E(this,tu,!1)}disable(){this.div&&(this.div.tabIndex=-1),E(this,tu,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};la=new WeakMap,$r=new WeakMap,pn=new WeakMap,tu=new WeakMap,ua=new WeakMap,tn=new WeakMap,ca=new WeakMap,nu=new WeakMap,ru=new WeakMap,gn=new WeakMap,Dh=new WeakMap,ha=new WeakMap,io=new WeakMap,Fh=new WeakMap,da=new WeakMap,ts=new WeakMap,yi=new WeakMap,iu=new WeakMap,su=new WeakMap,Sr=new WeakMap,Oh=new WeakMap,yg=new WeakMap,$e=new WeakSet,Gv=function([e,t],n,s){[n,s]=this.screenToPageTranslation(n,s),this.x+=n/e,this.y+=s/t,this.fixAndSetPosition()},Nh=new WeakSet,qv=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Xv=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},l_=function(){if(f(this,tn))return;E(this,tn,document.createElement("div")),f(this,tn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const s=document.createElement("div");f(this,tn).append(s),s.classList.add("resizer",n),s.setAttribute("data-resizer-name",n),s.addEventListener("pointerdown",C(this,$e,u_).bind(this,n),{signal:t}),s.addEventListener("contextmenu",$n,{signal:t}),s.tabIndex=-1}this.div.prepend(f(this,tn))},u_=function(e,t){var S;t.preventDefault();const{isMac:n}=Hn.platform;if(t.button!==0||t.ctrlKey&&n)return;(S=f(this,pn))==null||S.toggle(!1);const s=C(this,$e,Yv).bind(this,e),o=this._isDraggable;this._isDraggable=!1;const l=this._uiManager._signal,u={passive:!0,capture:!0,signal:l};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",s,u),window.addEventListener("contextmenu",$n,{signal:l});const h=this.x,d=this.y,p=this.width,m=this.height,y=this.parent.div.style.cursor,w=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const x=()=>{var A;this.parent.togglePointerEvents(!0),(A=f(this,pn))==null||A.toggle(!0),this._isDraggable=o,window.removeEventListener("pointerup",x),window.removeEventListener("blur",x),window.removeEventListener("pointermove",s,u),window.removeEventListener("contextmenu",$n),this.parent.div.style.cursor=y,this.div.style.cursor=w,C(this,$e,Kv).call(this,h,d,p,m)};window.addEventListener("pointerup",x,{signal:l}),window.addEventListener("blur",x,{signal:l})},Kv=function(e,t,n,s){const o=this.x,l=this.y,u=this.width,h=this.height;o===e&&l===t&&u===n&&h===s||this.addCommands({cmd:()=>{this.width=u,this.height=h,this.x=o,this.y=l;const[d,p]=this.parentDimensions;this.setDims(d*u,p*h),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=s,this.x=e,this.y=t;const[d,p]=this.parentDimensions;this.setDims(d*n,p*s),this.fixAndSetPosition()},mustExec:!0})},Yv=function(e,t){const[n,s]=this.parentDimensions,o=this.x,l=this.y,u=this.width,h=this.height,d=ot.MIN_SIZE/n,p=ot.MIN_SIZE/s,m=Z=>Math.round(Z*1e4)/1e4,y=C(this,$e,Xv).call(this,this.rotation),w=(Z,G)=>[y[0]*Z+y[2]*G,y[1]*Z+y[3]*G],x=C(this,$e,Xv).call(this,360-this.rotation),S=(Z,G)=>[x[0]*Z+x[2]*G,x[1]*Z+x[3]*G];let A,k,P=!1,R=!1;switch(e){case"topLeft":P=!0,A=(Z,G)=>[0,0],k=(Z,G)=>[Z,G];break;case"topMiddle":A=(Z,G)=>[Z/2,0],k=(Z,G)=>[Z/2,G];break;case"topRight":P=!0,A=(Z,G)=>[Z,0],k=(Z,G)=>[0,G];break;case"middleRight":R=!0,A=(Z,G)=>[Z,G/2],k=(Z,G)=>[0,G/2];break;case"bottomRight":P=!0,A=(Z,G)=>[Z,G],k=(Z,G)=>[0,0];break;case"bottomMiddle":A=(Z,G)=>[Z/2,G],k=(Z,G)=>[Z/2,0];break;case"bottomLeft":P=!0,A=(Z,G)=>[0,G],k=(Z,G)=>[Z,0];break;case"middleLeft":R=!0,A=(Z,G)=>[0,G/2],k=(Z,G)=>[Z,G/2];break}const F=A(u,h),N=k(u,h);let M=w(...N);const $=m(o+M[0]),W=m(l+M[1]);let Q=1,z=1,[q,ne]=this.screenToPageTranslation(t.movementX,t.movementY);if([q,ne]=S(q/n,ne/s),P){const Z=Math.hypot(u,h);Q=z=Math.max(Math.min(Math.hypot(N[0]-F[0]-q,N[1]-F[1]-ne)/Z,1/u,1/h),d/u,p/h)}else R?Q=Math.max(d,Math.min(1,Math.abs(N[0]-F[0]-q)))/u:z=Math.max(p,Math.min(1,Math.abs(N[1]-F[1]-ne)))/h;const J=m(u*Q),Y=m(h*z);M=w(...k(J,Y));const oe=$-M[0],pe=W-M[1];this.width=J,this.height=Y,this.x=oe,this.y=pe,this.setDims(n*J,s*Y),this.fixAndSetPosition()},Qv=function(e){const{isMac:t}=Hn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},c_=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let n,s;const o=this._uiManager._signal;t&&(this.div.classList.add("moving"),n={passive:!0,capture:!0,signal:o},E(this,iu,e.clientX),E(this,su,e.clientY),s=u=>{const{clientX:h,clientY:d}=u,[p,m]=this.screenToPageTranslation(h-f(this,iu),d-f(this,su));E(this,iu,h),E(this,su,d),this._uiManager.dragSelectedEditors(p,m)},window.addEventListener("pointermove",s,n));const l=()=>{window.removeEventListener("pointerup",l),window.removeEventListener("blur",l),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",s,n)),E(this,ha,!1),this._uiManager.endDragSession()||C(this,$e,Qv).call(this,e)};window.addEventListener("pointerup",l,{signal:o}),window.addEventListener("blur",l,{signal:o})},h_=function(e){ot._resizerKeyboardManager.exec(this,e)},d_=function(e){var t;f(this,ts)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==f(this,tn)&&C(this,$e,$c).call(this)},f_=function(e){E(this,Dh,f(this,ts)?e:"")},Jv=function(e){if(f(this,$r))for(const t of f(this,$r))t.tabIndex=e},$c=function(){if(E(this,ts,!1),C(this,$e,Jv).call(this,-1),f(this,ca)){const{savedX:e,savedY:t,savedWidth:n,savedHeight:s}=f(this,ca);C(this,$e,Kv).call(this,e,t,n,s),E(this,ca,null)}},T(ot,Nh),De(ot,"_borderLineWidth",-1),De(ot,"_colorManager",new jv),De(ot,"_zIndex",1),De(ot,"_telemetryTimeout",1e3);let nt=ot;class fL extends nt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const tS=3285377520,br=4294901760,ci=65535;class p_{constructor(e){this.h1=e?e&4294967295:tS,this.h2=e?e&4294967295:tS}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let S=0,A=e.length;S<A;S++){const k=e.charCodeAt(S);k<=255?t[n++]=k:(t[n++]=k>>>8,t[n++]=k&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,o=n-s*4,l=new Uint32Array(t.buffer,0,s);let u=0,h=0,d=this.h1,p=this.h2;const m=3432918353,y=461845907,w=m&ci,x=y&ci;for(let S=0;S<s;S++)S&1?(u=l[S],u=u*m&br|u*w&ci,u=u<<15|u>>>17,u=u*y&br|u*x&ci,d^=u,d=d<<13|d>>>19,d=d*5+3864292196):(h=l[S],h=h*m&br|h*w&ci,h=h<<15|h>>>17,h=h*y&br|h*x&ci,p^=h,p=p<<13|p>>>19,p=p*5+3864292196);switch(u=0,o){case 3:u^=t[s*4+2]<<16;case 2:u^=t[s*4+1]<<8;case 1:u^=t[s*4],u=u*m&br|u*w&ci,u=u<<15|u>>>17,u=u*y&br|u*x&ci,s&1?d^=u:p^=u}this.h1=d,this.h2=p}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&br|e*36045&ci,t=t*4283543511&br|((t<<16|e>>>16)*2950163797&br)>>>16,e^=t>>>1,e=e*444984403&br|e*60499&ci,t=t*3301882366&br|((t<<16|e>>>16)*3120437893&br)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Zv=Object.freeze({map:null,hash:"",transfer:void 0});var fa,nn,vg,g_;class vw{constructor(){T(this,vg);T(this,fa,!1);T(this,nn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=f(this,nn).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return f(this,nn).get(e)}remove(e){if(f(this,nn).delete(e),f(this,nn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of f(this,nn).values())if(t instanceof nt)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=f(this,nn).get(e);let s=!1;if(n!==void 0)for(const[o,l]of Object.entries(t))n[o]!==l&&(s=!0,n[o]=l);else s=!0,f(this,nn).set(e,t);s&&C(this,vg,g_).call(this),t instanceof nt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return f(this,nn).has(e)}getAll(){return f(this,nn).size>0?hw(f(this,nn)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return f(this,nn).size}resetModified(){f(this,fa)&&(E(this,fa,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new m_(this)}get serializable(){if(f(this,nn).size===0)return Zv;const e=new Map,t=new p_,n=[],s=Object.create(null);let o=!1;for(const[l,u]of f(this,nn)){const h=u instanceof nt?u.serialize(!1,s):u;h&&(e.set(l,h),t.update(`${l}:${JSON.stringify(h)}`),o||(o=!!h.bitmap))}if(o)for(const l of e.values())l.bitmap&&n.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:Zv}get editorStats(){let e=null;const t=new Map;for(const n of f(this,nn).values()){if(!(n instanceof nt))continue;const s=n.telemetryFinalData;if(!s)continue;const{type:o}=s;t.has(o)||t.set(o,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[u,h]of Object.entries(s)){if(u==="type")continue;let d=l.get(u);d||(d=new Map,l.set(u,d));const p=d.get(h)??0;d.set(h,p+1)}}for(const[n,s]of t)e[n]=s.computeTelemetryFinalData(e[n]);return e}}fa=new WeakMap,nn=new WeakMap,vg=new WeakSet,g_=function(){f(this,fa)||(E(this,fa,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var zh;class m_ extends vw{constructor(t){super();T(this,zh);const{map:n,hash:s,transfer:o}=t.serializable,l=structuredClone(n,o?{transfer:o}:null);E(this,zh,{map:l,hash:s,transfer:o})}get print(){it("Should not call PrintAnnotationStorage.print")}get serializable(){return f(this,zh)}}zh=new WeakMap;var ou;class pL{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){T(this,ou,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),f(this,ou).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||f(this,ou).has(e.loadedName))){if(Ht(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:s,style:o}=e,l=new FontFace(n,s,o);this.addNativeFontFace(l);try{await l.load(),f(this,ou).add(n),t==null||t(e)}catch{Be(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}it("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw Be(`Failed to load font '${n.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Ye(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(yn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Ye(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Ht(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:t,callback:e};return n.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ye(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(F,N){return F.charCodeAt(N)<<24|F.charCodeAt(N+1)<<16|F.charCodeAt(N+2)<<8|F.charCodeAt(N+3)&255}function s(F,N,M,$){const W=F.substring(0,N),Q=F.substring(N+M);return W+$+Q}let o,l;const u=this._document.createElement("canvas");u.width=1,u.height=1;const h=u.getContext("2d");let d=0;function p(F,N){if(++d>30){Be("Load test font never loaded."),N();return}if(h.font="30px "+F,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){N();return}setTimeout(p.bind(null,F,N))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=s(y,976,m.length,m);const x=16,S=1482184792;let A=n(y,x);for(o=0,l=m.length-3;o<l;o+=4)A=A-S+n(m,o)|0;o<m.length&&(A=A-S+n(m+"XXX",o)|0),y=s(y,x,4,QR(A));const k=`url(data:font/opentype;base64,${btoa(y)});`,P=`@font-face {font-family:"${m}";src:${k}}`;this.insertRule(P);const R=this._document.createElement("div");R.style.visibility="hidden",R.style.width=R.style.height="10px",R.style.position="absolute",R.style.top=R.style.left="0px";for(const F of[e.loadedName,m]){const N=this._document.createElement("span");N.textContent="Hi",N.style.fontFamily=F,R.append(N)}this._document.body.append(R),p(m,()=>{R.remove(),t.complete()})}}ou=new WeakMap;class gL{constructor(e,{disableFontFace:t=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=t===!0,this._inspectFont=n}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const e=Nk(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let o=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(o+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${o}src:${t}}`}return(s=this._inspectFont)==null||s.call(this,this,t),n}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(o){Be(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[t]=function(o,l){};const s=[];for(let o=0,l=n.length;o<l;)switch(n[o++]){case Hi.BEZIER_CURVE_TO:{const[u,h,d,p,m,y]=n.slice(o,o+6);s.push(w=>w.bezierCurveTo(u,h,d,p,m,y)),o+=6}break;case Hi.MOVE_TO:{const[u,h]=n.slice(o,o+2);s.push(d=>d.moveTo(u,h)),o+=2}break;case Hi.LINE_TO:{const[u,h]=n.slice(o,o+2);s.push(d=>d.lineTo(u,h)),o+=2}break;case Hi.QUADRATIC_CURVE_TO:{const[u,h,d,p]=n.slice(o,o+4);s.push(m=>m.quadraticCurveTo(u,h,d,p)),o+=4}break;case Hi.RESTORE:s.push(u=>u.restore());break;case Hi.SAVE:s.push(u=>u.save());break;case Hi.SCALE:Ht(s.length===2,"Scale command is only valid at the third position.");break;case Hi.TRANSFORM:{const[u,h,d,p,m,y]=n.slice(o,o+6);s.push(w=>w.transform(u,h,d,p,m,y)),o+=6}break;case Hi.TRANSLATE:{const[u,h]=n.slice(o,o+2);s.push(d=>d.translate(u,h)),o+=2}break}return this.compiledGlyphs[t]=function(l,u){s[0](l),s[1](l),l.scale(u,-u);for(let h=2,d=s.length;h<d;h++)s[h](l)}}}if(yn){var e0=Promise.withResolvers(),eh=null;(async()=>{const e=await lp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await lp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await lp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await lp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,l;return new Map(Object.entries({fs:e,http:t,https:n,url:s,canvas:o,path2d:l}))})().then(e=>{eh=e,e0.resolve()},e=>{Be(`loadPackages: ${e}`),eh=new Map,e0.resolve()})}class Ri{static get promise(){return e0.promise}static get(e){return eh==null?void 0:eh.get(e)}}const y_=function(r){return Ri.get("fs").promises.readFile(r).then(t=>new Uint8Array(t))};class mL extends zg{}class yL extends Yp{_createCanvas(e,t){return Ri.get("canvas").createCanvas(e,t)}}class vL extends jg{_fetchData(e,t){return y_(e).then(n=>({cMapData:n,compressionType:t}))}}class wL extends Bg{_fetchData(e){return y_(e)}}const En={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function t0(r,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,n),r.clip(s)}class Gd{constructor(){this.constructor===Gd&&it("Cannot initialize BaseShadingPattern.")}getPattern(){it("Abstract method `getPattern` called.")}}class bL extends Gd{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,s){let o;if(s===En.STROKE||s===En.FILL){const l=t.current.getClippedPathBoundingBox(s,xt(e))||[0,0,0,0],u=Math.ceil(l[2]-l[0])||1,h=Math.ceil(l[3]-l[1])||1,d=t.cachedCanvases.getCanvas("pattern",u,h,!0),p=d.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),n=Se.transform(n,[1,0,0,1,l[0],l[1]]),p.transform(...t.baseTransform),this.matrix&&p.transform(...this.matrix),t0(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),o=e.createPattern(d.canvas,"no-repeat");const m=new DOMMatrix(n);o.setTransform(m)}else t0(e,this._bbox),o=this._createGradient(e);return o}}function ev(r,e,t,n,s,o,l,u){const h=e.coords,d=e.colors,p=r.data,m=r.width*4;let y;h[t+1]>h[n+1]&&(y=t,t=n,n=y,y=o,o=l,l=y),h[n+1]>h[s+1]&&(y=n,n=s,s=y,y=l,l=u,u=y),h[t+1]>h[n+1]&&(y=t,t=n,n=y,y=o,o=l,l=y);const w=(h[t]+e.offsetX)*e.scaleX,x=(h[t+1]+e.offsetY)*e.scaleY,S=(h[n]+e.offsetX)*e.scaleX,A=(h[n+1]+e.offsetY)*e.scaleY,k=(h[s]+e.offsetX)*e.scaleX,P=(h[s+1]+e.offsetY)*e.scaleY;if(x>=P)return;const R=d[o],F=d[o+1],N=d[o+2],M=d[l],$=d[l+1],W=d[l+2],Q=d[u],z=d[u+1],q=d[u+2],ne=Math.round(x),J=Math.round(P);let Y,oe,pe,Z,G,ce,L,B;for(let X=ne;X<=J;X++){if(X<A){const ke=X<x?0:(x-X)/(x-A);Y=w-(w-S)*ke,oe=R-(R-M)*ke,pe=F-(F-$)*ke,Z=N-(N-W)*ke}else{let ke;X>P?ke=1:A===P?ke=0:ke=(A-X)/(A-P),Y=S-(S-k)*ke,oe=M-(M-Q)*ke,pe=$-($-z)*ke,Z=W-(W-q)*ke}let I;X<x?I=0:X>P?I=1:I=(x-X)/(x-P),G=w-(w-k)*I,ce=R-(R-Q)*I,L=F-(F-z)*I,B=N-(N-q)*I;const we=Math.round(Math.min(Y,G)),Ae=Math.round(Math.max(Y,G));let ge=m*X+we*4;for(let ke=we;ke<=Ae;ke++)I=(Y-ke)/(Y-G),I<0?I=0:I>1&&(I=1),p[ge++]=oe-(oe-ce)*I|0,p[ge++]=pe-(pe-L)*I|0,p[ge++]=Z-(Z-B)*I|0,p[ge++]=255}}function xL(r,e,t){const n=e.coords,s=e.colors;let o,l;switch(e.type){case"lattice":const u=e.verticesPerRow,h=Math.floor(n.length/u)-1,d=u-1;for(o=0;o<h;o++){let p=o*u;for(let m=0;m<d;m++,p++)ev(r,t,n[p],n[p+1],n[p+u],s[p],s[p+1],s[p+u]),ev(r,t,n[p+u+1],n[p+1],n[p+u],s[p+u+1],s[p+1],s[p+u])}break;case"triangles":for(o=0,l=n.length;o<l;o+=3)ev(r,t,n[o],n[o+1],n[o+2],s[o],s[o+1],s[o+2]);break;default:throw new Error("illegal figure")}}class SL extends Gd{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const u=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-u,p=Math.ceil(this._bounds[3])-h,m=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(p*e[1]*1.1)),3e3),w=d/m,x=p/y,S={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-h,scaleX:1/w,scaleY:1/x},A=m+2*2,k=y+2*2,P=n.getCanvas("mesh",A,k,!1),R=P.context,F=R.createImageData(m,y);if(t){const M=F.data;for(let $=0,W=M.length;$<W;$+=4)M[$]=t[0],M[$+1]=t[1],M[$+2]=t[2],M[$+3]=255}for(const M of this._figures)xL(F,M,S);return R.putImageData(F,2,2),{canvas:P.canvas,offsetX:u-2*w,offsetY:h-2*x,scaleX:w,scaleY:x}}getPattern(e,t,n,s){t0(e,this._bbox);let o;if(s===En.SHADING)o=Se.singularValueDecompose2dScale(xt(e));else if(o=Se.singularValueDecompose2dScale(t.baseTransform),this.matrix){const u=Se.singularValueDecompose2dScale(this.matrix);o=[o[0]*u[0],o[1]*u[1]]}const l=this._createMeshCanvas(o,s===En.SHADING?null:this._background,t.cachedCanvases);return s!==En.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class kL extends Gd{getPattern(){return"hotpink"}}function _L(r){switch(r[0]){case"RadialAxial":return new bL(r);case"Mesh":return new SL(r);case"Dummy":return new kL}throw new Error(`Unknown IR type: ${r[0]}`)}const nS={COLORED:1,UNCOLORED:2},wg=class wg{constructor(e,t,n,s,o){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=s,this.baseTransform=o}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,s=this.xstep,o=this.ystep,l=this.paintType,u=this.tilingType,h=this.color,d=this.canvasGraphicsFactory;Fg("TilingType: "+u);const p=n[0],m=n[1],y=n[2],w=n[3],x=Se.singularValueDecompose2dScale(this.matrix),S=Se.singularValueDecompose2dScale(this.baseTransform),A=[x[0]*S[0],x[1]*S[1]],k=this.getSizeAndScale(s,this.ctx.canvas.width,A[0]),P=this.getSizeAndScale(o,this.ctx.canvas.height,A[1]),R=e.cachedCanvases.getCanvas("pattern",k.size,P.size,!0),F=R.context,N=d.createCanvasGraphics(F);N.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(N,l,h);let M=p,$=m,W=y,Q=w;return p<0&&(M=0,W+=Math.abs(p)),m<0&&($=0,Q+=Math.abs(m)),F.translate(-(k.scale*M),-(P.scale*$)),N.transform(k.scale,0,0,P.scale,0,0),F.save(),this.clipBbox(N,M,$,W,Q),N.baseTransform=xt(N.ctx),N.executeOperatorList(t),N.endDrawing(),{canvas:R.canvas,scaleX:k.scale,scaleY:P.scale,offsetX:M,offsetY:$}}getSizeAndScale(e,t,n){e=Math.abs(e);const s=Math.max(wg.MAX_PATTERN_SIZE,t);let o=Math.ceil(e*n);return o>=s?o=s:n=o/e,{scale:n,size:o}}clipBbox(e,t,n,s,o){const l=s-t,u=o-n;e.ctx.rect(t,n,l,u),e.current.updateRectMinMax(xt(e.ctx),[t,n,s,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const s=e.ctx,o=e.current;switch(t){case nS.COLORED:const l=this.ctx;s.fillStyle=l.fillStyle,s.strokeStyle=l.strokeStyle,o.fillColor=l.fillStyle,o.strokeColor=l.strokeStyle;break;case nS.UNCOLORED:const u=Se.makeHexColor(n[0],n[1],n[2]);s.fillStyle=u,s.strokeStyle=u,o.fillColor=u,o.strokeColor=u;break;default:throw new YR(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,s){let o=n;s!==En.SHADING&&(o=Se.transform(o,t.baseTransform),this.matrix&&(o=Se.transform(o,this.matrix)));const l=this.createPatternCanvas(t);let u=new DOMMatrix(o);u=u.translate(l.offsetX,l.offsetY),u=u.scale(1/l.scaleX,1/l.scaleY);const h=e.createPattern(l.canvas,"repeat");return h.setTransform(u),h}};De(wg,"MAX_PATTERN_SIZE",3e3);let n0=wg;function AL({src:r,srcPos:e=0,dest:t,width:n,height:s,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const u=Hn.isLittleEndian?4278190080:255,[h,d]=l?[o,u]:[u,o],p=n>>3,m=n&7,y=r.length;t=new Uint32Array(t.buffer);let w=0;for(let x=0;x<s;x++){for(const A=e+p;e<A;e++){const k=e<y?r[e]:255;t[w++]=k&128?d:h,t[w++]=k&64?d:h,t[w++]=k&32?d:h,t[w++]=k&16?d:h,t[w++]=k&8?d:h,t[w++]=k&4?d:h,t[w++]=k&2?d:h,t[w++]=k&1?d:h}if(m===0)continue;const S=e<y?r[e++]:255;for(let A=0;A<m;A++)t[w++]=S&1<<7-A?d:h}return{srcPos:e,destPos:w}}const rS=16,iS=100,EL=15,sS=10,oS=1e3,Bn=16;function CL(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(n,s){e.translate(n,s),this.__originalTranslate(n,s)},r.scale=function(n,s){e.scale(n,s),this.__originalScale(n,s)},r.transform=function(n,s,o,l,u,h){e.transform(n,s,o,l,u,h),this.__originalTransform(n,s,o,l,u,h)},r.setTransform=function(n,s,o,l,u,h){e.setTransform(n,s,o,l,u,h),this.__originalSetTransform(n,s,o,l,u,h)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(n){e.rotate(n),this.__originalRotate(n)},r.clip=function(n){e.clip(n),this.__originalClip(n)},r.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},r.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},r.bezierCurveTo=function(t,n,s,o,l,u){e.bezierCurveTo(t,n,s,o,l,u),this.__originalBezierCurveTo(t,n,s,o,l,u)},r.rect=function(t,n,s,o){e.rect(t,n,s,o),this.__originalRect(t,n,s,o)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class TL{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,n)):(s=this.canvasFactory.create(t,n),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function up(r,e,t,n,s,o,l,u,h,d){const[p,m,y,w,x,S]=xt(r);if(m===0&&y===0){const P=l*p+x,R=Math.round(P),F=u*w+S,N=Math.round(F),M=(l+h)*p+x,$=Math.abs(Math.round(M)-R)||1,W=(u+d)*w+S,Q=Math.abs(Math.round(W)-N)||1;return r.setTransform(Math.sign(p),0,0,Math.sign(w),R,N),r.drawImage(e,t,n,s,o,0,0,$,Q),r.setTransform(p,m,y,w,x,S),[$,Q]}if(p===0&&w===0){const P=u*y+x,R=Math.round(P),F=l*m+S,N=Math.round(F),M=(u+d)*y+x,$=Math.abs(Math.round(M)-R)||1,W=(l+h)*m+S,Q=Math.abs(Math.round(W)-N)||1;return r.setTransform(0,Math.sign(m),Math.sign(y),0,R,N),r.drawImage(e,t,n,s,o,0,0,Q,$),r.setTransform(p,m,y,w,x,S),[Q,$]}r.drawImage(e,t,n,s,o,l,u,h,d);const A=Math.hypot(p,m),k=Math.hypot(y,w);return[A*h,k*d]}function PL(r){const{width:e,height:t}=r;if(e>oS||t>oS)return null;const n=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1;let l=new Uint8Array(o*(t+1)),u,h,d;const p=e+7&-8;let m=new Uint8Array(p*t),y=0;for(const k of r.data){let P=128;for(;P>0;)m[y++]=k&P?0:255,P>>=1}let w=0;for(y=0,m[y]!==0&&(l[0]=1,++w),h=1;h<e;h++)m[y]!==m[y+1]&&(l[h]=m[y]?2:1,++w),y++;for(m[y]!==0&&(l[h]=2,++w),u=1;u<t;u++){y=u*p,d=u*o,m[y-p]!==m[y]&&(l[d]=m[y]?1:8,++w);let k=(m[y]?4:0)+(m[y-p]?8:0);for(h=1;h<e;h++)k=(k>>2)+(m[y+1]?4:0)+(m[y-p+1]?8:0),s[k]&&(l[d+h]=s[k],++w),y++;if(m[y-p]!==m[y]&&(l[d+h]=m[y]?2:4,++w),w>n)return null}for(y=p*(t-1),d=u*o,m[y]!==0&&(l[d]=8,++w),h=1;h<e;h++)m[y]!==m[y+1]&&(l[d+h]=m[y]?4:8,++w),y++;if(m[y]!==0&&(l[d+h]=4,++w),w>n)return null;const x=new Int32Array([0,o,-1,0,-o,0,0,0,1]),S=new Path2D;for(u=0;w&&u<=t;u++){let k=u*o;const P=k+e;for(;k<P&&!l[k];)k++;if(k===P)continue;S.moveTo(k%o,u);const R=k;let F=l[k];do{const N=x[F];do k+=N;while(!l[k]);const M=l[k];M!==5&&M!==10?(F=M,l[k]=0):(F=M&51*F>>4,l[k]&=F>>2|F<<2),S.lineTo(k%o,k/o|0),l[k]||--w}while(R!==k);--u}return m=null,l=null,function(k){k.save(),k.scale(1/e,-1/t),k.translate(0,-t),k.fill(S),k.beginPath(),k.restore()}}class aS{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Fk,this.textMatrixScale=1,this.fontMatrix=Tv,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=dn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=Se.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=Se.applyTransform(t,e),s=Se.applyTransform(t.slice(2),e),o=Se.applyTransform([t[0],t[3]],e),l=Se.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],s[0],o[0],l[0]),this.minY=Math.min(this.minY,n[1],s[1],o[1],l[1]),this.maxX=Math.max(this.maxX,n[0],s[0],o[0],l[0]),this.maxY=Math.max(this.maxY,n[1],s[1],o[1],l[1])}updateScalingPathMinMax(e,t){Se.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,s,o,l,u,h,d,p){const m=Se.bezierBoundingBox(t,n,s,o,l,u,h,d,p);p||this.updateRectMinMax(e,m)}getPathBoundingBox(e=En.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===En.STROKE){t||it("Stroke bounding box must include transform.");const s=Se.singularValueDecompose2dScale(t),o=s[0]*this.lineWidth/2,l=s[1]*this.lineWidth/2;n[0]-=o,n[1]-=l,n[2]+=o,n[3]+=l}return n}updateClipFromPath(){const e=Se.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=En.FILL,t=null){return Se.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function lS(r,e){if(typeof ImageData<"u"&&e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,n=e.width,s=t%Bn,o=(t-s)/Bn,l=s===0?o:o+1,u=r.createImageData(n,Bn);let h=0,d;const p=e.data,m=u.data;let y,w,x,S;if(e.kind===vp.GRAYSCALE_1BPP){const A=p.byteLength,k=new Uint32Array(m.buffer,0,m.byteLength>>2),P=k.length,R=n+7>>3,F=4294967295,N=Hn.isLittleEndian?4278190080:255;for(y=0;y<l;y++){for(x=y<o?Bn:s,d=0,w=0;w<x;w++){const M=A-h;let $=0;const W=M>R?n:M*8-7,Q=W&-8;let z=0,q=0;for(;$<Q;$+=8)q=p[h++],k[d++]=q&128?F:N,k[d++]=q&64?F:N,k[d++]=q&32?F:N,k[d++]=q&16?F:N,k[d++]=q&8?F:N,k[d++]=q&4?F:N,k[d++]=q&2?F:N,k[d++]=q&1?F:N;for(;$<W;$++)z===0&&(q=p[h++],z=128),k[d++]=q&z?F:N,z>>=1}for(;d<P;)k[d++]=0;r.putImageData(u,0,y*Bn)}}else if(e.kind===vp.RGBA_32BPP){for(w=0,S=n*Bn*4,y=0;y<o;y++)m.set(p.subarray(h,h+S)),h+=S,r.putImageData(u,0,w),w+=Bn;y<l&&(S=n*s*4,m.set(p.subarray(h,h+S)),r.putImageData(u,0,w))}else if(e.kind===vp.RGB_24BPP)for(x=Bn,S=n*x,y=0;y<l;y++){for(y>=o&&(x=s,S=n*x),d=0,w=S;w--;)m[d++]=p[h++],m[d++]=p[h++],m[d++]=p[h++],m[d++]=255;r.putImageData(u,0,y*Bn)}else throw new Error(`bad image kind: ${e.kind}`)}function uS(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,s=t%Bn,o=(t-s)/Bn,l=s===0?o:o+1,u=r.createImageData(n,Bn);let h=0;const d=e.data,p=u.data;for(let m=0;m<l;m++){const y=m<o?Bn:s;({srcPos:h}=AL({src:d,srcPos:h,dest:p,width:n,height:y,nonBlackColor:0})),r.putImageData(u,0,m*Bn)}}function Mc(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)r[n]!==void 0&&(e[n]=r[n]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function cp(r){if(r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0),!yn){const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}}function cS(r,e){if(e)return!0;const t=Se.singularValueDecompose2dScale(r);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*ko.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}const RL=["butt","round","square"],LL=["miter","round","bevel"],IL={},hS={};var Ao,r0,i0;const Uw=class Uw{constructor(e,t,n,s,o,{optionalContentConfig:l,markedContentStack:u=null},h,d){T(this,Ao);this.ctx=e,this.current=new aS(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=s,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=l,this.cachedCanvases=new TL(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:s=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=u,n){const h=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...xt(this.compositeCtx))}this.ctx.save(),cp(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=xt(this.ctx)}executeOperatorList(e,t,n,s){const o=e.argsArray,l=e.fnArray;let u=t||0;const h=o.length;if(h===u)return u;const d=h-u>sS&&typeof n=="function",p=d?Date.now()+EL:0;let m=0;const y=this.commonObjs,w=this.objs;let x;for(;;){if(s!==void 0&&u===s.nextBreakPoint)return s.breakIt(u,n),u;if(x=l[u],x!==zr.dependency)this[x].apply(this,o[u]);else for(const S of o[u]){const A=S.startsWith("g_")?y:w;if(!A.has(S))return A.get(S,n),u}if(u++,u===h)return u;if(d&&++m>sS){if(Date.now()>p)return n(),u;m=0}}}endDrawing(){C(this,Ao,r0).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),C(this,Ao,i0).call(this)}_scaleImage(e,t){const n=e.width,s=e.height;let o=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),u=n,h=s,d="prescale1",p,m;for(;o>2&&u>1||l>2&&h>1;){let y=u,w=h;o>2&&u>1&&(y=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),o/=u/y),l>2&&h>1&&(w=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,l/=h/w),p=this.cachedCanvases.getCanvas(d,y,w),m=p.context,m.clearRect(0,0,y,w),m.drawImage(e,0,0,u,h,0,0,y,w),e=p.canvas,u=y,h=w,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:u,paintHeight:h}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:s}=e,o=this.current.fillColor,l=this.current.patternFill,u=xt(t);let h,d,p,m;if((e.bitmap||e.data)&&e.count>1){const W=e.bitmap||e.data.buffer;d=JSON.stringify(l?u:[u.slice(0,4),o]),h=this._cachedBitmapsMap.get(W),h||(h=new Map,this._cachedBitmapsMap.set(W,h));const Q=h.get(d);if(Q&&!l){const z=Math.round(Math.min(u[0],u[2])+u[4]),q=Math.round(Math.min(u[1],u[3])+u[5]);return{canvas:Q,offsetX:z,offsetY:q}}p=Q}p||(m=this.cachedCanvases.getCanvas("maskCanvas",n,s),uS(m.context,e));let y=Se.transform(u,[1/n,0,0,-1/s,0,0]);y=Se.transform(y,[1,0,0,1,0,-s]);const[w,x,S,A]=Se.getAxialAlignedBoundingBox([0,0,n,s],y),k=Math.round(S-w)||1,P=Math.round(A-x)||1,R=this.cachedCanvases.getCanvas("fillCanvas",k,P),F=R.context,N=w,M=x;F.translate(-N,-M),F.transform(...y),p||(p=this._scaleImage(m.canvas,Ui(F)),p=p.img,h&&l&&h.set(d,p)),F.imageSmoothingEnabled=cS(xt(F),e.interpolate),up(F,p,0,0,p.width,p.height,0,0,n,s),F.globalCompositeOperation="source-in";const $=Se.transform(Ui(F),[1,0,0,1,-N,-M]);return F.fillStyle=l?o.getPattern(t,this,$,En.FILL):o,F.fillRect(0,0,n,s),h&&!l&&(this.cachedCanvases.delete("fillCanvas"),h.set(d,R.canvas)),{canvas:R.canvas,offsetX:Math.round(N),offsetY:Math.round(M)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=RL[e]}setLineJoin(e){this.ctx.lineJoin=LL[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=s.context;const o=this.ctx;o.setTransform(...xt(this.suspendedCtx)),Mc(this.suspendedCtx,o),CL(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Mc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,s){const o=s[0],l=s[1],u=s[2]-o,h=s[3]-l;u===0||h===0||(this.genericComposeSMask(t.context,n,u,h,t.subtype,t.backdrop,t.transferMap,o,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,s,o,l,u,h,d,p,m){let y=e.canvas,w=h-p,x=d-m;if(l){if(w<0||x<0||w+n>y.width||x+s>y.height){const A=this.cachedCanvases.getCanvas("maskExtension",n,s),k=A.context;k.drawImage(y,-w,-x),l.some(P=>P!==0)&&(k.globalCompositeOperation="destination-atop",k.fillStyle=Se.makeHexColor(...l),k.fillRect(0,0,n,s),k.globalCompositeOperation="source-over"),y=A.canvas,w=x=0}else if(l.some(A=>A!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(w,x,n,s),e.clip(A),e.globalCompositeOperation="destination-atop",e.fillStyle=Se.makeHexColor(...l),e.fillRect(w,x,n,s),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&u?t.filter=this.filterFactory.addAlphaFilter(u):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(u));const S=new Path2D;S.rect(h,d,n,s),t.clip(S),t.globalCompositeOperation="destination-in",t.drawImage(y,w,x,n,s,h,d,n,s),t.restore()}save(){this.inSMaskMode?(Mc(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Mc(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,s,o,l){this.ctx.transform(e,t,n,s,o,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const s=this.ctx,o=this.current;let l=o.x,u=o.y,h,d;const p=xt(s),m=p[0]===0&&p[3]===0||p[1]===0&&p[2]===0,y=m?n.slice(0):null;for(let w=0,x=0,S=e.length;w<S;w++)switch(e[w]|0){case zr.rectangle:l=t[x++],u=t[x++];const A=t[x++],k=t[x++],P=l+A,R=u+k;s.moveTo(l,u),A===0||k===0?s.lineTo(P,R):(s.lineTo(P,u),s.lineTo(P,R),s.lineTo(l,R)),m||o.updateRectMinMax(p,[l,u,P,R]),s.closePath();break;case zr.moveTo:l=t[x++],u=t[x++],s.moveTo(l,u),m||o.updatePathMinMax(p,l,u);break;case zr.lineTo:l=t[x++],u=t[x++],s.lineTo(l,u),m||o.updatePathMinMax(p,l,u);break;case zr.curveTo:h=l,d=u,l=t[x+4],u=t[x+5],s.bezierCurveTo(t[x],t[x+1],t[x+2],t[x+3],l,u),o.updateCurvePathMinMax(p,h,d,t[x],t[x+1],t[x+2],t[x+3],l,u,y),x+=6;break;case zr.curveTo2:h=l,d=u,s.bezierCurveTo(l,u,t[x],t[x+1],t[x+2],t[x+3]),o.updateCurvePathMinMax(p,h,d,l,u,t[x],t[x+1],t[x+2],t[x+3],y),l=t[x+2],u=t[x+3],x+=4;break;case zr.curveTo3:h=l,d=u,l=t[x+2],u=t[x+3],s.bezierCurveTo(t[x],t[x+1],l,u,l,u),o.updateCurvePathMinMax(p,h,d,t[x],t[x+1],l,u,l,u,y),x+=4;break;case zr.closePath:s.closePath();break}m&&o.updateScalingPathMinMax(p,y),o.setCurrentPoint(l,u)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(t.save(),t.strokeStyle=n.getPattern(t,this,Ui(t),En.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor,s=this.current.patternFill;let o=!1;s&&(t.save(),t.fillStyle=n.getPattern(t,this,Ui(t),En.FILL),o=!0);const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),o&&t.restore(),e&&this.consumePath(l)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=IL}eoClip(){this.pendingClip=hS}beginText(){this.current.textMatrix=Fk,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var p;const n=this.commonObjs.get(e),s=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=n.fontMatrix||Tv,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Be("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const o=n.loadedName||"sans-serif",l=((p=n.systemFontInfo)==null?void 0:p.css)||`"${o}", ${n.fallbackName}`;let u="normal";n.black?u="900":n.bold&&(u="bold");const h=n.italic?"italic":"normal";let d=t;t<rS?d=rS:t>iS&&(d=iS),this.current.fontSizeScale=t/d,this.ctx.font=`${h} ${u} ${d}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,s,o,l){this.current.textMatrix=[e,t,n,s,o,l],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,s){const o=this.ctx,l=this.current,u=l.font,h=l.textRenderingMode,d=l.fontSize/l.fontSizeScale,p=h&dn.FILL_STROKE_MASK,m=!!(h&dn.ADD_TO_PATH_FLAG),y=l.patternFill&&!u.missingFile;let w;(u.disableFontFace||m||y)&&(w=u.getPathGenerator(this.commonObjs,e)),u.disableFontFace||y?(o.save(),o.translate(t,n),o.beginPath(),w(o,d),s&&o.setTransform(...s),(p===dn.FILL||p===dn.FILL_STROKE)&&o.fill(),(p===dn.STROKE||p===dn.FILL_STROKE)&&o.stroke(),o.restore()):((p===dn.FILL||p===dn.FILL_STROKE)&&o.fillText(e,t,n),(p===dn.STROKE||p===dn.FILL_STROKE)&&o.strokeText(e,t,n)),m&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:xt(o),x:t,y:n,fontSize:d,addToPath:w})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){n=!0;break}return Ye(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(s===0)return;const o=this.ctx,l=t.fontSizeScale,u=t.charSpacing,h=t.wordSpacing,d=t.fontDirection,p=t.textHScale*d,m=e.length,y=n.vertical,w=y?1:-1,x=n.defaultVMetrics,S=s*t.fontMatrix[0],A=t.textRenderingMode===dn.FILL&&!n.disableFontFace&&!t.patternFill;o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),d>0?o.scale(p,-1):o.scale(p,1);let k;if(t.patternFill){o.save();const M=t.fillColor.getPattern(o,this,Ui(o),En.FILL);k=xt(o),o.restore(),o.fillStyle=M}let P=t.lineWidth;const R=t.textMatrixScale;if(R===0||P===0){const M=t.textRenderingMode&dn.FILL_STROKE_MASK;(M===dn.STROKE||M===dn.FILL_STROKE)&&(P=this.getSinglePixelWidth())}else P/=R;if(l!==1&&(o.scale(l,l),P/=l),o.lineWidth=P,n.isInvalidPDFjsFont){const M=[];let $=0;for(const W of e)M.push(W.unicode),$+=W.width;o.fillText(M.join(""),0,0),t.x+=$*S*p,o.restore(),this.compose();return}let F=0,N;for(N=0;N<m;++N){const M=e[N];if(typeof M=="number"){F+=w*M*s/1e3;continue}let $=!1;const W=(M.isSpace?h:0)+u,Q=M.fontChar,z=M.accent;let q,ne,J=M.width;if(y){const oe=M.vmetric||x,pe=-(M.vmetric?oe[1]:J*.5)*S,Z=oe[2]*S;J=oe?-oe[0]:J,q=pe/l,ne=(F+Z)/l}else q=F/l,ne=0;if(n.remeasure&&J>0){const oe=o.measureText(Q).width*1e3/s*l;if(J<oe&&this.isFontSubpixelAAEnabled){const pe=J/oe;$=!0,o.save(),o.scale(pe,1),q/=pe}else J!==oe&&(q+=(J-oe)/2e3*s/l)}if(this.contentVisible&&(M.isInFont||n.missingFile)){if(A&&!z)o.fillText(Q,q,ne);else if(this.paintChar(Q,q,ne,k),z){const oe=q+s*z.offset.x/l,pe=ne-s*z.offset.y/l;this.paintChar(z.fontChar,oe,pe,k)}}const Y=y?J*S-W*d:J*S+W*d;F+=Y,$&&o.restore()}y?t.y-=F:t.x+=F*p,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,s=n.font,o=n.fontSize,l=n.fontDirection,u=s.vertical?1:-1,h=n.charSpacing,d=n.wordSpacing,p=n.textHScale*l,m=n.fontMatrix||Tv,y=e.length,w=n.textRenderingMode===dn.INVISIBLE;let x,S,A,k;if(!(w||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(p,l),x=0;x<y;++x){if(S=e[x],typeof S=="number"){k=u*S*o/1e3,this.ctx.translate(k,0),n.x+=k*p;continue}const P=(S.isSpace?d:0)+h,R=s.charProcOperatorList[S.operatorListId];if(!R){Be(`Type3 character "${S.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=S,this.save(),t.scale(o,o),t.transform(...m),this.executeOperatorList(R),this.restore()),A=Se.applyTransform([S.width,0],m)[0]*o+P,t.translate(A,0),n.x+=A*p}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,s,o,l){this.ctx.rect(n,s,o-n,l-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=e[1],s=this.baseTransform||xt(this.ctx),o={createCanvasGraphics:l=>new Uw(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new n0(e,n,this.ctx,o,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){const s=Se.makeHexColor(e,t,n);this.ctx.strokeStyle=s,this.current.strokeColor=s}setFillRGBColor(e,t,n){const s=Se.makeHexColor(e,t,n);this.ctx.fillStyle=s,this.current.fillColor=s,this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=_L(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,Ui(t),En.SHADING);const s=Ui(t);if(s){const{width:o,height:l}=t.canvas,[u,h,d,p]=Se.getAxialAlignedBoundingBox([0,0,o,l],s);this.ctx.fillRect(u,h,d-u,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){it("Should not call beginInlineImage")}beginImageData(){it("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=xt(this.ctx),t)){const n=t[2]-t[0],s=t[3]-t[1];this.ctx.rect(t[0],t[1],n,s),this.current.updateRectMinMax(xt(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Fg("TODO: Support non-isolated groups."),e.knockout&&Be("Knockout groups not supported.");const n=xt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=Se.getAxialAlignedBoundingBox(e.bbox,xt(t));const o=[0,0,t.canvas.width,t.canvas.height];s=Se.intersect(s,o)||[0,0,0,0];const l=Math.floor(s[0]),u=Math.floor(s[1]),h=Math.max(Math.ceil(s[2])-l,1),d=Math.max(Math.ceil(s[3])-u,1);this.current.startNewPathAndClipBox([0,0,h,d]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(p,h,d),y=m.context;y.translate(-l,-u),y.transform(...n),e.smask?this.smaskStack.push({canvas:m.canvas,context:y,offsetX:l,offsetY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,u),t.save()),Mc(t,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=xt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const o=Se.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,n,s,o){if(C(this,Ao,r0).call(this),cp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const l=t[2]-t[0],u=t[3]-t[1];if(o&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=l,t[3]=u;const[h,d]=Se.singularValueDecompose2dScale(xt(this.ctx)),{viewportScale:p}=this,m=Math.ceil(l*this.outputScaleX*p),y=Math.ceil(u*this.outputScaleY*p);this.annotationCanvas=this.canvasFactory.create(m,y);const{canvas:w,context:x}=this.annotationCanvas;this.annotationCanvasMap.set(e,w),this.annotationCanvas.savedCtx=this.ctx,this.ctx=x,this.ctx.save(),this.ctx.setTransform(h,0,0,-d,0,u*d),cp(this.ctx)}else cp(this.ctx),this.ctx.rect(t[0],t[1],l,u),this.ctx.clip(),this.endPath()}this.current=new aS(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),C(this,Ao,i0).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=PL(e)),s.compiled)){s.compiled(n);return}const o=this._createMaskCanvas(e),l=o.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(l,o.offsetX,o.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,s=0,o,l){if(!this.contentVisible)return;e=this.getObject(e.data,e);const u=this.ctx;u.save();const h=xt(u);u.transform(t,n,s,o,0,0);const d=this._createMaskCanvas(e);u.setTransform(1,0,0,1,d.offsetX-h[4],d.offsetY-h[5]);for(let p=0,m=l.length;p<m;p+=2){const y=Se.transform(h,[t,n,s,o,l[p],l[p+1]]),[w,x]=Se.applyTransform([0,0],y);u.drawImage(d.canvas,w,x)}u.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,s=this.current.patternFill;for(const o of e){const{data:l,width:u,height:h,transform:d}=o,p=this.cachedCanvases.getCanvas("maskCanvas",u,h),m=p.context;m.save();const y=this.getObject(l,o);uS(m,y),m.globalCompositeOperation="source-in",m.fillStyle=s?n.getPattern(m,this,Ui(t),En.FILL):n,m.fillRect(0,0,u,h),m.restore(),t.save(),t.transform(...d),t.scale(1,-1),up(t,p.canvas,0,0,u,h,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Be("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,s){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){Be("Dependent image isn't ready yet");return}const l=o.width,u=o.height,h=[];for(let d=0,p=s.length;d<p;d+=2)h.push({transform:[t,0,0,n,s[d],s[d+1]],x:0,y:0,w:l,h:u});this.paintInlineImageXObjectGroup(o,h)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:s}=e,o=this.cachedCanvases.getCanvas("inlineImage",n,s),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,s=this.ctx;if(this.save(),!yn){const{filter:u}=s;u!=="none"&&u!==""&&(s.filter="none")}s.scale(1/t,-1/n);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const h=this.cachedCanvases.getCanvas("inlineImage",t,n).context;lS(h,e),o=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(o,Ui(s));s.imageSmoothingEnabled=cS(xt(s),e.interpolate),up(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const o=e.width,l=e.height,h=this.cachedCanvases.getCanvas("inlineImage",o,l).context;lS(h,e),s=this.applyTransferMapsToCanvas(h)}for(const o of t)n.save(),n.transform(...o.transform),n.scale(1,-1),up(n,s,o.x,o.y,o.w,o.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===hS?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=xt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:s,d:o}=this.ctx.getTransform();let l,u;if(n===0&&s===0){const h=Math.abs(t),d=Math.abs(o);if(h===d)if(e===0)l=u=1/h;else{const p=h*e;l=u=p<1?1/p:1}else if(e===0)l=1/h,u=1/d;else{const p=h*e,m=d*e;l=p<1?1/p:1,u=m<1?1/m:1}}else{const h=Math.abs(t*o-n*s),d=Math.hypot(t,n),p=Math.hypot(s,o);if(e===0)l=p/h,u=d/h;else{const m=e*h;l=p>m?p/m:1,u=d>m?d/m:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[s,o]=this.getScaleForStroking();if(t.lineWidth=n||1,s===1&&o===1){t.stroke();return}const l=t.getLineDash();if(e&&t.save(),t.scale(s,o),l.length>0){const u=Math.max(s,o);t.setLineDash(l.map(h=>h/u)),t.lineDashOffset/=u}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Ao=new WeakSet,r0=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},i0=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let $l=Uw;for(const r in zr)$l.prototype[r]!==void 0&&($l.prototype[zr[r]]=$l.prototype[r]);var jh,Bh;class ws{static get workerPort(){return f(this,jh)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");E(this,jh,e)}static get workerSrc(){return f(this,Bh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");E(this,Bh,e)}}jh=new WeakMap,Bh=new WeakMap,T(ws,jh,null),T(ws,Bh,"");const hp={UNKNOWN:0,DATA:1,ERROR:2},Rt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Jn(r){switch(r instanceof Error||typeof r=="object"&&r!==null||it('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new rl(r.message);case"MissingPDFException":return new nl(r.message);case"PasswordException":return new Rv(r.message,r.code);case"UnexpectedResponseException":return new Og(r.message,r.status);case"UnknownErrorException":return new Lv(r.message,r.details);default:return new Lv(r.message,r.toString())}}var Ti,v_,w_,_p;class Vc{constructor(e,t,n){T(this,Ti);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=s=>{const o=s.data;if(o.targetName!==this.sourceName)return;if(o.stream){C(this,Ti,w_).call(this,o);return}if(o.callback){const u=o.callbackId,h=this.callbackCapabilities[u];if(!h)throw new Error(`Cannot resolve callback ${u}`);if(delete this.callbackCapabilities[u],o.callback===hp.DATA)h.resolve(o.data);else if(o.callback===hp.ERROR)h.reject(Jn(o.reason));else throw new Error("Unexpected callback case");return}const l=this.actionHandler[o.action];if(!l)throw new Error(`Unknown action from worker: ${o.action}`);if(o.callbackId){const u=this.sourceName,h=o.sourceName;new Promise(function(d){d(l(o.data))}).then(function(d){n.postMessage({sourceName:u,targetName:h,callback:hp.DATA,callbackId:o.callbackId,data:d})},function(d){n.postMessage({sourceName:u,targetName:h,callback:hp.ERROR,callbackId:o.callbackId,reason:Jn(d)})});return}if(o.streamId){C(this,Ti,v_).call(this,o);return}l(o.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const s=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[s]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},n)}catch(l){o.reject(l)}return o.promise}sendWithStream(e,t,n,s){const o=this.streamId++,l=this.sourceName,u=this.targetName,h=this.comObj;return new ReadableStream({start:d=>{const p=Promise.withResolvers();return this.streamControllers[o]={controller:d,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:l,targetName:u,action:e,streamId:o,data:t,desiredSize:d.desiredSize},s),p.promise},pull:d=>{const p=Promise.withResolvers();return this.streamControllers[o].pullCall=p,h.postMessage({sourceName:l,targetName:u,stream:Rt.PULL,streamId:o,desiredSize:d.desiredSize}),p.promise},cancel:d=>{Ht(d instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[o].cancelCall=p,this.streamControllers[o].isClosed=!0,h.postMessage({sourceName:l,targetName:u,stream:Rt.CANCEL,streamId:o,reason:Jn(d)}),p.promise}},n)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Ti=new WeakSet,v_=function(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,o=this.comObj,l=this,u=this.actionHandler[e.action],h={enqueue(d,p=1,m){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=p,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:s,stream:Rt.ENQUEUE,streamId:t,chunk:d},m)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:s,stream:Rt.CLOSE,streamId:t}),delete l.streamSinks[t])},error(d){Ht(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:s,stream:Rt.ERROR,streamId:t,reason:Jn(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[t]=h,new Promise(function(d){d(u(e.data,h))}).then(function(){o.postMessage({sourceName:n,targetName:s,stream:Rt.START_COMPLETE,streamId:t,success:!0})},function(d){o.postMessage({sourceName:n,targetName:s,stream:Rt.START_COMPLETE,streamId:t,reason:Jn(d)})})},w_=function(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,o=this.comObj,l=this.streamControllers[t],u=this.streamSinks[t];switch(e.stream){case Rt.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(Jn(e.reason));break;case Rt.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(Jn(e.reason));break;case Rt.PULL:if(!u){o.postMessage({sourceName:n,targetName:s,stream:Rt.PULL_COMPLETE,streamId:t,success:!0});break}u.desiredSize<=0&&e.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=e.desiredSize,new Promise(function(h){var d;h((d=u.onPull)==null?void 0:d.call(u))}).then(function(){o.postMessage({sourceName:n,targetName:s,stream:Rt.PULL_COMPLETE,streamId:t,success:!0})},function(h){o.postMessage({sourceName:n,targetName:s,stream:Rt.PULL_COMPLETE,streamId:t,reason:Jn(h)})});break;case Rt.ENQUEUE:if(Ht(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case Rt.CLOSE:if(Ht(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),C(this,Ti,_p).call(this,l,t);break;case Rt.ERROR:Ht(l,"error should have stream controller"),l.controller.error(Jn(e.reason)),C(this,Ti,_p).call(this,l,t);break;case Rt.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(Jn(e.reason)),C(this,Ti,_p).call(this,l,t);break;case Rt.CANCEL:if(!u)break;new Promise(function(h){var d;h((d=u.onCancel)==null?void 0:d.call(u,Jn(e.reason)))}).then(function(){o.postMessage({sourceName:n,targetName:s,stream:Rt.CANCEL_COMPLETE,streamId:t,success:!0})},function(h){o.postMessage({sourceName:n,targetName:s,stream:Rt.CANCEL_COMPLETE,streamId:t,reason:Jn(h)})}),u.sinkCapability.reject(Jn(e.reason)),u.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},_p=async function(e,t){var n,s,o;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(s=e.pullCall)==null?void 0:s.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[t]};var pa,Hh;class ML{constructor({parsedData:e,rawData:t}){T(this,pa);T(this,Hh);E(this,pa,e),E(this,Hh,t)}getRaw(){return f(this,Hh)}get(e){return f(this,pa).get(e)??null}getAll(){return hw(f(this,pa))}has(e){return f(this,pa).has(e)}}pa=new WeakMap,Hh=new WeakMap;const Qs=Symbol("INTERNAL");var Uh,$h,Vh,au;class DL{constructor(e,{name:t,intent:n,usage:s}){T(this,Uh,!1);T(this,$h,!1);T(this,Vh,!1);T(this,au,!0);E(this,Uh,!!(e&Ar.DISPLAY)),E(this,$h,!!(e&Ar.PRINT)),this.name=t,this.intent=n,this.usage=s}get visible(){if(f(this,Vh))return f(this,au);if(!f(this,au))return!1;const{print:e,view:t}=this.usage;return f(this,Uh)?(t==null?void 0:t.viewState)!=="OFF":f(this,$h)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==Qs&&it("Internal method `_setVisible` called."),E(this,Vh,n),E(this,au,t)}}Uh=new WeakMap,$h=new WeakMap,Vh=new WeakMap,au=new WeakMap;var so,rt,lu,uu,Wh,s0;class FL{constructor(e,t=Ar.DISPLAY){T(this,Wh);T(this,so,null);T(this,rt,new Map);T(this,lu,null);T(this,uu,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,E(this,uu,e.order);for(const n of e.groups)f(this,rt).set(n.id,new DL(t,n));if(e.baseState==="OFF")for(const n of f(this,rt).values())n._setVisible(Qs,!1);for(const n of e.on)f(this,rt).get(n)._setVisible(Qs,!0);for(const n of e.off)f(this,rt).get(n)._setVisible(Qs,!1);E(this,lu,this.getHash())}}isVisible(e){if(f(this,rt).size===0)return!0;if(!e)return Fg("Optional content group not defined."),!0;if(e.type==="OCG")return f(this,rt).has(e.id)?f(this,rt).get(e.id).visible:(Be(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return C(this,Wh,s0).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!f(this,rt).has(t))return Be(`Optional content group not found: ${t}`),!0;if(f(this,rt).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!f(this,rt).has(t))return Be(`Optional content group not found: ${t}`),!0;if(!f(this,rt).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!f(this,rt).has(t))return Be(`Optional content group not found: ${t}`),!0;if(!f(this,rt).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!f(this,rt).has(t))return Be(`Optional content group not found: ${t}`),!0;if(f(this,rt).get(t).visible)return!1}return!0}return Be(`Unknown optional content policy ${e.policy}.`),!0}return Be(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const n=f(this,rt).get(e);if(!n){Be(`Optional content group not found: ${e}`);return}n._setVisible(Qs,!!t,!0),E(this,so,null)}setOCGState({state:e,preserveRB:t}){let n;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const o=f(this,rt).get(s);if(o)switch(n){case"ON":o._setVisible(Qs,!0);break;case"OFF":o._setVisible(Qs,!1);break;case"Toggle":o._setVisible(Qs,!o.visible);break}}E(this,so,null)}get hasInitialVisibility(){return f(this,lu)===null||this.getHash()===f(this,lu)}getOrder(){return f(this,rt).size?f(this,uu)?f(this,uu).slice():[...f(this,rt).keys()]:null}getGroups(){return f(this,rt).size>0?hw(f(this,rt)):null}getGroup(e){return f(this,rt).get(e)||null}getHash(){if(f(this,so)!==null)return f(this,so);const e=new p_;for(const[t,n]of f(this,rt))e.update(`${t}:${n.visible}`);return E(this,so,e.hexdigest())}}so=new WeakMap,rt=new WeakMap,lu=new WeakMap,uu=new WeakMap,Wh=new WeakSet,s0=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let s=1;s<t;s++){const o=e[s];let l;if(Array.isArray(o))l=C(this,Wh,s0).call(this,o);else if(f(this,rt).has(o))l=f(this,rt).get(o).visible;else return Be(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"};class OL{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Ht(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:o,progressiveDone:l,contentDispositionFilename:u}=e;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=u,(o==null?void 0:o.length)>0){const h=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((h,d)=>{this._onReceiveData({begin:h,chunk:d})}),e.addProgressListener((h,d)=>{this._onProgress({loaded:h,total:d})}),e.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(n),!0)});Ht(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,s,o;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(o=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||o.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ht(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new NL(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new zL(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class NL{constructor(e,t,n=!1,s=null){this._stream=e,this._done=n||!1,this._filename=mw(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class zL{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function jL(r){let e=!0,t=n("filename\\*","i").exec(r);if(t){t=t[1];let p=u(t);return p=unescape(p),p=h(p),p=d(p),o(p)}if(t=l(r),t){const p=d(t);return o(p)}if(t=n("filename","i").exec(r),t){t=t[1];let p=u(t);return p=d(p),o(p)}function n(p,m){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function s(p,m){if(p){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const y=new TextDecoder(p,{fatal:!0}),w=Ng(m);m=y.decode(w),e=!1}catch{}}return m}function o(p){return e&&/[\x80-\xff]/.test(p)&&(p=s("utf-8",p),e&&(p=s("iso-8859-1",p))),p}function l(p){const m=[];let y;const w=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=w.exec(p))!==null;){let[,S,A,k]=y;if(S=parseInt(S,10),S in m){if(S===0)break;continue}m[S]=[A,k]}const x=[];for(let S=0;S<m.length&&S in m;++S){let[A,k]=m[S];k=u(k),A&&(k=unescape(k),S===0&&(k=h(k))),x.push(k)}return x.join("")}function u(p){if(p.startsWith('"')){const m=p.slice(1).split('\\"');for(let y=0;y<m.length;++y){const w=m[y].indexOf('"');w!==-1&&(m[y]=m[y].slice(0,w),m.length=y+1),m[y]=m[y].replaceAll(/\\(.)/g,"$1")}p=m.join('"')}return p}function h(p){const m=p.indexOf("'");if(m===-1)return p;const y=p.slice(0,m),x=p.slice(m+1).replace(/^[^']*'/,"");return s(y,x)}function d(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,y,w,x){if(w==="q"||w==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,A){return String.fromCharCode(parseInt(A,16))}),s(y,x);try{x=atob(x)}catch{}return s(y,x)})}return""}function ww({getResponseHeader:r,isHttp:e,rangeChunkSize:t,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(r("Content-Length"),10);return!Number.isInteger(o)||(s.suggestedLength=o,o<=2*t)||n||!e||r("Accept-Ranges")!=="bytes"||(r("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function bw(r){const e=r("Content-Disposition");if(e){let t=jL(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(mw(t))return t}return null}function Ug(r,e){return r===404||r===0&&e.startsWith("file:")?new nl('Missing PDF "'+e+'".'):new Og(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r)}function b_(r){return r===200||r===206}function x_(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function S_(r){const e=new Headers;for(const t in r){const n=r[t];n!==void 0&&e.append(t,n)}return e}function k_(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(Be(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class dS{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ht(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new BL(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new HL(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class BL{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=S_(this._stream.httpHeaders);const n=t.url;fetch(n,x_(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!b_(s.status))throw Ug(s.status,n);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=h=>s.headers.get(h),{allowRangeRequests:l,suggestedLength:u}=ww({getResponseHeader:o,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=u||this._contentLength,this._filename=bw(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new rl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:k_(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class HL{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController,this._headers=S_(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${n-1}`);const o=s.url;fetch(o,x_(this._headers,this._withCredentials,this._abortController)).then(l=>{if(!b_(l.status))throw Ug(l.status,o);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:k_(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const tv=200,nv=206;function UL(r){const e=r.response;return typeof e!="string"?e:Ng(e).buffer}class $L{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const s={begin:e,end:t};for(const o in n)s[o]=n[o];return this.request(s)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const o in this.httpHeaders){const l=this.httpHeaders[o];l!==void 0&&t.setRequestHeader(o,l)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=nv):s.expectedStatus=tv,t.responseType="arraybuffer",e.onError&&(t.onerror=function(o){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var s;const n=this.pendingRequests[e];n&&((s=n.onProgress)==null||s.call(n,t))}onStateChange(e,t){var h,d,p;const n=this.pendingRequests[e];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){(h=n.onError)==null||h.call(n,s.status);return}const o=s.status||tv;if(!(o===tv&&n.expectedStatus===nv)&&o!==n.expectedStatus){(d=n.onError)==null||d.call(n,s.status);return}const u=UL(s);if(o===nv){const m=s.getResponseHeader("Content-Range"),y=/bytes (\d+)-(\d+)\/(\d+)/.exec(m);n.onDone({begin:parseInt(y[1],10),chunk:u})}else u?n.onDone({begin:0,chunk:u}):(p=n.onError)==null||p.call(n,s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class VL{constructor(e){this._source=e,this._manager=new $L(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ht(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new WL(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new GL(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class WL{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=l=>t.getResponseHeader(l),{allowRangeRequests:s,suggestedLength:o}=ww({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=bw(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Ug(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class GL{constructor(e,t,n){this._manager=e;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Ug(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const __=/^file:\/\/\/[a-zA-Z]:\//;function qL(r){const e=Ri.get("url"),t=e.parse(r);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(r)?e.parse(`file:///${r}`):(t.host||(t.protocol="file:"),t)}class XL{constructor(e){this.source=e,this.url=qL(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ht(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new QL(this):new KL(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new JL(this,e,t):new YL(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class A_{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new rl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class E_{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Zp(r,e){return{protocol:r.protocol,auth:r.auth,host:r.hostname,port:r.port,path:r.path,method:"GET",headers:e}}class KL extends A_{constructor(e){super(e);const t=n=>{if(n.statusCode===404){const u=new nl(`Missing PDF "${this._url}".`);this._storedError=u,this._headersCapability.reject(u);return}this._headersCapability.resolve(),this._setReadableStream(n);const s=u=>this._readableStream.headers[u.toLowerCase()],{allowRangeRequests:o,suggestedLength:l}=ww({getResponseHeader:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=bw(s)};if(this._request=null,this._url.protocol==="http:"){const n=Ri.get("http");this._request=n.request(Zp(this._url,e.httpHeaders),t)}else{const n=Ri.get("https");this._request=n.request(Zp(this._url,e.httpHeaders),t)}this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class YL extends E_{constructor(e,t,n){super(e),this._httpHeaders={};for(const o in e.httpHeaders){const l=e.httpHeaders[o];l!==void 0&&(this._httpHeaders[o]=l)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const s=o=>{if(o.statusCode===404){const l=new nl(`Missing PDF "${this._url}".`);this._storedError=l;return}this._setReadableStream(o)};if(this._request=null,this._url.protocol==="http:"){const o=Ri.get("http");this._request=o.request(Zp(this._url,this._httpHeaders),s)}else{const o=Ri.get("https");this._request=o.request(Zp(this._url,this._httpHeaders),s)}this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class QL extends A_{constructor(e){super(e);let t=decodeURIComponent(this._url.path);__.test(this._url.href)&&(t=t.replace(/^\//,""));const n=Ri.get("fs");n.promises.lstat(t).then(s=>{this._contentLength=s.size,this._setReadableStream(n.createReadStream(t)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new nl(`Missing PDF "${t}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class JL extends E_{constructor(e,t,n){super(e);let s=decodeURIComponent(this._url.path);__.test(this._url.href)&&(s=s.replace(/^\//,""));const o=Ri.get("fs");this._setReadableStream(o.createReadStream(s,{start:t,end:n-1}))}}const ZL=1e5,On=30,eI=.8;var mk,oo,jn,Gh,qh,ga,ns,Xh,Kh,ma,cu,hu,ao,du,Yh,fu,ya,Qh,Jh,Bt,va,wa,lo,pu,_s,C_,T_,o0,Pi,Ap,P_,R_;let eg=(Bt=class{constructor({textContentSource:e,container:t,viewport:n}){T(this,_s);T(this,oo,Promise.withResolvers());T(this,jn,null);T(this,Gh,!1);T(this,qh,!!((mk=globalThis.FontInspector)!=null&&mk.enabled));T(this,ga,null);T(this,ns,null);T(this,Xh,0);T(this,Kh,0);T(this,ma,null);T(this,cu,null);T(this,hu,0);T(this,ao,0);T(this,du,Object.create(null));T(this,Yh,[]);T(this,fu,null);T(this,ya,[]);T(this,Qh,new WeakMap);T(this,Jh,null);var h;if(e instanceof ReadableStream)E(this,fu,e);else if(typeof e=="object")E(this,fu,new ReadableStream({start(d){d.enqueue(e),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');E(this,jn,E(this,cu,t)),E(this,ao,n.scale*(globalThis.devicePixelRatio||1)),E(this,hu,n.rotation),E(this,ns,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:o,pageX:l,pageY:u}=n.rawDims;E(this,Jh,[1,0,0,-1,-l,u+o]),E(this,Kh,s),E(this,Xh,o),C(h=Bt,Pi,P_).call(h),Xa(t,n),f(this,oo).promise.catch(()=>{}).then(()=>{f(Bt,pu).delete(this),E(this,ns,null),E(this,du,null)})}render(){const e=()=>{f(this,ma).read().then(({value:t,done:n})=>{if(n){f(this,oo).resolve();return}f(this,ga)??E(this,ga,t.lang),Object.assign(f(this,du),t.styles),C(this,_s,C_).call(this,t.items),e()},f(this,oo).reject)};return E(this,ma,f(this,fu).getReader()),f(Bt,pu).add(this),e(),f(this,oo).promise}update({viewport:e,onBefore:t=null}){var o;const n=e.scale*(globalThis.devicePixelRatio||1),s=e.rotation;if(s!==f(this,hu)&&(t==null||t(),E(this,hu,s),Xa(f(this,cu),{rotation:s})),n!==f(this,ao)){t==null||t(),E(this,ao,n);const l={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:C(o=Bt,Pi,Ap).call(o,f(this,ga))};for(const u of f(this,ya))l.properties=f(this,Qh).get(u),l.div=u,C(this,_s,o0).call(this,l)}}cancel(){var t;const e=new rl("TextLayer task cancelled.");(t=f(this,ma))==null||t.cancel(e).catch(()=>{}),E(this,ma,null),f(this,oo).reject(e)}get textDivs(){return f(this,ya)}get textContentItemsStr(){return f(this,Yh)}static cleanup(){if(!(f(this,pu).size>0)){f(this,va).clear();for(const{canvas:e}of f(this,wa).values())e.remove();f(this,wa).clear()}}},oo=new WeakMap,jn=new WeakMap,Gh=new WeakMap,qh=new WeakMap,ga=new WeakMap,ns=new WeakMap,Xh=new WeakMap,Kh=new WeakMap,ma=new WeakMap,cu=new WeakMap,hu=new WeakMap,ao=new WeakMap,du=new WeakMap,Yh=new WeakMap,fu=new WeakMap,ya=new WeakMap,Qh=new WeakMap,Jh=new WeakMap,va=new WeakMap,wa=new WeakMap,lo=new WeakMap,pu=new WeakMap,_s=new WeakSet,C_=function(e){var s,o;if(f(this,Gh))return;(o=f(this,ns)).ctx??(o.ctx=C(s=Bt,Pi,Ap).call(s,f(this,ga)));const t=f(this,ya),n=f(this,Yh);for(const l of e){if(t.length>ZL){Be("Ignoring additional textDivs for performance reasons."),E(this,Gh,!0);return}if(l.str===void 0){if(l.type==="beginMarkedContentProps"||l.type==="beginMarkedContent"){const u=f(this,jn);E(this,jn,document.createElement("span")),f(this,jn).classList.add("markedContent"),l.id!==null&&f(this,jn).setAttribute("id",`${l.id}`),u.append(f(this,jn))}else l.type==="endMarkedContent"&&E(this,jn,f(this,jn).parentNode);continue}n.push(l.str),C(this,_s,T_).call(this,l)}},T_=function(e){var S;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};f(this,ya).push(t);const s=Se.transform(f(this,Jh),e.transform);let o=Math.atan2(s[1],s[0]);const l=f(this,du)[e.fontName];l.vertical&&(o+=Math.PI/2);const u=f(this,qh)&&l.fontSubstitution||l.fontFamily,h=Math.hypot(s[2],s[3]),d=h*C(S=Bt,Pi,R_).call(S,u,f(this,ga));let p,m;o===0?(p=s[4],m=s[5]-d):(p=s[4]+d*Math.sin(o),m=s[5]-d*Math.cos(o));const y="calc(var(--scale-factor)*",w=t.style;f(this,jn)===f(this,cu)?(w.left=`${(100*p/f(this,Kh)).toFixed(2)}%`,w.top=`${(100*m/f(this,Xh)).toFixed(2)}%`):(w.left=`${y}${p.toFixed(2)}px)`,w.top=`${y}${m.toFixed(2)}px)`),w.fontSize=`${y}${(f(Bt,lo)*h).toFixed(2)}px)`,w.fontFamily=u,n.fontSize=h,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,f(this,qh)&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),o!==0&&(n.angle=o*(180/Math.PI));let x=!1;if(e.str.length>1)x=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const A=Math.abs(e.transform[0]),k=Math.abs(e.transform[3]);A!==k&&Math.max(A,k)/Math.min(A,k)>1.5&&(x=!0)}if(x&&(n.canvasWidth=l.vertical?e.height:e.width),f(this,Qh).set(t,n),f(this,ns).div=t,f(this,ns).properties=n,C(this,_s,o0).call(this,f(this,ns)),n.hasText&&f(this,jn).append(t),n.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),f(this,jn).append(A)}},o0=function(e){const{div:t,properties:n,ctx:s,prevFontSize:o,prevFontFamily:l}=e,{style:u}=t;let h="";if(f(Bt,lo)>1&&(h=`scale(${1/f(Bt,lo)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:d}=u,{canvasWidth:p,fontSize:m}=n;(o!==m||l!==d)&&(s.font=`${m*f(this,ao)}px ${d}`,e.prevFontSize=m,e.prevFontFamily=d);const{width:y}=s.measureText(t.textContent);y>0&&(h=`scaleX(${p*f(this,ao)/y}) ${h}`)}n.angle!==0&&(h=`rotate(${n.angle}deg) ${h}`),h.length>0&&(u.transform=h)},Pi=new WeakSet,Ap=function(e=null){let t=f(this,wa).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),f(this,wa).set(e,t)}return t},P_=function(){if(f(this,lo)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),E(this,lo,e.getBoundingClientRect().height),e.remove()},R_=function(e,t){const n=f(this,va).get(e);if(n)return n;const s=C(this,Pi,Ap).call(this,t),o=s.font;s.canvas.width=s.canvas.height=On,s.font=`${On}px ${e}`;const l=s.measureText("");let u=l.fontBoundingBoxAscent,h=Math.abs(l.fontBoundingBoxDescent);if(u){const m=u/(u+h);return f(this,va).set(e,m),s.canvas.width=s.canvas.height=0,s.font=o,m}s.strokeStyle="red",s.clearRect(0,0,On,On),s.strokeText("g",0,0);let d=s.getImageData(0,0,On,On).data;h=0;for(let m=d.length-1-3;m>=0;m-=4)if(d[m]>0){h=Math.ceil(m/4/On);break}s.clearRect(0,0,On,On),s.strokeText("A",0,On),d=s.getImageData(0,0,On,On).data,u=0;for(let m=0,y=d.length;m<y;m+=4)if(d[m]>0){u=On-Math.floor(m/4/On);break}s.canvas.width=s.canvas.height=0,s.font=o;const p=u?u/(u+h):eI;return f(this,va).set(e,p),p},T(Bt,Pi),T(Bt,va,new Map),T(Bt,wa,new Map),T(Bt,lo,null),T(Bt,pu,new Set),Bt);function tI(){Uk("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:r,container:e,viewport:t,...n}=arguments[0],s=Object.keys(n);s.length>0&&Be("Ignoring `renderTextLayer` parameters: "+s.join(", "));const o=new eg({textContentSource:r,container:e,viewport:t}),{textDivs:l,textContentItemsStr:u}=o;return{promise:o.render(),textDivs:l,textContentItemsStr:u}}function nI(){Uk("`updateTextLayer`, please use `TextLayer` instead.")}class ah{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function s(o){var h;if(!o)return;let l=null;const u=o.name;if(u==="#text")l=o.value;else if(ah.shouldBuildText(u))(h=o==null?void 0:o.attributes)!=null&&h.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&t.push({str:l}),!!o.children)for(const d of o.children)s(d)}return s(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const rI=65536,iI=100,sI=5e3,oI=yn?yL:iL,aI=yn?vL:Bk,lI=yn?mL:rL,uI=yn?wL:Hk;function cI(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new a0,{docId:t}=e,n=r.url?hI(r.url):null,s=r.data?dI(r.data):null,o=r.httpHeaders||null,l=r.withCredentials===!0,u=r.password??null,h=r.range instanceof L_?r.range:null,d=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:rI;let p=r.worker instanceof Vl?r.worker:null;const m=r.verbosity,y=typeof r.docBaseUrl=="string"&&!gw(r.docBaseUrl)?r.docBaseUrl:null,w=typeof r.cMapUrl=="string"?r.cMapUrl:null,x=r.cMapPacked!==!1,S=r.CMapReaderFactory||aI,A=typeof r.standardFontDataUrl=="string"?r.standardFontDataUrl:null,k=r.StandardFontDataFactory||uI,P=r.stopAtErrors!==!0,R=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,F=r.isEvalSupported!==!1,N=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!yn,M=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,$=typeof r.disableFontFace=="boolean"?r.disableFontFace:yn,W=r.fontExtraProperties===!0,Q=r.enableXfa===!0,z=r.ownerDocument||globalThis.document,q=r.disableRange===!0,ne=r.disableStream===!0,J=r.disableAutoFetch===!0,Y=r.pdfBug===!0,oe=r.enableHWA===!0,pe=h?h.length:r.length??NaN,Z=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!yn&&!$,G=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:S===Bk&&k===Hk&&w&&A&&Hc(w,document.baseURI)&&Hc(A,document.baseURI),ce=r.canvasFactory||new oI({ownerDocument:z,enableHWA:oe}),L=r.filterFactory||new lI({docId:t,ownerDocument:z}),B=null;GR(m);const X={canvasFactory:ce,filterFactory:L};if(G||(X.cMapReaderFactory=new S({baseUrl:w,isCompressed:x}),X.standardFontDataFactory=new k({baseUrl:A})),!p){const Ae={verbosity:m,port:ws.workerPort};p=Ae.port?Vl.fromPort(Ae):new Vl(Ae),e._worker=p}const I={docId:t,apiVersion:"4.4.168",data:s,password:u,disableAutoFetch:J,rangeChunkSize:d,length:pe,docBaseUrl:y,enableXfa:Q,evaluatorOptions:{maxImageSize:R,disableFontFace:$,ignoreErrors:P,isEvalSupported:F,isOffscreenCanvasSupported:N,canvasMaxAreaInBytes:M,fontExtraProperties:W,useSystemFonts:Z,cMapUrl:G?w:null,standardFontDataUrl:G?A:null}},we={disableFontFace:$,fontExtraProperties:W,ownerDocument:z,pdfBug:Y,styleElement:B,loadingParams:{disableAutoFetch:J,enableXfa:Q}};return p.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Ae=p.messageHandler.sendWithPromise("GetDocRequest",I,s?[s.buffer]:null);let ge;if(h)ge=new OL(h,{disableRange:q,disableStream:ne});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");ge=(Ee=>yn?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Hc(Ee.url)?new dS(Ee):new XL(Ee):Hc(Ee.url)?new dS(Ee):new VL(Ee))({url:n,length:pe,httpHeaders:o,withCredentials:l,rangeChunkSize:d,disableRange:q,disableStream:ne})}return Ae.then(ke=>{if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Ee=new Vc(t,ke,p.port),Ne=new mI(Ee,e,ge,we,X);e._transport=Ne,Ee.send("Ready",null)})}).catch(e._capability.reject),e}function hI(r){if(r instanceof URL)return r.href;try{return new URL(r,window.location).href}catch{if(yn&&typeof r=="string")return r}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function dI(r){if(yn&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return Ng(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r==null?void 0:r.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function fS(r){return typeof r=="object"&&Number.isInteger(r==null?void 0:r.num)&&r.num>=0&&Number.isInteger(r==null?void 0:r.gen)&&r.gen>=0}var bg;const xg=class xg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Qn(xg,bg)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,n;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};bg=new WeakMap,T(xg,bg,0);let a0=xg,L_=class{constructor(e,t,n=!1,s=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){it("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class fI{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ye(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var uo,rs,Cr,zl,Ep;class pI{constructor(e,t,n,s=!1){T(this,Cr);T(this,uo,null);T(this,rs,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=s?new Zx:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new I_,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:o=!1}={}){return new Vd({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ye(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:s=Zs.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:u=null,annotationCanvasMap:h=null,pageColors:d=null,printAnnotationStorage:p=null}){var R,F;(R=this._stats)==null||R.time("Overall");const m=this._transport.getRenderingIntent(n,s,p),{renderingIntent:y,cacheKey:w}=m;E(this,rs,!1),C(this,Cr,Ep).call(this),u||(u=this._transport.getOptionalContentConfig(y));let x=this._intentStates.get(w);x||(x=Object.create(null),this._intentStates.set(w,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const S=!!(y&Ar.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(m));const A=N=>{var M;x.renderTasks.delete(k),(this._maybeCleanupAfterRender||S)&&E(this,rs,!0),C(this,Cr,zl).call(this,!S),N?(k.capability.reject(N),this._abortOperatorList({intentState:x,reason:N instanceof Error?N:new Error(N)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(M=globalThis.Stats)!=null&&M.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},k=new u0({callback:A,params:{canvasContext:e,viewport:t,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!S,pdfBug:this._pdfBug,pageColors:d});(x.renderTasks||(x.renderTasks=new Set)).add(k);const P=k.task;return Promise.all([x.displayReadyCapability.promise,u]).then(([N,M])=>{var $;if(this.destroyed){A();return}if(($=this._stats)==null||$.time("Rendering"),!(M.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");k.initializeGraphics({transparency:N,optionalContentConfig:M}),k.operatorListChanged()}).catch(A),P}getOperatorList({intent:e="display",annotationMode:t=Zs.ENABLE,printAnnotationStorage:n=null}={}){var h;function s(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(u))}const o=this._transport.getRenderingIntent(e,t,n,!0);let l=this._intentStates.get(o.cacheKey);l||(l=Object.create(null),this._intentStates.set(o.cacheKey,l));let u;return l.opListReadCapability||(u=Object.create(null),u.operatorListChanged=s,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(u),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(h=this._stats)==null||h.time("Page Request"),this._pumpOperatorList(o)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>ah.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,s){function o(){l.read().then(function({value:h,done:d}){if(d){n(u);return}u.lang??(u.lang=h.lang),Object.assign(u.styles,h.styles),u.items.push(...h.items),o()},s)}const l=t.getReader(),u={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),E(this,rs,!1),C(this,Cr,Ep).call(this),Promise.all(e)}cleanup(e=!1){E(this,rs,!0);const t=C(this,Cr,zl).call(this,!1);return e&&t&&this._stats&&(this._stats=new Zx),t}_startRenderPage(e,t){var s,o;const n=this._intentStates.get(t);n&&((s=this._stats)==null||s.timeEnd("Page Request"),(o=n.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,t){for(let n=0,s=e.length;n<s;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&C(this,Cr,zl).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n}){const{map:s,transfer:o}=n,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s},o).getReader(),h=this._intentStates.get(t);h.streamReader=u;const d=()=>{u.read().then(({value:p,done:m})=>{if(m){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,h),d())},p=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const m of h.renderTasks)m.operatorListChanged();C(this,Cr,zl).call(this,!0)}if(h.displayReadyCapability)h.displayReadyCapability.reject(p);else if(h.opListReadCapability)h.opListReadCapability.reject(p);else throw p}})};d()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof pw){let s=iI;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new rl(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,o]of this._intentStates)if(o===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}uo=new WeakMap,rs=new WeakMap,Cr=new WeakSet,zl=function(e=!1){if(C(this,Cr,Ep).call(this),!f(this,rs)||this.destroyed)return!1;if(e)return E(this,uo,setTimeout(()=>{E(this,uo,null),C(this,Cr,zl).call(this,!1)},sI)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),E(this,rs,!1),!0},Ep=function(){f(this,uo)&&(clearTimeout(f(this,uo)),E(this,uo,null))};var ba,Sg;class gI{constructor(){T(this,ba,new Set);T(this,Sg,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};f(this,Sg).then(()=>{for(const s of f(this,ba))s.call(this,n)})}addEventListener(e,t){f(this,ba).add(t)}removeEventListener(e,t){f(this,ba).delete(t)}terminate(){f(this,ba).clear()}}ba=new WeakMap,Sg=new WeakMap;const qi={isWorkerDisabled:!1,fakeWorkerId:0};yn&&(qi.isWorkerDisabled=!0,ws.workerSrc||(ws.workerSrc="./pdf.worker.mjs")),qi.isSameOrigin=function(r,e){let t;try{if(t=new URL(r),!t.origin||t.origin==="null")return!1}catch{return!1}const n=new URL(e,t);return t.origin===n.origin},qi.createCDNWrapper=function(r){const e=`await import("${r}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var xa,gu,Cp,mu,Tp;const er=class er{constructor({name:e=null,port:t=null,verbosity:n=qR()}={}){T(this,gu);var s;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((s=f(er,xa))!=null&&s.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(f(er,xa)||E(er,xa,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return yn?Promise.all([Ri.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Vc("main","worker",e),this._messageHandler.on("ready",function(){}),C(this,gu,Cp).call(this)}_initialize(){if(qi.isWorkerDisabled||f(er,mu,Tp)){this._setupFakeWorker();return}let{workerSrc:e}=er;try{qi.isSameOrigin(window.location.href,e)||(e=qi.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Vc("main","worker",t),s=()=>{o.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;t.addEventListener("error",()=>{this._webWorker||s()},{signal:o.signal}),n.on("test",u=>{if(o.abort(),this.destroyed||!u){s();return}this._messageHandler=n,this._port=t,this._webWorker=t,C(this,gu,Cp).call(this)}),n.on("ready",u=>{if(o.abort(),this.destroyed){s();return}try{l()}catch{this._setupFakeWorker()}});const l=()=>{const u=new Uint8Array;n.send("test",u,[u.buffer])};l();return}catch{Fg("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){qi.isWorkerDisabled||(Be("Setting up fake worker."),qi.isWorkerDisabled=!0),er._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new gI;this._port=t;const n=`fake${qi.fakeWorkerId++}`,s=new Vc(n+"_worker",n,t);e.setup(s,t),this._messageHandler=new Vc(n,n+"_worker",t),C(this,gu,Cp).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=f(er,xa))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(n=f(this,xa))==null?void 0:n.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new er(e)}static get workerSrc(){if(ws.workerSrc)return ws.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ye(this,"_setupFakeWorkerGlobal",(async()=>f(this,mu,Tp)?f(this,mu,Tp):(await import(this.workerSrc)).WorkerMessageHandler)())}};xa=new WeakMap,gu=new WeakSet,Cp=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},mu=new WeakSet,Tp=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},T(er,mu),T(er,xa);let Vl=er;var is,vi,yu,vu,wi,Sa,Wc;class mI{constructor(e,t,n,s,o){T(this,Sa);T(this,is,new Map);T(this,vi,new Map);T(this,yu,new Map);T(this,vu,new Map);T(this,wi,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new I_,this.fontLoader=new pL({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ye(this,"annotationStorage",new vw)}getRenderingIntent(e,t=Zs.ENABLE,n=null,s=!1){let o=Ar.DISPLAY,l=Zv;switch(e){case"any":o=Ar.ANY;break;case"display":break;case"print":o=Ar.PRINT;break;default:Be(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case Zs.DISABLE:o+=Ar.ANNOTATIONS_DISABLE;break;case Zs.ENABLE:break;case Zs.ENABLE_FORMS:o+=Ar.ANNOTATIONS_FORMS;break;case Zs.ENABLE_STORAGE:o+=Ar.ANNOTATIONS_STORAGE,l=(o&Ar.PRINT&&n instanceof m_?n:this.annotationStorage).serializable;break;default:Be(`getRenderingIntent - invalid annotationMode: ${t}`)}return s&&(o+=Ar.OPLIST),{renderingIntent:o,cacheKey:`${o}_${l.hash}`,annotationStorageSerializable:l}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=f(this,wi))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of f(this,vi).values())e.push(s._destroy());f(this,vi).clear(),f(this,yu).clear(),f(this,vu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var s;this.commonObjs.clear(),this.fontLoader.clear(),f(this,is).clear(),this.filterFactory.destroy(),eg.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new rl("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,s)=>{Ht(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},s.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){s.close();return}Ht(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{this._fullReader.cancel(o),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",n=>{const s=Promise.withResolvers(),o=this._fullReader;return o.headersReady.then(()=>{var l;(!o.isStreamingSupported||!o.isRangeSupported)&&(this._lastProgress&&((l=t.onProgress)==null||l.call(t,this._lastProgress)),o.onProgress=u=>{var h;(h=t.onProgress)==null||h.call(t,{loaded:u.loaded,total:u.total})}),s.resolve({isStreamingSupported:o.isStreamingSupported,isRangeSupported:o.isRangeSupported,contentLength:o.contentLength})},s.reject),s.promise}),e.on("GetRangeReader",(n,s)=>{Ht(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){s.close();return}s.onPull=()=>{o.read().then(function({value:l,done:u}){if(u){s.close();return}Ht(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{s.error(l)})},s.onCancel=l=>{o.cancel(l),s.ready.catch(u=>{if(!this.destroyed)throw u})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new fI(n,this))}),e.on("DocException",function(n){let s;switch(n.name){case"PasswordException":s=new Rv(n.message,n.code);break;case"InvalidPDFException":s=new Ok(n.message);break;case"MissingPDFException":s=new nl(n.message);break;case"UnexpectedResponseException":s=new Og(n.message,n.status);break;case"UnknownErrorException":s=new Lv(n.message,n.details);break;default:it("DocException - expected a valid Error.")}t._capability.reject(s)}),e.on("PasswordRequest",n=>{if(E(this,wi,Promise.withResolvers()),t.onPassword){const s=o=>{o instanceof Error?f(this,wi).reject(o):f(this,wi).resolve({password:o})};try{t.onPassword(s,n.code)}catch(o){f(this,wi).reject(o)}}else f(this,wi).reject(new Rv(n.message,n.code));return f(this,wi).promise}),e.on("DataLoaded",n=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;f(this,vi).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,s,o])=>{var l;if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":const{disableFontFace:u,fontExtraProperties:h,pdfBug:d}=this._params;if("error"in o){const w=o.error;Be(`Error during font loading: ${w}`),this.commonObjs.resolve(n,w);break}const p=d&&((l=globalThis.FontInspector)!=null&&l.enabled)?(w,x)=>globalThis.FontInspector.fontAdded(w,x):null,m=new gL(o,{disableFontFace:u,inspectFont:p});this.fontLoader.bind(m).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!h&&m.data&&(m.data=null),this.commonObjs.resolve(n,m)});break;case"CopyLocalImage":const{imageRef:y}=o;Ht(y,"The imageRef must be defined.");for(const w of f(this,vi).values())for(const[,x]of w.objs)if((x==null?void 0:x.ref)===y)return x.dataLen?(this.commonObjs.resolve(n,structuredClone(x)),x.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([n,s,o,l])=>{var h;if(this.destroyed)return;const u=f(this,vi).get(s);if(!u.objs.has(n)){if(u._intentStates.size===0){(h=l==null?void 0:l.bitmap)==null||h.close();return}switch(o){case"Image":u.objs.resolve(n,l),(l==null?void 0:l.dataLen)>UR&&(u._maybeCleanupAfterRender=!0);break;case"Pattern":u.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",n=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Be("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=f(this,yu).get(t);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&f(this,vu).set(o.refStr,e);const l=new pI(t,o,this,this._params.pdfBug);return f(this,vi).set(t,l),l});return f(this,yu).set(t,s),s}getPageIndex(e){return fS(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return C(this,Sa,Wc).call(this,"GetFieldObjects")}hasJSActions(){return C(this,Sa,Wc).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return C(this,Sa,Wc).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return C(this,Sa,Wc).call(this,"GetOptionalContentConfig").then(t=>new FL(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=f(this,is).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(s=>{var o,l;return{info:s[0],metadata:s[1]?new ML(s[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((l=this._fullReader)==null?void 0:l.contentLength)??null}});return f(this,is).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of f(this,vi).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),f(this,is).clear(),this.filterFactory.destroy(!0),eg.cleanup()}}cachedPageNumber(e){if(!fS(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return f(this,vu).get(t)??null}}is=new WeakMap,vi=new WeakMap,yu=new WeakMap,vu=new WeakMap,wi=new WeakMap,Sa=new WeakSet,Wc=function(e,t=null){const n=f(this,is).get(e);if(n)return n;const s=this.messageHandler.sendWithPromise(e,t);return f(this,is).set(e,s),s};const dp=Symbol("INITIAL_DATA");var Vr,Zh,l0;class I_{constructor(){T(this,Zh);T(this,Vr,Object.create(null))}get(e,t=null){if(t){const s=C(this,Zh,l0).call(this,e);return s.promise.then(()=>t(s.data)),null}const n=f(this,Vr)[e];if(!n||n.data===dp)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=f(this,Vr)[e];return!!t&&t.data!==dp}resolve(e,t=null){const n=C(this,Zh,l0).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in f(this,Vr)){const{data:n}=f(this,Vr)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}E(this,Vr,Object.create(null))}*[Symbol.iterator](){for(const e in f(this,Vr)){const{data:t}=f(this,Vr)[e];t!==dp&&(yield[e,t])}}}Vr=new WeakMap,Zh=new WeakSet,l0=function(e){var t;return(t=f(this,Vr))[e]||(t[e]={...Promise.withResolvers(),data:dp})};var co;class yI{constructor(e){T(this,co,null);E(this,co,e),this.onContinue=null}get promise(){return f(this,co).capability.promise}cancel(e=0){f(this,co).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=f(this,co).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=f(this,co);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}co=new WeakMap;var ho,ka;const Yo=class Yo{constructor({callback:e,params:t,objs:n,commonObjs:s,annotationCanvasMap:o,operatorList:l,pageIndex:u,canvasFactory:h,filterFactory:d,useRequestAnimationFrame:p=!1,pdfBug:m=!1,pageColors:y=null}){T(this,ho,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=u,this.canvasFactory=h,this.filterFactory=d,this._pdfBug=m,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new yI(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var u,h;if(this.cancelled)return;if(this._canvas){if(f(Yo,ka).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");f(Yo,ka).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:s,transform:o,background:l}=this.params;this.gfx=new $l(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:s,transparency:e,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,(h=this.graphicsReadyCallback)==null||h.call(this)}cancel(e=null,t=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),f(this,ho)&&(window.cancelAnimationFrame(f(this,ho)),E(this,ho,null)),f(Yo,ka).delete(this._canvas),this.callback(e||new pw(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?E(this,ho,window.requestAnimationFrame(()=>{E(this,ho,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),f(Yo,ka).delete(this._canvas),this.callback())))}};ho=new WeakMap,ka=new WeakMap,T(Yo,ka,new WeakSet);let u0=Yo;const vI="4.4.168",wI="19fbc8998";function pS(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function Dc(r){return Math.max(0,Math.min(255,255*r))}class gS{static CMYK_G([e,t,n,s]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Dc(e),[e,e,e]}static G_HTML([e]){const t=pS(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Dc)}static RGB_HTML(e){return`#${e.map(pS).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,n+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,n,s]){return[Dc(1-Math.min(1,e+s)),Dc(1-Math.min(1,n+s)),Dc(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const s=1-e,o=1-t,l=1-n,u=Math.min(s,o,l);return["CMYK",s,o,l,u]}}class M_{static setupStorage(e,t,n,s,o){const l=s.getValue(t,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),o==="print")break;e.addEventListener("input",u=>{s.setValue(t,{value:u.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?e.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",u=>{s.setValue(t,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),o==="print")break;e.addEventListener("input",u=>{s.setValue(t,{value:u.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const u of n.children)u.attributes.value===l.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}e.addEventListener("input",u=>{const h=u.target.options,d=h.selectedIndex===-1?"":h[h.selectedIndex].value;s.setValue(t,{value:d})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:s,linkService:o}){const{attributes:l}=t,u=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${s}`);for(const[h,d]of Object.entries(l))if(d!=null)switch(h){case"class":d.length&&e.setAttribute(h,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!u||h!=="href"&&h!=="newWindow")&&e.setAttribute(h,d)}u&&o.addLinkAttributes(e,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(e,l.dataId,t,n)}static render(e){var m,y;const t=e.annotationStorage,n=e.linkService,s=e.xfaHtml,o=e.intent||"display",l=document.createElement(s.name);s.attributes&&this.setAttributes({html:l,element:s,intent:o,linkService:n});const u=o!=="richText",h=e.div;if(h.append(l),e.viewport){const w=`matrix(${e.viewport.transform.join(",")})`;h.style.transform=w}u&&h.setAttribute("class","xfaLayer xfaFont");const d=[];if(s.children.length===0){if(s.value){const w=document.createTextNode(s.value);l.append(w),u&&ah.shouldBuildText(s.name)&&d.push(w)}return{textDivs:d}}const p=[[s,-1,l]];for(;p.length>0;){const[w,x,S]=p.at(-1);if(x+1===w.children.length){p.pop();continue}const A=w.children[++p.at(-1)[1]];if(A===null)continue;const{name:k}=A;if(k==="#text"){const R=document.createTextNode(A.value);d.push(R),S.append(R);continue}const P=(m=A==null?void 0:A.attributes)!=null&&m.xmlns?document.createElementNS(A.attributes.xmlns,k):document.createElement(k);if(S.append(P),A.attributes&&this.setAttributes({html:P,element:A,storage:t,intent:o,linkService:n}),((y=A.children)==null?void 0:y.length)>0)p.push([A,-1,P]);else if(A.value){const R=document.createTextNode(A.value);u&&ah.shouldBuildText(k)&&d.push(R),P.append(R)}}for(const w of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))w.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const qd=1e3,bI=9,Ya=new WeakSet;function bs(r){return{width:r[2]-r[0],height:r[3]-r[1]}}class xI{static create(e){switch(e.data.annotationType){case Ft.LINK:return new D_(e);case Ft.TEXT:return new SI(e);case Ft.WIDGET:switch(e.data.fieldType){case"Tx":return new kI(e);case"Btn":return e.data.radioButton?new N_(e):e.data.checkBox?new AI(e):new EI(e);case"Ch":return new CI(e);case"Sig":return new _I(e)}return new il(e);case Ft.POPUP:return new h0(e);case Ft.FREETEXT:return new U_(e);case Ft.LINE:return new PI(e);case Ft.SQUARE:return new RI(e);case Ft.CIRCLE:return new LI(e);case Ft.POLYLINE:return new $_(e);case Ft.CARET:return new MI(e);case Ft.INK:return new V_(e);case Ft.POLYGON:return new II(e);case Ft.HIGHLIGHT:return new DI(e);case Ft.UNDERLINE:return new FI(e);case Ft.SQUIGGLY:return new OI(e);case Ft.STRIKEOUT:return new NI(e);case Ft.STAMP:return new W_(e);case Ft.FILEATTACHMENT:return new zI(e);default:return new Tt(e)}}}var _a,wu,bu,ed,c0;const $w=class $w{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){T(this,ed);T(this,_a,null);T(this,wu,!1);T(this,bu,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get hasPopupData(){return $w._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;f(this,_a)||E(this,_a,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&C(this,ed,c0).call(this,t),(n=f(this,bu))==null||n.popup.updateEdited(e)}resetEdited(){var e;f(this,_a)&&(C(this,ed,c0).call(this,f(this,_a).rect),(e=f(this,bu))==null||e.popup.resetEdited(),E(this,_a,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:s}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof il||(o.tabIndex=qd);const{style:l}=o;if(l.zIndex=this.parent.zIndex++,t.popupRef&&o.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof h0){const{rotation:S}=t;return!t.hasOwnCanvas&&S!==0&&this.setRotation(S,o),o}const{width:u,height:h}=bs(t.rect);if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const S=t.borderStyle.horizontalCornerRadius,A=t.borderStyle.verticalCornerRadius;if(S>0||A>0){const P=`calc(${S}px * var(--scale-factor)) / calc(${A}px * var(--scale-factor))`;l.borderRadius=P}else if(this instanceof N_){const P=`calc(${u}px * var(--scale-factor)) / calc(${h}px * var(--scale-factor))`;l.borderRadius=P}switch(t.borderStyle.style){case Ic.SOLID:l.borderStyle="solid";break;case Ic.DASHED:l.borderStyle="dashed";break;case Ic.BEVELED:Be("Unimplemented border style: beveled");break;case Ic.INSET:Be("Unimplemented border style: inset");break;case Ic.UNDERLINE:l.borderBottomStyle="solid";break}const k=t.borderColor||null;k?(E(this,wu,!0),l.borderColor=Se.makeHexColor(k[0]|0,k[1]|0,k[2]|0)):l.borderWidth=0}const d=Se.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:m,pageX:y,pageY:w}=s.rawDims;l.left=`${100*(d[0]-y)/p}%`,l.top=`${100*(d[1]-w)/m}%`;const{rotation:x}=t;return t.hasOwnCanvas||x===0?(l.width=`${100*u/p}%`,l.height=`${100*h/m}%`):this.setRotation(x,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims,{width:o,height:l}=bs(this.data.rect);let u,h;e%180===0?(u=100*o/n,h=100*l/s):(u=100*l/n,h=100*o/s),t.style.width=`${u}%`,t.style.height=`${h}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,s)=>{const o=s.detail[t],l=o[0],u=o.slice(1);s.target.style[n]=gS[`${l}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[n]:gS[`${l}_rgb`](u)})};return Ye(this,"_commonActions",{display:t=>{const{display:n}=t.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const s of Object.keys(t.detail)){const o=e[s]||n[s];o==null||o(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[s,o]of Object.entries(t)){const l=n[s];if(l){const u={detail:{[s]:o},target:e};l(u),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,s,o]=this.data.rect.map(S=>Math.fround(S));if(e.length===8){const[S,A,k,P]=e.subarray(2,6);if(s===S&&o===A&&t===k&&n===P)return}const{style:l}=this.container;let u;if(f(this,wu)){const{borderColor:S,borderWidth:A}=l;l.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const h=s-t,d=o-n,{svgFactory:p}=this,m=p.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0);const y=p.createElement("defs");m.append(y);const w=p.createElement("clipPath"),x=`clippath_${this.data.id}`;w.setAttribute("id",x),w.setAttribute("clipPathUnits","objectBoundingBox"),y.append(w);for(let S=2,A=e.length;S<A;S+=8){const k=e[S],P=e[S+1],R=e[S+2],F=e[S+3],N=p.createElement("rect"),M=(R-t)/h,$=(o-P)/d,W=(k-R)/h,Q=(P-F)/d;N.setAttribute("x",M),N.setAttribute("y",$),N.setAttribute("width",W),N.setAttribute("height",Q),w.append(N),u==null||u.push(`<rect vector-effect="non-scaling-stroke" x="${M}" y="${$}" width="${W}" height="${Q}"/>`)}f(this,wu)&&(u.push("</g></svg>')"),l.backgroundImage=u.join("")),this.container.append(m),this.container.style.clipPath=`url(#${x})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const n=E(this,bu,new h0({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){it("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:o,id:l,exportValues:u}of s){if(o===-1||l===t)continue;const h=typeof u=="string"?u:null,d=document.querySelector(`[data-element-id="${l}"]`);if(d&&!Ya.has(d)){Be(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:h,domElement:d})}return n}for(const s of document.getElementsByName(e)){const{exportValue:o}=s,l=s.getAttribute("data-element-id");l!==t&&Ya.has(s)&&n.push({id:l,exportValue:o,domElement:s})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};_a=new WeakMap,wu=new WeakMap,bu=new WeakMap,ed=new WeakSet,c0=function(e){const{container:{style:t},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:u,pageY:h}}}}=this;n==null||n.splice(0,4,...e);const{width:d,height:p}=bs(e);t.left=`${100*(e[0]-u)/o}%`,t.top=`${100*(l-e[3]+h)/l}%`,s===0?(t.width=`${100*d/o}%`,t.height=`${100*p/l}%`):this.setRotation(s)};let Tt=$w;var ur,Go,F_,O_;class D_ extends Tt{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});T(this,ur);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let o=!1;return t.url?(n.addLinkAttributes(s,t.url,t.newWindow),o=!0):t.action?(this._bindNamedAction(s,t.action),o=!0):t.attachment?(C(this,ur,F_).call(this,s,t.attachment,t.attachmentDest),o=!0):t.setOCGState?(C(this,ur,O_).call(this,s,t.setOCGState),o=!0):t.dest?(this._bindLink(s,t.dest),o=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),o=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(s,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(s),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&C(this,ur,Go).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),C(this,ur,Go).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(n.actions)){const l=s.get(o);l&&(t[l]=()=>{var u;return(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:o}}),!1})}t.onclick||(t.onclick=()=>!1),C(this,ur,Go).call(this)}_bindResetFormAction(t,n){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),C(this,ur,Go).call(this),!this._fieldObjects){Be('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var m;s==null||s();const{fields:o,refs:l,include:u}=n,h=[];if(o.length!==0||l.length!==0){const y=new Set(l);for(const w of o){const x=this._fieldObjects[w]||[];for(const{id:S}of x)y.add(S)}for(const w of Object.values(this._fieldObjects))for(const x of w)y.has(x.id)===u&&h.push(x)}else for(const y of Object.values(this._fieldObjects))h.push(...y);const d=this.annotationStorage,p=[];for(const y of h){const{id:w}=y;switch(p.push(w),y.type){case"text":{const S=y.defaultValue||"";d.setValue(w,{value:S});break}case"checkbox":case"radiobutton":{const S=y.defaultValue===y.exportValues;d.setValue(w,{value:S});break}case"combobox":case"listbox":{const S=y.defaultValue||"";d.setValue(w,{value:S});break}default:continue}const x=document.querySelector(`[data-element-id="${w}"]`);if(x){if(!Ya.has(x)){Be(`_bindResetFormAction - element not allowed: ${w}`);continue}}else continue;x.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:p,name:"ResetForm"}})),!1}}}ur=new WeakSet,Go=function(){this.container.setAttribute("data-internal-link","")},F_=function(t,n,s=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(n.content,n.filename,s),!1},C(this,ur,Go).call(this)},O_=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),C(this,ur,Go).call(this)};class SI extends Tt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class il extends Tt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Hn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,s,o){n.includes("mouse")?e.addEventListener(n,l=>{var u;(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(n,l=>{var u;if(n==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}o&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(l)}}))})}_setEventListeners(e,t,n,s){var o,l,u;for(const[h,d]of n)(d==="Action"||(o=this.data.actions)!=null&&o[d])&&((d==="Focus"||d==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,h,d,s),d==="Focus"&&!((l=this.data.actions)!=null&&l.Blur)?this._setEventListener(e,t,"blur","Blur",null):d==="Blur"&&!((u=this.data.actions)!=null&&u.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Se.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||bI,o=e.style;let l;const u=2,h=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-u),p=Math.round(d/(Qy*s))||1,m=d/p;l=Math.min(s,h(m/Qy))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-u);l=Math.min(s,h(d/Qy))}o.fontSize=`calc(${l}px * var(--scale-factor))`,o.color=Se.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class kI extends il{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,s){const o=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=n),o.setValue(l.id,{[s]:n})}render(){var s,o;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const l=e.getValue(t,{value:this.data.fieldValue});let u=l.value||"";const h=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;h&&u.length>h&&(u=u.slice(0,h));let d=l.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const p={userValue:u,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=d??u,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",d??u),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Ya.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=qd,this._setRequired(n,this.data.required),h&&(n.maxLength=h),n.addEventListener("input",y=>{e.setValue(t,{value:y.target.value}),this.setPropertyOnSiblings(n,"value",y.target.value,"value"),p.formattedValue=null}),n.addEventListener("resetform",y=>{const w=this.data.defaultFieldValue??"";n.value=p.userValue=w,p.formattedValue=null});let m=y=>{const{formattedValue:w}=p;w!=null&&(y.target.value=w),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",w=>{var S;if(p.focused)return;const{target:x}=w;p.userValue&&(x.value=p.userValue),p.lastCommittedValue=x.value,p.commitKey=1,(S=this.data.actions)!=null&&S.Focus||(p.focused=!0)}),n.addEventListener("updatefromsandbox",w=>{this.showElementAndHideCanvas(w.target);const x={value(S){p.userValue=S.detail.value??"",e.setValue(t,{value:p.userValue.toString()}),S.target.value=p.userValue},formattedValue(S){const{formattedValue:A}=S.detail;p.formattedValue=A,A!=null&&S.target!==document.activeElement&&(S.target.value=A),e.setValue(t,{formattedValue:A})},selRange(S){S.target.setSelectionRange(...S.detail.selRange)},charLimit:S=>{var R;const{charLimit:A}=S.detail,{target:k}=S;if(A===0){k.removeAttribute("maxLength");return}k.setAttribute("maxLength",A);let P=p.userValue;!P||P.length<=A||(P=P.slice(0,A),k.value=p.userValue=P,e.setValue(t,{value:P}),(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:P,willCommit:!0,commitKey:1,selStart:k.selectionStart,selEnd:k.selectionEnd}}))}};this._dispatchEventFromSandbox(x,w)}),n.addEventListener("keydown",w=>{var A;p.commitKey=1;let x=-1;if(w.key==="Escape"?x=0:w.key==="Enter"&&!this.data.multiLine?x=2:w.key==="Tab"&&(p.commitKey=3),x===-1)return;const{value:S}=w.target;p.lastCommittedValue!==S&&(p.lastCommittedValue=S,p.userValue=S,(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,willCommit:!0,commitKey:x,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}))});const y=m;m=null,n.addEventListener("blur",w=>{var S,A;if(!p.focused||!w.relatedTarget)return;(S=this.data.actions)!=null&&S.Blur||(p.focused=!1);const{value:x}=w.target;p.userValue=x,p.lastCommittedValue!==x&&((A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:p.commitKey,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}})),y(w)}),(o=this.data.actions)!=null&&o.Keystroke&&n.addEventListener("beforeinput",w=>{var N;p.lastCommittedValue=null;const{data:x,target:S}=w,{value:A,selectionStart:k,selectionEnd:P}=S;let R=k,F=P;switch(w.inputType){case"deleteWordBackward":{const M=A.substring(0,k).match(/\w*[^\w]*$/);M&&(R-=M[0].length);break}case"deleteWordForward":{const M=A.substring(k).match(/^[^\w]*\w*/);M&&(F+=M[0].length);break}case"deleteContentBackward":k===P&&(R-=1);break;case"deleteContentForward":k===P&&(F+=1);break}w.preventDefault(),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,change:x||"",willCommit:!1,selStart:R,selEnd:F}})}),this._setEventListeners(n,p,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],w=>w.target.value)}if(m&&n.addEventListener("blur",m),this.data.comb){const w=(this.data.rect[2]-this.data.rect[0])/h;n.classList.add("comb"),n.style.letterSpacing=`calc(${w}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class _I extends il{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class AI extends il{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return Ya.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,s&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=qd,o.addEventListener("change",l=>{const{name:u,checked:h}=l.target;for(const d of this._getElementsByName(u,n)){const p=h&&d.exportValue===t.exportValue;d.domElement&&(d.domElement.checked=p),e.setValue(d.id,{value:p})}e.setValue(n,{value:h})}),o.addEventListener("resetform",l=>{const u=t.defaultFieldValue||"Off";l.target.checked=u===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const u={value(h){h.target.checked=h.detail.value!=="Off",e.setValue(n,{value:h.target.checked})}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class N_ extends il{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(n,{value:s})),s)for(const l of this._getElementsByName(t.fieldName,n))e.setValue(l.id,{value:!1});const o=document.createElement("input");if(Ya.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,s&&o.setAttribute("checked",!0),o.tabIndex=qd,o.addEventListener("change",l=>{const{name:u,checked:h}=l.target;for(const d of this._getElementsByName(u,n))e.setValue(d.id,{value:!1});e.setValue(n,{value:h})}),o.addEventListener("resetform",l=>{const u=t.defaultFieldValue;l.target.checked=u!=null&&u===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;o.addEventListener("updatefromsandbox",u=>{const h={value:d=>{const p=l===d.detail.value;for(const m of this._getElementsByName(d.target.name)){const y=p&&m.id===n;m.domElement&&(m.domElement.checked=y),e.setValue(m.id,{value:y})}}};this._dispatchEventFromSandbox(h,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class EI extends D_{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class CI extends il{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");Ya.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=qd;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue;for(const y of s.options)y.selected=y.value===m});for(const p of this.data.options){const m=document.createElement("option");m.textContent=p.displayValue,m.value=p.exportValue,n.value.includes(p.exportValue)&&(m.setAttribute("selected",!0),o=!1),s.append(m)}let l=null;if(o){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),s.prepend(p),l=()=>{p.remove(),s.removeEventListener("input",l),l=null},s.addEventListener("input",l)}const u=p=>{const m=p?"value":"textContent",{options:y,multiple:w}=s;return w?Array.prototype.filter.call(y,x=>x.selected).map(x=>x[m]):y.selectedIndex===-1?null:y[y.selectedIndex][m]};let h=u(!1);const d=p=>{const m=p.target.options;return Array.prototype.map.call(m,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",p=>{const m={value(y){l==null||l();const w=y.detail.value,x=new Set(Array.isArray(w)?w:[w]);for(const S of s.options)S.selected=x.has(S.value);e.setValue(t,{value:u(!0)}),h=u(!1)},multipleSelection(y){s.multiple=!0},remove(y){const w=s.options,x=y.detail.remove;w[x].selected=!1,s.remove(x),w.length>0&&Array.prototype.findIndex.call(w,A=>A.selected)===-1&&(w[0].selected=!0),e.setValue(t,{value:u(!0),items:d(y)}),h=u(!1)},clear(y){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),h=u(!1)},insert(y){const{index:w,displayValue:x,exportValue:S}=y.detail.insert,A=s.children[w],k=document.createElement("option");k.textContent=x,k.value=S,A?A.before(k):s.append(k),e.setValue(t,{value:u(!0),items:d(y)}),h=u(!1)},items(y){const{items:w}=y.detail;for(;s.length!==0;)s.remove(0);for(const x of w){const{displayValue:S,exportValue:A}=x,k=document.createElement("option");k.textContent=S,k.value=A,s.append(k)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:u(!0),items:d(y)}),h=u(!1)},indices(y){const w=new Set(y.detail.indices);for(const x of y.target.options)x.selected=w.has(x.index);e.setValue(t,{value:u(!0)}),h=u(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(m,p)}),s.addEventListener("input",p=>{var w;const m=u(!0),y=u(!1);e.setValue(t,{value:m}),p.preventDefault(),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:h,change:y,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):s.addEventListener("input",function(p){e.setValue(t,{value:u(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class h0 extends Tt{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:Tt._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new TI({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${zk}${n}`).join(",")),this.container}}var xu,kg,_g,Su,Aa,_t,ss,Ea,td,nd,ku,os,Wr,as,rd,ls,id,Ca,Ta,st,Pp,d0,z_,j_,B_,H_,Rp,Lp,f0;class TI{constructor({container:e,color:t,elements:n,titleObj:s,modificationDate:o,contentsObj:l,richText:u,parent:h,rect:d,parentRect:p,open:m}){T(this,st);T(this,xu,C(this,st,B_).bind(this));T(this,kg,C(this,st,f0).bind(this));T(this,_g,C(this,st,Lp).bind(this));T(this,Su,C(this,st,Rp).bind(this));T(this,Aa,null);T(this,_t,null);T(this,ss,null);T(this,Ea,null);T(this,td,null);T(this,nd,null);T(this,ku,null);T(this,os,!1);T(this,Wr,null);T(this,as,null);T(this,rd,null);T(this,ls,null);T(this,id,null);T(this,Ca,null);T(this,Ta,!1);var y;E(this,_t,e),E(this,id,s),E(this,ss,l),E(this,ls,u),E(this,nd,h),E(this,Aa,t),E(this,rd,d),E(this,ku,p),E(this,td,n),E(this,Ea,$k.toDateObject(o)),this.trigger=n.flatMap(w=>w.getElementsToTriggerPopup());for(const w of this.trigger)w.addEventListener("click",f(this,Su)),w.addEventListener("mouseenter",f(this,_g)),w.addEventListener("mouseleave",f(this,kg)),w.classList.add("popupTriggerArea");for(const w of n)(y=w.container)==null||y.addEventListener("keydown",f(this,xu));f(this,_t).hidden=!0,m&&C(this,st,Rp).call(this)}render(){if(f(this,Wr))return;const e=E(this,Wr,document.createElement("div"));if(e.className="popup",f(this,Aa)){const o=e.style.outlineColor=Se.makeHexColor(...f(this,Aa));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=Se.makeHexColor(...f(this,Aa).map(u=>Math.floor(.7*(255-u)+u)))}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=f(this,id),e.append(t),f(this,Ea)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),o.setAttribute("data-l10n-args",JSON.stringify({date:f(this,Ea).toLocaleDateString(),time:f(this,Ea).toLocaleTimeString()})),t.append(o)}const s=f(this,st,Pp);if(s)M_.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(f(this,ss));e.append(o)}f(this,_t).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const s=e.split(/(?:\r\n?|\n)/);for(let o=0,l=s.length;o<l;++o){const u=s[o];n.append(document.createTextNode(u)),o<l-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;f(this,Ca)||E(this,Ca,{contentsObj:f(this,ss),richText:f(this,ls)}),e&&E(this,as,null),t&&(E(this,ls,C(this,st,j_).call(this,t)),E(this,ss,null)),(n=f(this,Wr))==null||n.remove(),E(this,Wr,null)}resetEdited(){var e;f(this,Ca)&&({contentsObj:Qn(this,ss)._,richText:Qn(this,ls)._}=f(this,Ca),E(this,Ca,null),(e=f(this,Wr))==null||e.remove(),E(this,Wr,null),E(this,as,null))}forceHide(){E(this,Ta,this.isVisible),f(this,Ta)&&(f(this,_t).hidden=!0)}maybeShow(){f(this,Ta)&&(f(this,Wr)||C(this,st,Lp).call(this),E(this,Ta,!1),f(this,_t).hidden=!1)}get isVisible(){return f(this,_t).hidden===!1}}xu=new WeakMap,kg=new WeakMap,_g=new WeakMap,Su=new WeakMap,Aa=new WeakMap,_t=new WeakMap,ss=new WeakMap,Ea=new WeakMap,td=new WeakMap,nd=new WeakMap,ku=new WeakMap,os=new WeakMap,Wr=new WeakMap,as=new WeakMap,rd=new WeakMap,ls=new WeakMap,id=new WeakMap,Ca=new WeakMap,Ta=new WeakMap,st=new WeakSet,Pp=function(){const e=f(this,ls),t=f(this,ss);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&f(this,ls).html||null},d0=function(){var e,t,n;return((n=(t=(e=f(this,st,Pp))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},z_=function(){var e,t,n;return((n=(t=(e=f(this,st,Pp))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},j_=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:f(this,st,z_),fontSize:f(this,st,d0)?`calc(${f(this,st,d0)}px * var(--scale-factor))`:""}};for(const o of e.split(`
`))t.push({name:"span",value:o,attributes:s});return n},B_=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&f(this,os))&&C(this,st,Rp).call(this)},H_=function(){if(f(this,as)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:s,pageY:o}}}=f(this,nd);let l=!!f(this,ku),u=l?f(this,ku):f(this,rd);for(const x of f(this,td))if(!u||Se.intersect(x.data.rect,u)!==null){u=x.data.rect,l=!0;break}const h=Se.normalizeRect([u[0],e[3]-u[1]+e[1],u[2],e[3]-u[3]+e[1]]),p=l?u[2]-u[0]+5:0,m=h[0]+p,y=h[1];E(this,as,[100*(m-s)/t,100*(y-o)/n]);const{style:w}=f(this,_t);w.left=`${f(this,as)[0]}%`,w.top=`${f(this,as)[1]}%`},Rp=function(){E(this,os,!f(this,os)),f(this,os)?(C(this,st,Lp).call(this),f(this,_t).addEventListener("click",f(this,Su)),f(this,_t).addEventListener("keydown",f(this,xu))):(C(this,st,f0).call(this),f(this,_t).removeEventListener("click",f(this,Su)),f(this,_t).removeEventListener("keydown",f(this,xu)))},Lp=function(){f(this,Wr)||this.render(),this.isVisible?f(this,os)&&f(this,_t).classList.add("focused"):(C(this,st,H_).call(this),f(this,_t).hidden=!1,f(this,_t).style.zIndex=parseInt(f(this,_t).style.zIndex)+1e3)},f0=function(){f(this,_t).classList.remove("focused"),!(f(this,os)||!this.isVisible)&&(f(this,_t).hidden=!0,f(this,_t).style.zIndex=parseInt(f(this,_t).style.zIndex)-1e3)};class U_ extends Tt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ge.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var sd;class PI extends Tt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,sd,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:s}=bs(t.rect),o=this.svgFactory.create(n,s,!0),l=E(this,sd,this.svgFactory.createElement("svg:line"));return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),o.append(l),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,sd)}addHighlightArea(){this.container.classList.add("highlightArea")}}sd=new WeakMap;var od;class RI extends Tt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,od,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:s}=bs(t.rect),o=this.svgFactory.create(n,s,!0),l=t.borderStyle.width,u=E(this,od,this.svgFactory.createElement("svg:rect"));return u.setAttribute("x",l/2),u.setAttribute("y",l/2),u.setAttribute("width",n-l),u.setAttribute("height",s-l),u.setAttribute("stroke-width",l||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,od)}addHighlightArea(){this.container.classList.add("highlightArea")}}od=new WeakMap;var ad;class LI extends Tt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,ad,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:s}=bs(t.rect),o=this.svgFactory.create(n,s,!0),l=t.borderStyle.width,u=E(this,ad,this.svgFactory.createElement("svg:ellipse"));return u.setAttribute("cx",n/2),u.setAttribute("cy",s/2),u.setAttribute("rx",n/2-l/2),u.setAttribute("ry",s/2-l/2),u.setAttribute("stroke-width",l||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,ad)}addHighlightArea(){this.container.classList.add("highlightArea")}}ad=new WeakMap;var ld;class $_ extends Tt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,ld,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:s,popupRef:o}}=this;if(!n)return this.container;const{width:l,height:u}=bs(t),h=this.svgFactory.create(l,u,!0);let d=[];for(let m=0,y=n.length;m<y;m+=2){const w=n[m]-t[0],x=t[3]-n[m+1];d.push(`${w},${x}`)}d=d.join(" ");const p=E(this,ld,this.svgFactory.createElement(this.svgElementName));return p.setAttribute("points",d),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),h.append(p),this.container.append(h),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,ld)}addHighlightArea(){this.container.classList.add("highlightArea")}}ld=new WeakMap;class II extends $_{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class MI extends Tt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var ud;class V_ extends Tt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,ud,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Ge.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:n,borderStyle:s,popupRef:o}}=this,{width:l,height:u}=bs(t),h=this.svgFactory.create(l,u,!0);for(const d of n){let p=[];for(let y=0,w=d.length;y<w;y+=2){const x=d[y]-t[0],S=t[3]-d[y+1];p.push(`${x},${S}`)}p=p.join(" ");const m=this.svgFactory.createElement(this.svgElementName);f(this,ud).push(m),m.setAttribute("points",p),m.setAttribute("stroke-width",s.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),!o&&this.hasPopupData&&this._createPopup(),h.append(m)}return this.container.append(h),this.container}getElementsToTriggerPopup(){return f(this,ud)}addHighlightArea(){this.container.classList.add("highlightArea")}}ud=new WeakMap;class DI extends Tt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class FI extends Tt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class OI extends Tt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class NI extends Tt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class W_ extends Tt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var cd,hd,p0;class zI extends Tt{constructor(t){var s;super(t,{isRenderable:!0});T(this,hd);T(this,cd,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let s;n.hasAppearance||n.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),s.addEventListener("dblclick",C(this,hd,p0).bind(this)),E(this,cd,s);const{isMac:o}=Hn.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(o?l.metaKey:l.ctrlKey)&&C(this,hd,p0).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return f(this,cd)}addHighlightArea(){this.container.classList.add("highlightArea")}}cd=new WeakMap,hd=new WeakSet,p0=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var dd,Pa,_u,Za,G_,g0,yk;let jI=(yk=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:s,page:o,viewport:l}){T(this,Za);T(this,dd,null);T(this,Pa,null);T(this,_u,new Map);this.div=e,E(this,dd,t),E(this,Pa,n),this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=s}async render(e){var l;const{annotations:t}=e,n=this.div;Xa(n,this.viewport);const s=new Map,o={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new fw,annotationStorage:e.annotationStorage||new vw,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const u of t){if(u.noHTML)continue;const h=u.annotationType===Ft.POPUP;if(h){const m=s.get(u.id);if(!m)continue;o.elements=m}else{const{width:m,height:y}=bs(u.rect);if(m<=0||y<=0)continue}o.data=u;const d=xI.create(o);if(!d.isRenderable)continue;if(!h&&u.popupRef){const m=s.get(u.popupRef);m?m.push(d):s.set(u.popupRef,[d])}const p=d.render();u.hidden&&(p.style.visibility="hidden"),C(this,Za,G_).call(this,p,u.id),d.annotationEditorType>0&&(f(this,_u).set(d.data.id,d),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(d))}C(this,Za,g0).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Xa(t,{rotation:e.rotation}),C(this,Za,g0).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(f(this,_u).values())}getEditableAnnotation(e){return f(this,_u).get(e)}},dd=new WeakMap,Pa=new WeakMap,_u=new WeakMap,Za=new WeakSet,G_=function(e,t){var s;const n=e.firstChild||e;n.id=`${zk}${t}`,this.div.append(e),(s=f(this,dd))==null||s.moveElementInDOM(this.div,e,n,!1)},g0=function(){if(!f(this,Pa))return;const e=this.div;for(const[t,n]of f(this,Pa)){const s=e.querySelector(`[data-annotation-id="${t}"]`);if(!s)continue;n.className="annotationContent";const{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(n):o.classList.contains("annotationContent")?o.after(n):o.before(n):s.append(n)}f(this,Pa).clear()},yk);const fp=/\r\n?|\n/g;var fd,pd,gd,md,yd,Gr,ir,vd,sr,Au,It,q_,X_,K_,Ip,Ss,Mp,Dp,Y_,y0,Q_;const dt=class dt extends nt{constructor(t){super({...t,name:"freeTextEditor"});T(this,It);T(this,fd,this.editorDivBlur.bind(this));T(this,pd,this.editorDivFocus.bind(this));T(this,gd,this.editorDivInput.bind(this));T(this,md,this.editorDivKeydown.bind(this));T(this,yd,this.editorDivPaste.bind(this));T(this,Gr);T(this,ir,"");T(this,vd,`${this.id}-editor`);T(this,sr);T(this,Au,null);E(this,Gr,t.color||dt._defaultColor||nt._defaultLineColor),E(this,sr,t.fontSize||dt._defaultFontSize)}static get _keyboardManager(){const t=dt.prototype,n=l=>l.isEmpty(),s=Ka.TRANSLATE_SMALL,o=Ka.TRANSLATE_BIG;return Ye(this,"_keyboardManager",new Wd([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,o],checker:n}]]))}static initialize(t,n){nt.initialize(t,n,{strings:["pdfjs-free-text-default-content"]});const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Me.FREETEXT_SIZE:dt._defaultFontSize=n;break;case Me.FREETEXT_COLOR:dt._defaultColor=n;break}}updateParams(t,n){switch(t){case Me.FREETEXT_SIZE:C(this,It,q_).call(this,n);break;case Me.FREETEXT_COLOR:C(this,It,X_).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Me.FREETEXT_SIZE,dt._defaultFontSize],[Me.FREETEXT_COLOR,dt._defaultColor||nt._defaultLineColor]]}get propertiesToUpdate(){return[[Me.FREETEXT_SIZE,f(this,sr)],[Me.FREETEXT_COLOR,f(this,Gr)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-dt._internalPadding*t,-(dt._internalPadding+f(this,sr))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Ge.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",f(this,md),{signal:t}),this.editorDiv.addEventListener("focus",f(this,pd),{signal:t}),this.editorDiv.addEventListener("blur",f(this,fd),{signal:t}),this.editorDiv.addEventListener("input",f(this,gd),{signal:t}),this.editorDiv.addEventListener("paste",f(this,yd),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",f(this,vd)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",f(this,md)),this.editorDiv.removeEventListener("focus",f(this,pd)),this.editorDiv.removeEventListener("blur",f(this,fd)),this.editorDiv.removeEventListener("input",f(this,gd)),this.editorDiv.removeEventListener("paste",f(this,yd)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=f(this,ir),n=E(this,ir,C(this,It,K_).call(this).trimEnd());if(t===n)return;const s=o=>{if(E(this,ir,o),!o){this.remove();return}C(this,It,Dp).call(this),this._uiManager.rebuild(this),C(this,It,Ip).call(this)};this.addCommands({cmd:()=>{s(n)},undo:()=>{s(t)},mustExec:!1}),C(this,It,Ip).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){dt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",f(this,vd)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),nt._l10nPromise.get("pdfjs-free-text-default-content").then(o=>{var l;return(l=this.editorDiv)==null?void 0:l.setAttribute("default-content",o)}),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${f(this,sr)}px * var(--scale-factor))`,s.color=f(this,Gr),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Qp(this,this.div,["dblclick","keydown"]),this.width){const[o,l]=this.parentDimensions;if(this.annotationElementId){const{position:u}=f(this,Au);let[h,d]=this.getInitialTranslation();[h,d]=this.pageTranslationToScreen(h,d);const[p,m]=this.pageDimensions,[y,w]=this.pageTranslation;let x,S;switch(this.rotation){case 0:x=t+(u[0]-y)/p,S=n+this.height-(u[1]-w)/m;break;case 90:x=t+(u[0]-y)/p,S=n-(u[1]-w)/m,[h,d]=[d,-h];break;case 180:x=t-this.width+(u[0]-y)/p,S=n-(u[1]-w)/m,[h,d]=[-h,-d];break;case 270:x=t+(u[0]-y-this.height*m)/p,S=n+(u[1]-w-this.width*p)/m,[h,d]=[-d,h];break}this.setAt(x*o,S*l,h,d)}else this.setAt(t*o,n*l,this.width*o,this.height*l);C(this,It,Dp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var x,S,A;const n=t.clipboardData||window.clipboardData,{types:s}=n;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const o=C(x=dt,Ss,y0).call(x,n.getData("text")||"").replaceAll(fp,`
`);if(!o)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const u=l.getRangeAt(0);if(!o.includes(`
`)){u.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:h,startOffset:d}=u,p=[],m=[];if(h.nodeType===Node.TEXT_NODE){const k=h.parentElement;if(m.push(h.nodeValue.slice(d).replaceAll(fp,"")),k!==this.editorDiv){let P=p;for(const R of this.editorDiv.childNodes){if(R===k){P=m;continue}P.push(C(S=dt,Ss,Mp).call(S,R))}}p.push(h.nodeValue.slice(0,d).replaceAll(fp,""))}else if(h===this.editorDiv){let k=p,P=0;for(const R of this.editorDiv.childNodes)P++===d&&(k=m),k.push(C(A=dt,Ss,Mp).call(A,R))}E(this,ir,`${p.join(`
`)}${o}${m.join(`
`)}`),C(this,It,Dp).call(this);const y=new Range;let w=p.reduce((k,P)=>k+P.length,0);for(const{firstChild:k}of this.editorDiv.childNodes)if(k.nodeType===Node.TEXT_NODE){const P=k.nodeValue.length;if(w<=P){y.setStart(k,w),y.setEnd(k,w);break}w-=P}l.removeAllRanges(),l.addRange(y)}get contentDiv(){return this.editorDiv}static deserialize(t,n,s){var u;let o=null;if(t instanceof U_){const{data:{defaultAppearanceData:{fontSize:h,fontColor:d},rect:p,rotation:m,id:y},textContent:w,textPosition:x,parent:{page:{pageNumber:S}}}=t;if(!w||w.length===0)return null;o=t={annotationType:Ge.FREETEXT,color:Array.from(d),fontSize:h,value:w.join(`
`),position:x,pageIndex:S-1,rect:p.slice(0),rotation:m,id:y,deleted:!1}}const l=super.deserialize(t,n,s);return E(l,sr,t.fontSize),E(l,Gr,Se.makeHexColor(...t.color)),E(l,ir,C(u=dt,Ss,y0).call(u,t.value)),l.annotationElementId=t.id||null,E(l,Au,o),l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const n=dt._internalPadding*this.parentScale,s=this.getRect(n,n),o=nt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:f(this,Gr)),l={annotationType:Ge.FREETEXT,color:o,fontSize:f(this,sr),value:C(this,It,Y_).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?l:this.annotationElementId&&!C(this,It,Q_).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:s}=n;s.fontSize=`calc(${f(this,sr)}px * var(--scale-factor))`,s.color=f(this,Gr),n.replaceChildren();for(const l of f(this,ir).split(`
`)){const u=document.createElement("div");u.append(l?document.createTextNode(l):document.createElement("br")),n.append(u)}const o=dt._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(o,o),popupContent:f(this,ir)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};fd=new WeakMap,pd=new WeakMap,gd=new WeakMap,md=new WeakMap,yd=new WeakMap,Gr=new WeakMap,ir=new WeakMap,vd=new WeakMap,sr=new WeakMap,Au=new WeakMap,It=new WeakSet,q_=function(t){const n=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-f(this,sr))*this.parentScale),E(this,sr,o),C(this,It,Ip).call(this)},s=f(this,sr);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Me.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},X_=function(t){const n=o=>{E(this,Gr,this.editorDiv.style.color=o)},s=f(this,Gr);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Me.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},K_=function(){var n;const t=[];this.editorDiv.normalize();for(const s of this.editorDiv.childNodes)t.push(C(n=dt,Ss,Mp).call(n,s));return t.join(`
`)},Ip=function(){const[t,n]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:o,div:l}=this,u=l.style.display,h=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",o.div.append(this.div),s=l.getBoundingClientRect(),l.remove(),l.style.display=u,l.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/n):(this.width=s.height/t,this.height=s.width/n),this.fixAndSetPosition()},Ss=new WeakSet,Mp=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(fp,"")},Dp=function(){if(this.editorDiv.replaceChildren(),!!f(this,ir))for(const t of f(this,ir).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},Y_=function(){return f(this,ir).replaceAll(""," ")},y0=function(t){return t.replaceAll(" ","")},Q_=function(t){const{value:n,fontSize:s,color:o,pageIndex:l}=f(this,Au);return this._hasBeenMoved||t.value!==n||t.fontSize!==s||t.color.some((u,h)=>u!==o[h])||t.pageIndex!==l},T(dt,Ss),De(dt,"_freeTextDefaultContent",""),De(dt,"_internalPadding",0),De(dt,"_defaultColor",null),De(dt,"_defaultFontSize",10),De(dt,"_type","freetext"),De(dt,"_editorType",Ge.FREETEXT);let m0=dt;var wd,fo,qr,Pn,J_,Fp,Z_,eA,w0;class v0{constructor(e,t=0,n=0,s=!0){T(this,Pn);T(this,wd);T(this,fo,[]);T(this,qr,[]);let o=1/0,l=-1/0,u=1/0,h=-1/0;const p=10**-4;for(const{x:k,y:P,width:R,height:F}of e){const N=Math.floor((k-t)/p)*p,M=Math.ceil((k+R+t)/p)*p,$=Math.floor((P-t)/p)*p,W=Math.ceil((P+F+t)/p)*p,Q=[N,$,W,!0],z=[M,$,W,!1];f(this,fo).push(Q,z),o=Math.min(o,N),l=Math.max(l,M),u=Math.min(u,$),h=Math.max(h,W)}const m=l-o+2*n,y=h-u+2*n,w=o-n,x=u-n,S=f(this,fo).at(s?-1:-2),A=[S[0],S[2]];for(const k of f(this,fo)){const[P,R,F]=k;k[0]=(P-w)/m,k[1]=(R-x)/y,k[2]=(F-x)/y}E(this,wd,{x:w,y:x,width:m,height:y,lastPoint:A})}getOutlines(){f(this,fo).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of f(this,fo))t[3]?(e.push(...C(this,Pn,w0).call(this,t)),C(this,Pn,Z_).call(this,t)):(C(this,Pn,eA).call(this,t),e.push(...C(this,Pn,w0).call(this,t)));return C(this,Pn,J_).call(this,e)}}wd=new WeakMap,fo=new WeakMap,qr=new WeakMap,Pn=new WeakSet,J_=function(e){const t=[],n=new Set;for(const l of e){const[u,h,d]=l;t.push([u,h,l],[u,d,l])}t.sort((l,u)=>l[1]-u[1]||l[0]-u[0]);for(let l=0,u=t.length;l<u;l+=2){const h=t[l][2],d=t[l+1][2];h.push(d),d.push(h),n.add(h),n.add(d)}const s=[];let o;for(;n.size>0;){const l=n.values().next().value;let[u,h,d,p,m]=l;n.delete(l);let y=u,w=h;for(o=[u,d],s.push(o);;){let x;if(n.has(p))x=p;else if(n.has(m))x=m;else break;n.delete(x),[u,h,d,p,m]=x,y!==u&&(o.push(y,w,u,w===h?h:d),y=u),w=w===h?d:h}o.push(y,w)}return new BI(s,f(this,wd))},Fp=function(e){const t=f(this,qr);let n=0,s=t.length-1;for(;n<=s;){const o=n+s>>1,l=t[o][0];if(l===e)return o;l<e?n=o+1:s=o-1}return s+1},Z_=function([,e,t]){const n=C(this,Pn,Fp).call(this,e);f(this,qr).splice(n,0,[e,t])},eA=function([,e,t]){const n=C(this,Pn,Fp).call(this,e);for(let s=n;s<f(this,qr).length;s++){const[o,l]=f(this,qr)[s];if(o!==e)break;if(o===e&&l===t){f(this,qr).splice(s,1);return}}for(let s=n-1;s>=0;s--){const[o,l]=f(this,qr)[s];if(o!==e)break;if(o===e&&l===t){f(this,qr).splice(s,1);return}}},w0=function(e){const[t,n,s]=e,o=[[t,n,s]],l=C(this,Pn,Fp).call(this,s);for(let u=0;u<l;u++){const[h,d]=f(this,qr)[u];for(let p=0,m=o.length;p<m;p++){const[,y,w]=o[p];if(!(d<=y||w<=h)){if(y>=h){if(w>d)o[p][1]=d;else{if(m===1)return[];o.splice(p,1),p--,m--}continue}o[p][2]=h,w>d&&o.push([t,d,w])}}}return o};class tA{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof x0}}var bd,Eu;class BI extends tA{constructor(t,n){super();T(this,bd);T(this,Eu);E(this,Eu,t),E(this,bd,n)}toSVGPath(){const t=[];for(const n of f(this,Eu)){let[s,o]=n;t.push(`M${s} ${o}`);for(let l=2;l<n.length;l+=2){const u=n[l],h=n[l+1];u===s?(t.push(`V${h}`),o=h):h===o&&(t.push(`H${u}`),s=u)}t.push("Z")}return t.join(" ")}serialize([t,n,s,o],l){const u=[],h=s-t,d=o-n;for(const p of f(this,Eu)){const m=new Array(p.length);for(let y=0;y<p.length;y+=2)m[y]=t+p[y]*h,m[y+1]=o-p[y+1]*d;u.push(m)}return u}get box(){return f(this,bd)}}bd=new WeakMap,Eu=new WeakMap;var bi,us,Cu,Tu,xi,We,Ra,La,xd,Sd,Pu,Ru,po,kd,Ag,Eg,_d,b0;const Wi=class Wi{constructor({x:e,y:t},n,s,o,l,u=0){T(this,_d);T(this,bi);T(this,us,[]);T(this,Cu);T(this,Tu);T(this,xi,[]);T(this,We,new Float64Array(18));T(this,Ra);T(this,La);T(this,xd);T(this,Sd);T(this,Pu);T(this,Ru);T(this,po,[]);E(this,bi,n),E(this,Ru,o*s),E(this,Tu,l),f(this,We).set([NaN,NaN,NaN,NaN,e,t],6),E(this,Cu,u),E(this,Sd,f(Wi,kd)*s),E(this,xd,f(Wi,Eg)*s),E(this,Pu,s),f(this,po).push(e,t)}get free(){return!0}isEmpty(){return isNaN(f(this,We)[8])}add({x:e,y:t}){var Q;E(this,Ra,e),E(this,La,t);const[n,s,o,l]=f(this,bi);let[u,h,d,p]=f(this,We).subarray(8,12);const m=e-d,y=t-p,w=Math.hypot(m,y);if(w<f(this,xd))return!1;const x=w-f(this,Sd),S=x/w,A=S*m,k=S*y;let P=u,R=h;u=d,h=p,d+=A,p+=k,(Q=f(this,po))==null||Q.push(e,t);const F=-k/x,N=A/x,M=F*f(this,Ru),$=N*f(this,Ru);return f(this,We).set(f(this,We).subarray(2,8),0),f(this,We).set([d+M,p+$],4),f(this,We).set(f(this,We).subarray(14,18),12),f(this,We).set([d-M,p-$],16),isNaN(f(this,We)[6])?(f(this,xi).length===0&&(f(this,We).set([u+M,h+$],2),f(this,xi).push(NaN,NaN,NaN,NaN,(u+M-n)/o,(h+$-s)/l),f(this,We).set([u-M,h-$],14),f(this,us).push(NaN,NaN,NaN,NaN,(u-M-n)/o,(h-$-s)/l)),f(this,We).set([P,R,u,h,d,p],6),!this.isEmpty()):(f(this,We).set([P,R,u,h,d,p],6),Math.abs(Math.atan2(R-h,P-u)-Math.atan2(k,A))<Math.PI/2?([u,h,d,p]=f(this,We).subarray(2,6),f(this,xi).push(NaN,NaN,NaN,NaN,((u+d)/2-n)/o,((h+p)/2-s)/l),[u,h,P,R]=f(this,We).subarray(14,18),f(this,us).push(NaN,NaN,NaN,NaN,((P+u)/2-n)/o,((R+h)/2-s)/l),!0):([P,R,u,h,d,p]=f(this,We).subarray(0,6),f(this,xi).push(((P+5*u)/6-n)/o,((R+5*h)/6-s)/l,((5*u+d)/6-n)/o,((5*h+p)/6-s)/l,((u+d)/2-n)/o,((h+p)/2-s)/l),[d,p,u,h,P,R]=f(this,We).subarray(12,18),f(this,us).push(((P+5*u)/6-n)/o,((R+5*h)/6-s)/l,((5*u+d)/6-n)/o,((5*h+p)/6-s)/l,((u+d)/2-n)/o,((h+p)/2-s)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=f(this,xi),t=f(this,us),n=f(this,We).subarray(4,6),s=f(this,We).subarray(16,18),[o,l,u,h]=f(this,bi),[d,p,m,y]=C(this,_d,b0).call(this);if(isNaN(f(this,We)[6])&&!this.isEmpty())return`M${(f(this,We)[2]-o)/u} ${(f(this,We)[3]-l)/h} L${(f(this,We)[4]-o)/u} ${(f(this,We)[5]-l)/h} L${d} ${p} L${m} ${y} L${(f(this,We)[16]-o)/u} ${(f(this,We)[17]-l)/h} L${(f(this,We)[14]-o)/u} ${(f(this,We)[15]-l)/h} Z`;const w=[];w.push(`M${e[4]} ${e[5]}`);for(let x=6;x<e.length;x+=6)isNaN(e[x])?w.push(`L${e[x+4]} ${e[x+5]}`):w.push(`C${e[x]} ${e[x+1]} ${e[x+2]} ${e[x+3]} ${e[x+4]} ${e[x+5]}`);w.push(`L${(n[0]-o)/u} ${(n[1]-l)/h} L${d} ${p} L${m} ${y} L${(s[0]-o)/u} ${(s[1]-l)/h}`);for(let x=t.length-6;x>=6;x-=6)isNaN(t[x])?w.push(`L${t[x+4]} ${t[x+5]}`):w.push(`C${t[x]} ${t[x+1]} ${t[x+2]} ${t[x+3]} ${t[x+4]} ${t[x+5]}`);return w.push(`L${t[4]} ${t[5]} Z`),w.join(" ")}getOutlines(){var k;const e=f(this,xi),t=f(this,us),n=f(this,We),s=n.subarray(4,6),o=n.subarray(16,18),[l,u,h,d]=f(this,bi),p=new Float64Array((((k=f(this,po))==null?void 0:k.length)??0)+2);for(let P=0,R=p.length-2;P<R;P+=2)p[P]=(f(this,po)[P]-l)/h,p[P+1]=(f(this,po)[P+1]-u)/d;p[p.length-2]=(f(this,Ra)-l)/h,p[p.length-1]=(f(this,La)-u)/d;const[m,y,w,x]=C(this,_d,b0).call(this);if(isNaN(n[6])&&!this.isEmpty()){const P=new Float64Array(36);return P.set([NaN,NaN,NaN,NaN,(n[2]-l)/h,(n[3]-u)/d,NaN,NaN,NaN,NaN,(n[4]-l)/h,(n[5]-u)/d,NaN,NaN,NaN,NaN,m,y,NaN,NaN,NaN,NaN,w,x,NaN,NaN,NaN,NaN,(n[16]-l)/h,(n[17]-u)/d,NaN,NaN,NaN,NaN,(n[14]-l)/h,(n[15]-u)/d],0),new x0(P,p,f(this,bi),f(this,Pu),f(this,Cu),f(this,Tu))}const S=new Float64Array(f(this,xi).length+24+f(this,us).length);let A=e.length;for(let P=0;P<A;P+=2){if(isNaN(e[P])){S[P]=S[P+1]=NaN;continue}S[P]=e[P],S[P+1]=e[P+1]}S.set([NaN,NaN,NaN,NaN,(s[0]-l)/h,(s[1]-u)/d,NaN,NaN,NaN,NaN,m,y,NaN,NaN,NaN,NaN,w,x,NaN,NaN,NaN,NaN,(o[0]-l)/h,(o[1]-u)/d],A),A+=24;for(let P=t.length-6;P>=6;P-=6)for(let R=0;R<6;R+=2){if(isNaN(t[P+R])){S[A]=S[A+1]=NaN,A+=2;continue}S[A]=t[P+R],S[A+1]=t[P+R+1],A+=2}return S.set([NaN,NaN,NaN,NaN,t[4],t[5]],A),new x0(S,p,f(this,bi),f(this,Pu),f(this,Cu),f(this,Tu))}};bi=new WeakMap,us=new WeakMap,Cu=new WeakMap,Tu=new WeakMap,xi=new WeakMap,We=new WeakMap,Ra=new WeakMap,La=new WeakMap,xd=new WeakMap,Sd=new WeakMap,Pu=new WeakMap,Ru=new WeakMap,po=new WeakMap,kd=new WeakMap,Ag=new WeakMap,Eg=new WeakMap,_d=new WeakSet,b0=function(){const e=f(this,We).subarray(4,6),t=f(this,We).subarray(16,18),[n,s,o,l]=f(this,bi);return[(f(this,Ra)+(e[0]-t[0])/2-n)/o,(f(this,La)+(e[1]-t[1])/2-s)/l,(f(this,Ra)+(t[0]-e[0])/2-n)/o,(f(this,La)+(t[1]-e[1])/2-s)/l]},T(Wi,kd,8),T(Wi,Ag,2),T(Wi,Eg,f(Wi,kd)+f(Wi,Ag));let tg=Wi;var Lu,Ia,cs,Ad,or,Ed,Ct,Un,Gc,qc,nA;class x0 extends tA{constructor(t,n,s,o,l,u){super();T(this,Un);T(this,Lu);T(this,Ia,null);T(this,cs);T(this,Ad);T(this,or);T(this,Ed);T(this,Ct);E(this,Ct,t),E(this,or,n),E(this,Lu,s),E(this,Ed,o),E(this,cs,l),E(this,Ad,u),C(this,Un,nA).call(this,u);const{x:h,y:d,width:p,height:m}=f(this,Ia);for(let y=0,w=t.length;y<w;y+=2)t[y]=(t[y]-h)/p,t[y+1]=(t[y+1]-d)/m;for(let y=0,w=n.length;y<w;y+=2)n[y]=(n[y]-h)/p,n[y+1]=(n[y+1]-d)/m}toSVGPath(){const t=[`M${f(this,Ct)[4]} ${f(this,Ct)[5]}`];for(let n=6,s=f(this,Ct).length;n<s;n+=6){if(isNaN(f(this,Ct)[n])){t.push(`L${f(this,Ct)[n+4]} ${f(this,Ct)[n+5]}`);continue}t.push(`C${f(this,Ct)[n]} ${f(this,Ct)[n+1]} ${f(this,Ct)[n+2]} ${f(this,Ct)[n+3]} ${f(this,Ct)[n+4]} ${f(this,Ct)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,s,o],l){const u=s-t,h=o-n;let d,p;switch(l){case 0:d=C(this,Un,Gc).call(this,f(this,Ct),t,o,u,-h),p=C(this,Un,Gc).call(this,f(this,or),t,o,u,-h);break;case 90:d=C(this,Un,qc).call(this,f(this,Ct),t,n,u,h),p=C(this,Un,qc).call(this,f(this,or),t,n,u,h);break;case 180:d=C(this,Un,Gc).call(this,f(this,Ct),s,n,-u,h),p=C(this,Un,Gc).call(this,f(this,or),s,n,-u,h);break;case 270:d=C(this,Un,qc).call(this,f(this,Ct),s,o,-u,-h),p=C(this,Un,qc).call(this,f(this,or),s,o,-u,-h);break}return{outline:Array.from(d),points:[Array.from(p)]}}get box(){return f(this,Ia)}getNewOutline(t,n){const{x:s,y:o,width:l,height:u}=f(this,Ia),[h,d,p,m]=f(this,Lu),y=l*p,w=u*m,x=s*p+h,S=o*m+d,A=new tg({x:f(this,or)[0]*y+x,y:f(this,or)[1]*w+S},f(this,Lu),f(this,Ed),t,f(this,Ad),n??f(this,cs));for(let k=2;k<f(this,or).length;k+=2)A.add({x:f(this,or)[k]*y+x,y:f(this,or)[k+1]*w+S});return A.getOutlines()}}Lu=new WeakMap,Ia=new WeakMap,cs=new WeakMap,Ad=new WeakMap,or=new WeakMap,Ed=new WeakMap,Ct=new WeakMap,Un=new WeakSet,Gc=function(t,n,s,o,l){const u=new Float64Array(t.length);for(let h=0,d=t.length;h<d;h+=2)u[h]=n+t[h]*o,u[h+1]=s+t[h+1]*l;return u},qc=function(t,n,s,o,l){const u=new Float64Array(t.length);for(let h=0,d=t.length;h<d;h+=2)u[h]=n+t[h+1]*o,u[h+1]=s+t[h]*l;return u},nA=function(t){const n=f(this,Ct);let s=n[4],o=n[5],l=s,u=o,h=s,d=o,p=s,m=o;const y=t?Math.max:Math.min;for(let k=6,P=n.length;k<P;k+=6){if(isNaN(n[k]))l=Math.min(l,n[k+4]),u=Math.min(u,n[k+5]),h=Math.max(h,n[k+4]),d=Math.max(d,n[k+5]),m<n[k+5]?(p=n[k+4],m=n[k+5]):m===n[k+5]&&(p=y(p,n[k+4]));else{const R=Se.bezierBoundingBox(s,o,...n.slice(k,k+6));l=Math.min(l,R[0]),u=Math.min(u,R[1]),h=Math.max(h,R[2]),d=Math.max(d,R[3]),m<R[3]?(p=R[2],m=R[3]):m===R[3]&&(p=y(p,R[2]))}s=n[k+4],o=n[k+5]}const w=l-f(this,cs),x=u-f(this,cs),S=h-l+2*f(this,cs),A=d-u+2*f(this,cs);E(this,Ia,{x:w,y:x,width:S,height:A,lastPoint:[p,m]})};var Cd,Td,Xr,Ma,Iu,Nt,Pd,Mu,Rd,Ld,Kr,Du,lt,S0,k0,rA,qo,iA,Js;const Gi=class Gi{constructor({editor:e=null,uiManager:t=null}){T(this,lt);T(this,Cd,C(this,lt,rA).bind(this));T(this,Td,C(this,lt,iA).bind(this));T(this,Xr,null);T(this,Ma,null);T(this,Iu);T(this,Nt,null);T(this,Pd,!1);T(this,Mu,!1);T(this,Rd,null);T(this,Ld);T(this,Kr,null);T(this,Du);var n;e?(E(this,Mu,!1),E(this,Du,Me.HIGHLIGHT_COLOR),E(this,Rd,e)):(E(this,Mu,!0),E(this,Du,Me.HIGHLIGHT_DEFAULT_COLOR)),E(this,Kr,(e==null?void 0:e._uiManager)||t),E(this,Ld,f(this,Kr)._eventBus),E(this,Iu,(e==null?void 0:e.color)||((n=f(this,Kr))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Ye(this,"_keyboardManager",new Wd([[["Escape","mac+Escape"],Gi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Gi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Gi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Gi.prototype._moveToPrevious],[["Home","mac+Home"],Gi.prototype._moveToBeginning],[["End","mac+End"],Gi.prototype._moveToEnd]]))}renderButton(){const e=E(this,Xr,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=f(this,Kr)._signal;e.addEventListener("click",C(this,lt,qo).bind(this),{signal:t}),e.addEventListener("keydown",f(this,Cd),{signal:t});const n=E(this,Ma,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=f(this,Iu),e.append(n),e}renderMainDropdown(){const e=E(this,Nt,C(this,lt,S0).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===f(this,Xr)){C(this,lt,qo).call(this,e);return}const t=e.target.getAttribute("data-color");t&&C(this,lt,k0).call(this,t,e)}_moveToNext(e){var t,n;if(!f(this,lt,Js)){C(this,lt,qo).call(this,e);return}if(e.target===f(this,Xr)){(t=f(this,Nt).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=f(this,Nt))==null?void 0:t.firstChild)||e.target===f(this,Xr)){f(this,lt,Js)&&this._hideDropdownFromKeyboard();return}f(this,lt,Js)||C(this,lt,qo).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!f(this,lt,Js)){C(this,lt,qo).call(this,e);return}(t=f(this,Nt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!f(this,lt,Js)){C(this,lt,qo).call(this,e);return}(t=f(this,Nt).lastChild)==null||t.focus()}hideDropdown(){var e;(e=f(this,Nt))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",f(this,Td))}_hideDropdownFromKeyboard(){var e;if(!f(this,Mu)){if(!f(this,lt,Js)){(e=f(this,Rd))==null||e.unselect();return}this.hideDropdown(),f(this,Xr).focus({preventScroll:!0,focusVisible:f(this,Pd)})}}updateColor(e){if(f(this,Ma)&&(f(this,Ma).style.backgroundColor=e),!f(this,Nt))return;const t=f(this,Kr).highlightColors.values();for(const n of f(this,Nt).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=f(this,Xr))==null||e.remove(),E(this,Xr,null),E(this,Ma,null),(t=f(this,Nt))==null||t.remove(),E(this,Nt,null)}};Cd=new WeakMap,Td=new WeakMap,Xr=new WeakMap,Ma=new WeakMap,Iu=new WeakMap,Nt=new WeakMap,Pd=new WeakMap,Mu=new WeakMap,Rd=new WeakMap,Ld=new WeakMap,Kr=new WeakMap,Du=new WeakMap,lt=new WeakSet,S0=function(){const e=document.createElement("div"),t=f(this,Kr)._signal;e.addEventListener("contextmenu",$n,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,s]of f(this,Kr).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",s),o.title=n,o.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${n}`);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=s,o.setAttribute("aria-selected",s===f(this,Iu)),o.addEventListener("click",C(this,lt,k0).bind(this,s),{signal:t}),e.append(o)}return e.addEventListener("keydown",f(this,Cd),{signal:t}),e},k0=function(e,t){t.stopPropagation(),f(this,Ld).dispatch("switchannotationeditorparams",{source:this,type:f(this,Du),value:e})},rA=function(e){Gi._keyboardManager.exec(this,e)},qo=function(e){if(f(this,lt,Js)){this.hideDropdown();return}if(E(this,Pd,e.detail===0),window.addEventListener("pointerdown",f(this,Td),{signal:f(this,Kr)._signal}),f(this,Nt)){f(this,Nt).classList.remove("hidden");return}const t=E(this,Nt,C(this,lt,S0).call(this));f(this,Xr).append(t)},iA=function(e){var t;(t=f(this,Nt))!=null&&t.contains(e.target)||this.hideDropdown()},Js=function(){return f(this,Nt)&&!f(this,Nt).classList.contains("hidden")};let ng=Gi;var Fu,Id,go,Da,Ou,kr,Md,Dd,Fa,Yr,_n,ar,Cg,Nu,Oa,zt,zu,Si,Fd,Ve,_0,A0,sA,oA,aA,E0,Xc,Tr,jl,lA,Op,Kc,uA,cA,hA,dA;const Ze=class Ze extends nt{constructor(t){super({...t,name:"highlightEditor"});T(this,Ve);T(this,Fu,null);T(this,Id,0);T(this,go);T(this,Da,null);T(this,Ou,null);T(this,kr,null);T(this,Md,null);T(this,Dd,0);T(this,Fa,null);T(this,Yr,null);T(this,_n,null);T(this,ar,!1);T(this,Cg,C(this,Ve,lA).bind(this));T(this,Nu,null);T(this,Oa);T(this,zt,null);T(this,zu,"");T(this,Si);T(this,Fd,"");this.color=t.color||Ze._defaultColor,E(this,Si,t.thickness||Ze._defaultThickness),E(this,Oa,t.opacity||Ze._defaultOpacity),E(this,go,t.boxes||null),E(this,Fd,t.methodOfCreation||""),E(this,zu,t.text||""),this._isDraggable=!1,t.highlightId>-1?(E(this,ar,!0),C(this,Ve,A0).call(this,t),C(this,Ve,Xc).call(this)):(E(this,Fu,t.anchorNode),E(this,Id,t.anchorOffset),E(this,Md,t.focusNode),E(this,Dd,t.focusOffset),C(this,Ve,_0).call(this),C(this,Ve,Xc).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Ze.prototype;return Ye(this,"_keyboardManager",new Wd([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:f(this,ar)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:f(this,Si),methodOfCreation:f(this,Fd)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var s;nt.initialize(t,n),Ze._defaultColor||(Ze._defaultColor=((s=n.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case Me.HIGHLIGHT_DEFAULT_COLOR:Ze._defaultColor=n;break;case Me.HIGHLIGHT_THICKNESS:Ze._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return f(this,Nu)}updateParams(t,n){switch(t){case Me.HIGHLIGHT_COLOR:C(this,Ve,sA).call(this,n);break;case Me.HIGHLIGHT_THICKNESS:C(this,Ve,oA).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Me.HIGHLIGHT_DEFAULT_COLOR,Ze._defaultColor],[Me.HIGHLIGHT_THICKNESS,Ze._defaultThickness]]}get propertiesToUpdate(){return[[Me.HIGHLIGHT_COLOR,this.color||Ze._defaultColor],[Me.HIGHLIGHT_THICKNESS,f(this,Si)||Ze._defaultThickness],[Me.HIGHLIGHT_FREE,f(this,ar)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(E(this,Ou,new ng({editor:this})),t.addColorPicker(f(this,Ou))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(C(this,Ve,Kc).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,C(this,Ve,Kc).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){C(this,Ve,E0).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(C(this,Ve,Xc).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let n=!1;this.parent&&!t?C(this,Ve,E0).call(this):t&&(C(this,Ve,Xc).call(this,t),n=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var o,l,u;const{drawLayer:n}=this.parent;let s;f(this,ar)?(t=(t-this.rotation+360)%360,s=C(o=Ze,Tr,jl).call(o,f(this,Yr).box,t)):s=C(l=Ze,Tr,jl).call(l,this,t),n.rotate(f(this,_n),t),n.rotate(f(this,zt),t),n.updateBox(f(this,_n),s),n.updateBox(f(this,zt),C(u=Ze,Tr,jl).call(u,f(this,kr).box,t))}render(){if(this.div)return this.div;const t=super.render();f(this,zu)&&(t.setAttribute("aria-label",f(this,zu)),t.setAttribute("role","mark")),f(this,ar)?t.classList.add("free"):this.div.addEventListener("keydown",f(this,Cg),{signal:this._uiManager._signal});const n=E(this,Fa,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=f(this,Da);const[s,o]=this.parentDimensions;return this.setDims(this.width*s,this.height*o),Qp(this,f(this,Fa),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(f(this,zt),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(f(this,zt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:C(this,Ve,Op).call(this,!0);break;case 1:case 3:C(this,Ve,Op).call(this,!1);break}}select(){var t,n;super.select(),f(this,zt)&&((t=this.parent)==null||t.drawLayer.removeClass(f(this,zt),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(f(this,zt),"selected"))}unselect(){var t;super.unselect(),f(this,zt)&&((t=this.parent)==null||t.drawLayer.removeClass(f(this,zt),"selected"),f(this,ar)||C(this,Ve,Op).call(this,!1))}get _mustFixPosition(){return!f(this,ar)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(f(this,_n),t),this.parent.drawLayer.show(f(this,zt),t))}static startHighlighting(t,n,{target:s,x:o,y:l}){const{x:u,y:h,width:d,height:p}=s.getBoundingClientRect(),m=A=>{C(this,Tr,hA).call(this,t,A)},y=t._signal,w={capture:!0,passive:!1,signal:y},x=A=>{A.preventDefault(),A.stopPropagation()},S=A=>{s.removeEventListener("pointermove",m),window.removeEventListener("blur",S),window.removeEventListener("pointerup",S),window.removeEventListener("pointerdown",x,w),window.removeEventListener("contextmenu",$n),C(this,Tr,dA).call(this,t,A)};window.addEventListener("blur",S,{signal:y}),window.addEventListener("pointerup",S,{signal:y}),window.addEventListener("pointerdown",x,w),window.addEventListener("contextmenu",$n,{signal:y}),s.addEventListener("pointermove",m,{signal:y}),this._freeHighlight=new tg({x:o,y:l},[u,h,d,p],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,n,s){var S;const o=super.deserialize(t,n,s),{rect:[l,u,h,d],color:p,quadPoints:m}=t;o.color=Se.makeHexColor(...p),E(o,Oa,t.opacity);const[y,w]=o.pageDimensions;o.width=(h-l)/y,o.height=(d-u)/w;const x=E(o,go,[]);for(let A=0;A<m.length;A+=8)x.push({x:(m[4]-h)/y,y:(d-(1-m[A+5]))/w,width:(m[A+2]-m[A])/y,height:(m[A+5]-m[A+1])/w});return C(S=o,Ve,_0).call(S),o}serialize(t=!1){if(this.isEmpty()||t)return null;const n=this.getRect(0,0),s=nt._colorManager.convert(this.color);return{annotationType:Ge.HIGHLIGHT,color:s,opacity:f(this,Oa),thickness:f(this,Si),quadPoints:C(this,Ve,uA).call(this),outlines:C(this,Ve,cA).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:C(this,Ve,Kc).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};Fu=new WeakMap,Id=new WeakMap,go=new WeakMap,Da=new WeakMap,Ou=new WeakMap,kr=new WeakMap,Md=new WeakMap,Dd=new WeakMap,Fa=new WeakMap,Yr=new WeakMap,_n=new WeakMap,ar=new WeakMap,Cg=new WeakMap,Nu=new WeakMap,Oa=new WeakMap,zt=new WeakMap,zu=new WeakMap,Si=new WeakMap,Fd=new WeakMap,Ve=new WeakSet,_0=function(){const t=new v0(f(this,go),.001);E(this,Yr,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=f(this,Yr).box;const n=new v0(f(this,go),.0025,.001,this._uiManager.direction==="ltr");E(this,kr,n.getOutlines());const{lastPoint:s}=f(this,kr).box;E(this,Nu,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},A0=function({highlightOutlines:t,highlightId:n,clipPathId:s}){var m,y;if(E(this,Yr,t),E(this,kr,t.getNewOutline(f(this,Si)/2+1.5,.0025)),n>=0)E(this,_n,n),E(this,Da,s),this.parent.drawLayer.finalizeLine(n,t),E(this,zt,this.parent.drawLayer.highlightOutline(f(this,kr)));else if(this.parent){const w=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(f(this,_n),t),this.parent.drawLayer.updateBox(f(this,_n),C(m=Ze,Tr,jl).call(m,f(this,Yr).box,(w-this.rotation+360)%360)),this.parent.drawLayer.updateLine(f(this,zt),f(this,kr)),this.parent.drawLayer.updateBox(f(this,zt),C(y=Ze,Tr,jl).call(y,f(this,kr).box,w))}const{x:l,y:u,width:h,height:d}=t.box;switch(this.rotation){case 0:this.x=l,this.y=u,this.width=h,this.height=d;break;case 90:{const[w,x]=this.parentDimensions;this.x=u,this.y=1-l,this.width=h*x/w,this.height=d*w/x;break}case 180:this.x=1-l,this.y=1-u,this.width=h,this.height=d;break;case 270:{const[w,x]=this.parentDimensions;this.x=1-u,this.y=l,this.width=h*x/w,this.height=d*w/x;break}}const{lastPoint:p}=f(this,kr).box;E(this,Nu,[(p[0]-l)/h,(p[1]-u)/d])},sA=function(t){const n=o=>{var l,u;this.color=o,(l=this.parent)==null||l.drawLayer.changeColor(f(this,_n),o),(u=f(this,Ou))==null||u.updateColor(o)},s=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Me.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},oA=function(t){const n=f(this,Si),s=o=>{E(this,Si,o),C(this,Ve,aA).call(this,o)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Me.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},aA=function(t){if(!f(this,ar))return;C(this,Ve,A0).call(this,{highlightOutlines:f(this,Yr).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,s]=this.parentDimensions;this.setDims(this.width*n,this.height*s)},E0=function(){f(this,_n)===null||!this.parent||(this.parent.drawLayer.remove(f(this,_n)),E(this,_n,null),this.parent.drawLayer.remove(f(this,zt)),E(this,zt,null))},Xc=function(t=this.parent){f(this,_n)===null&&({id:Qn(this,_n)._,clipPathId:Qn(this,Da)._}=t.drawLayer.highlight(f(this,Yr),this.color,f(this,Oa)),E(this,zt,t.drawLayer.highlightOutline(f(this,kr))),f(this,Fa)&&(f(this,Fa).style.clipPath=f(this,Da)))},Tr=new WeakSet,jl=function({x:t,y:n,width:s,height:o},l){switch(l){case 90:return{x:1-n-o,y:t,width:o,height:s};case 180:return{x:1-t-s,y:1-n-o,width:s,height:o};case 270:return{x:n,y:1-t-s,width:o,height:s}}return{x:t,y:n,width:s,height:o}},lA=function(t){Ze._keyboardManager.exec(this,t)},Op=function(t){if(!f(this,Fu))return;const n=window.getSelection();t?n.setPosition(f(this,Fu),f(this,Id)):n.setPosition(f(this,Md),f(this,Dd))},Kc=function(){return f(this,ar)?this.rotation:0},uA=function(){if(f(this,ar))return null;const[t,n]=this.pageDimensions,s=f(this,go),o=new Float32Array(s.length*8);let l=0;for(const{x:u,y:h,width:d,height:p}of s){const m=u*t,y=(1-h-p)*n;o[l]=o[l+4]=m,o[l+1]=o[l+3]=y,o[l+2]=o[l+6]=m+d*t,o[l+5]=o[l+7]=y+p*n,l+=8}return o},cA=function(t){return f(this,Yr).serialize(t,C(this,Ve,Kc).call(this))},hA=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},dA=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},T(Ze,Tr),De(Ze,"_defaultColor",null),De(Ze,"_defaultOpacity",1),De(Ze,"_defaultThickness",12),De(Ze,"_l10nPromise"),De(Ze,"_type","highlight"),De(Ze,"_editorType",Ge.HIGHLIGHT),De(Ze,"_freeHighlightId",-1),De(Ze,"_freeHighlight",null),De(Ze,"_freeHighlightClipId","");let rg=Ze;var Na,za,Od,Nd,zd,ja,ki,hs,_r,Ba,Ha,ds,Ua,$a,mo,de,fA,pA,gA,mA,T0,yA,P0,vA,wA,bA,xA,SA,Xo,R0,Np,zp,Bl,L0,jp,As,kA,I0,_A,AA,M0,Bp,Yc;const bt=class bt extends nt{constructor(t){super({...t,name:"inkEditor"});T(this,de);T(this,Na,0);T(this,za,0);T(this,Od,this.canvasPointermove.bind(this));T(this,Nd,this.canvasPointerleave.bind(this));T(this,zd,this.canvasPointerup.bind(this));T(this,ja,this.canvasPointerdown.bind(this));T(this,ki,null);T(this,hs,new Path2D);T(this,_r,!1);T(this,Ba,!1);T(this,Ha,!1);T(this,ds,null);T(this,Ua,0);T(this,$a,0);T(this,mo,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,n){nt.initialize(t,n)}static updateDefaultParams(t,n){switch(t){case Me.INK_THICKNESS:bt._defaultThickness=n;break;case Me.INK_COLOR:bt._defaultColor=n;break;case Me.INK_OPACITY:bt._defaultOpacity=n/100;break}}updateParams(t,n){switch(t){case Me.INK_THICKNESS:C(this,de,fA).call(this,n);break;case Me.INK_COLOR:C(this,de,pA).call(this,n);break;case Me.INK_OPACITY:C(this,de,gA).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Me.INK_THICKNESS,bt._defaultThickness],[Me.INK_COLOR,bt._defaultColor||nt._defaultLineColor],[Me.INK_OPACITY,Math.round(bt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Me.INK_THICKNESS,this.thickness||bt._defaultThickness],[Me.INK_COLOR,this.color||bt._defaultColor||nt._defaultLineColor],[Me.INK_OPACITY,Math.round(100*(this.opacity??bt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(C(this,de,Np).call(this),C(this,de,zp).call(this)),this.isAttachedToDOM||(this.parent.add(this),C(this,de,Bl).call(this)),C(this,de,Yc).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,f(this,ki)&&(clearTimeout(f(this,ki)),E(this,ki,null)),(t=f(this,ds))==null||t.disconnect(),E(this,ds,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,n]=this.parentDimensions,s=this.width*t,o=this.height*n;this.setDimensions(s,o)}enableEditMode(){f(this,_r)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",f(this,ja),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",f(this,ja)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){f(this,_r)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),E(this,_r,!0),this.div.classList.add("disabled"),C(this,de,Yc).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||f(this,_r)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),C(this,de,yA).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),C(this,de,P0).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),C(this,de,R0).call(this,t)}canvasPointerleave(t){C(this,de,R0).call(this,t)}get isResizable(){return!this.isEmpty()&&f(this,_r)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[s,o,l,u]=C(this,de,mA).call(this);if(this.setAt(s,o,0,0),this.setDims(l,u),C(this,de,Np).call(this),this.width){const[h,d]=this.parentDimensions;this.setAspectRatio(this.width*h,this.height*d),this.setAt(t*h,n*d,this.width*h,this.height*d),E(this,Ha,!0),C(this,de,Bl).call(this),this.setDims(this.width*h,this.height*d),C(this,de,Xo).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return C(this,de,zp).call(this),this.div}setDimensions(t,n){const s=Math.round(t),o=Math.round(n);if(f(this,Ua)===s&&f(this,$a)===o)return;E(this,Ua,s),E(this,$a,o),this.canvas.style.visibility="hidden";const[l,u]=this.parentDimensions;this.width=t/l,this.height=n/u,this.fixAndSetPosition(),f(this,_r)&&C(this,de,L0).call(this,t,n),C(this,de,Bl).call(this),C(this,de,Xo).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,n,s){var A,k,P;if(t instanceof V_)return null;const o=super.deserialize(t,n,s);o.thickness=t.thickness,o.color=Se.makeHexColor(...t.color),o.opacity=t.opacity;const[l,u]=o.pageDimensions,h=o.width*l,d=o.height*u,p=o.parentScale,m=t.thickness/2;E(o,_r,!0),E(o,Ua,Math.round(h)),E(o,$a,Math.round(d));const{paths:y,rect:w,rotation:x}=t;for(let{bezier:R}of y){R=C(A=bt,As,_A).call(A,R,w,x);const F=[];o.paths.push(F);let N=p*(R[0]-m),M=p*(R[1]-m);for(let W=2,Q=R.length;W<Q;W+=6){const z=p*(R[W]-m),q=p*(R[W+1]-m),ne=p*(R[W+2]-m),J=p*(R[W+3]-m),Y=p*(R[W+4]-m),oe=p*(R[W+5]-m);F.push([[N,M],[z,q],[ne,J],[Y,oe]]),N=Y,M=oe}const $=C(this,As,kA).call(this,F);o.bezierPath2D.push($)}const S=C(k=o,de,M0).call(k);return E(o,za,Math.max(nt.MIN_SIZE,S[2]-S[0])),E(o,Na,Math.max(nt.MIN_SIZE,S[3]-S[1])),C(P=o,de,L0).call(P,h,d),o}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),n=nt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Ge.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:C(this,de,AA).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Na=new WeakMap,za=new WeakMap,Od=new WeakMap,Nd=new WeakMap,zd=new WeakMap,ja=new WeakMap,ki=new WeakMap,hs=new WeakMap,_r=new WeakMap,Ba=new WeakMap,Ha=new WeakMap,ds=new WeakMap,Ua=new WeakMap,$a=new WeakMap,mo=new WeakMap,de=new WeakSet,fA=function(t){const n=o=>{this.thickness=o,C(this,de,Yc).call(this)},s=this.thickness;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Me.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},pA=function(t){const n=o=>{this.color=o,C(this,de,Xo).call(this)},s=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Me.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},gA=function(t){const n=o=>{this.opacity=o,C(this,de,Xo).call(this)};t/=100;const s=this.opacity;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Me.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},mA=function(){const{parentRotation:t,parentDimensions:[n,s]}=this;switch(t){case 90:return[0,s,s,n];case 180:return[n,s,n,s];case 270:return[n,0,s,n];default:return[0,0,n,s]}},T0=function(){const{ctx:t,color:n,opacity:s,thickness:o,parentScale:l,scaleFactor:u}=this;t.lineWidth=o*l/u,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${n}${cL(s)}`},yA=function(t,n){const s=this._uiManager._signal;this.canvas.addEventListener("contextmenu",$n,{signal:s}),this.canvas.addEventListener("pointerleave",f(this,Nd),{signal:s}),this.canvas.addEventListener("pointermove",f(this,Od),{signal:s}),this.canvas.addEventListener("pointerup",f(this,zd),{signal:s}),this.canvas.removeEventListener("pointerdown",f(this,ja)),this.isEditing=!0,f(this,Ha)||(E(this,Ha,!0),C(this,de,Bl).call(this),this.thickness||(this.thickness=bt._defaultThickness),this.color||(this.color=bt._defaultColor||nt._defaultLineColor),this.opacity??(this.opacity=bt._defaultOpacity)),this.currentPath.push([t,n]),E(this,Ba,!1),C(this,de,T0).call(this),E(this,mo,()=>{C(this,de,bA).call(this),f(this,mo)&&window.requestAnimationFrame(f(this,mo))}),window.requestAnimationFrame(f(this,mo))},P0=function(t,n){const[s,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===s&&n===o)return;const l=this.currentPath;let u=f(this,hs);if(l.push([t,n]),E(this,Ba,!0),l.length<=2){u.moveTo(...l[0]),u.lineTo(t,n);return}l.length===3&&(E(this,hs,u=new Path2D),u.moveTo(...l[0])),C(this,de,xA).call(this,u,...l.at(-3),...l.at(-2),t,n)},vA=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);f(this,hs).lineTo(...t)},wA=function(t,n){E(this,mo,null),t=Math.min(Math.max(t,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),C(this,de,P0).call(this,t,n),C(this,de,vA).call(this);let s;if(this.currentPath.length!==1)s=C(this,de,SA).call(this);else{const d=[t,n];s=[[d,d.slice(),d.slice(),d]]}const o=f(this,hs),l=this.currentPath;this.currentPath=[],E(this,hs,new Path2D);const u=()=>{this.allRawPaths.push(l),this.paths.push(s),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},h=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(C(this,de,Np).call(this),C(this,de,zp).call(this)),C(this,de,Yc).call(this))};this.addCommands({cmd:u,undo:h,mustExec:!0})},bA=function(){if(!f(this,Ba))return;E(this,Ba,!1);const t=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),s=n.map(u=>u[0]),o=n.map(u=>u[1]);Math.min(...s)-t,Math.max(...s)+t,Math.min(...o)-t,Math.max(...o)+t;const{ctx:l}=this;l.save(),l.clearRect(0,0,this.canvas.width,this.canvas.height);for(const u of this.bezierPath2D)l.stroke(u);l.stroke(f(this,hs)),l.restore()},xA=function(t,n,s,o,l,u,h){const d=(n+o)/2,p=(s+l)/2,m=(o+u)/2,y=(l+h)/2;t.bezierCurveTo(d+2*(o-d)/3,p+2*(l-p)/3,m+2*(o-m)/3,y+2*(l-y)/3,m,y)},SA=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const n=[];let s,[o,l]=t[0];for(s=1;s<t.length-2;s++){const[w,x]=t[s],[S,A]=t[s+1],k=(w+S)/2,P=(x+A)/2,R=[o+2*(w-o)/3,l+2*(x-l)/3],F=[k+2*(w-k)/3,P+2*(x-P)/3];n.push([[o,l],R,F,[k,P]]),[o,l]=[k,P]}const[u,h]=t[s],[d,p]=t[s+1],m=[o+2*(u-o)/3,l+2*(h-l)/3],y=[d+2*(u-d)/3,p+2*(h-p)/3];return n.push([[o,l],m,y,[d,p]]),n},Xo=function(){if(this.isEmpty()){C(this,de,jp).call(this);return}C(this,de,T0).call(this);const{canvas:t,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),C(this,de,jp).call(this);for(const s of this.bezierPath2D)n.stroke(s)},R0=function(t){this.canvas.removeEventListener("pointerleave",f(this,Nd)),this.canvas.removeEventListener("pointermove",f(this,Od)),this.canvas.removeEventListener("pointerup",f(this,zd)),this.canvas.addEventListener("pointerdown",f(this,ja),{signal:this._uiManager._signal}),f(this,ki)&&clearTimeout(f(this,ki)),E(this,ki,setTimeout(()=>{E(this,ki,null),this.canvas.removeEventListener("contextmenu",$n)},10)),C(this,de,wA).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Np=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},zp=function(){E(this,ds,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),f(this,ds).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=f(this,ds))==null||t.disconnect(),E(this,ds,null)},{once:!0})},Bl=function(){if(!f(this,Ha))return;const[t,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*n),C(this,de,jp).call(this)},L0=function(t,n){const s=C(this,de,Bp).call(this),o=(t-s)/f(this,za),l=(n-s)/f(this,Na);this.scaleFactor=Math.min(o,l)},jp=function(){const t=C(this,de,Bp).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},As=new WeakSet,kA=function(t){const n=new Path2D;for(let s=0,o=t.length;s<o;s++){const[l,u,h,d]=t[s];s===0&&n.moveTo(...l),n.bezierCurveTo(u[0],u[1],h[0],h[1],d[0],d[1])}return n},I0=function(t,n,s){const[o,l,u,h]=n;switch(s){case 0:for(let d=0,p=t.length;d<p;d+=2)t[d]+=o,t[d+1]=h-t[d+1];break;case 90:for(let d=0,p=t.length;d<p;d+=2){const m=t[d];t[d]=t[d+1]+o,t[d+1]=m+l}break;case 180:for(let d=0,p=t.length;d<p;d+=2)t[d]=u-t[d],t[d+1]+=l;break;case 270:for(let d=0,p=t.length;d<p;d+=2){const m=t[d];t[d]=u-t[d+1],t[d+1]=h-m}break;default:throw new Error("Invalid rotation")}return t},_A=function(t,n,s){const[o,l,u,h]=n;switch(s){case 0:for(let d=0,p=t.length;d<p;d+=2)t[d]-=o,t[d+1]=h-t[d+1];break;case 90:for(let d=0,p=t.length;d<p;d+=2){const m=t[d];t[d]=t[d+1]-l,t[d+1]=m-o}break;case 180:for(let d=0,p=t.length;d<p;d+=2)t[d]=u-t[d],t[d+1]-=l;break;case 270:for(let d=0,p=t.length;d<p;d+=2){const m=t[d];t[d]=h-t[d+1],t[d+1]=u-m}break;default:throw new Error("Invalid rotation")}return t},AA=function(t,n,s,o){var p,m;const l=[],u=this.thickness/2,h=t*n+u,d=t*s+u;for(const y of this.paths){const w=[],x=[];for(let S=0,A=y.length;S<A;S++){const[k,P,R,F]=y[S];if(k[0]===F[0]&&k[1]===F[1]&&A===1){const J=t*k[0]+h,Y=t*k[1]+d;w.push(J,Y),x.push(J,Y);break}const N=t*k[0]+h,M=t*k[1]+d,$=t*P[0]+h,W=t*P[1]+d,Q=t*R[0]+h,z=t*R[1]+d,q=t*F[0]+h,ne=t*F[1]+d;S===0&&(w.push(N,M),x.push(N,M)),w.push($,W,Q,z,q,ne),x.push($,W),S===A-1&&x.push(q,ne)}l.push({bezier:C(p=bt,As,I0).call(p,w,o,this.rotation),points:C(m=bt,As,I0).call(m,x,o,this.rotation)})}return l},M0=function(){let t=1/0,n=-1/0,s=1/0,o=-1/0;for(const l of this.paths)for(const[u,h,d,p]of l){const m=Se.bezierBoundingBox(...u,...h,...d,...p);t=Math.min(t,m[0]),s=Math.min(s,m[1]),n=Math.max(n,m[2]),o=Math.max(o,m[3])}return[t,s,n,o]},Bp=function(){return f(this,_r)?Math.ceil(this.thickness*this.parentScale):0},Yc=function(t=!1){if(this.isEmpty())return;if(!f(this,_r)){C(this,de,Xo).call(this);return}const n=C(this,de,M0).call(this),s=C(this,de,Bp).call(this);E(this,za,Math.max(nt.MIN_SIZE,n[2]-n[0])),E(this,Na,Math.max(nt.MIN_SIZE,n[3]-n[1]));const o=Math.ceil(s+f(this,za)*this.scaleFactor),l=Math.ceil(s+f(this,Na)*this.scaleFactor),[u,h]=this.parentDimensions;this.width=o/u,this.height=l/h,this.setAspectRatio(o,l);const d=this.translationX,p=this.translationY;this.translationX=-n[0],this.translationY=-n[1],C(this,de,Bl).call(this),C(this,de,Xo).call(this),E(this,Ua,o),E(this,$a,l),this.setDims(o,l);const m=t?s/this.scaleFactor/2:0;this.translate(d-this.translationX-m,p-this.translationY-m)},T(bt,As),De(bt,"_defaultColor",null),De(bt,"_defaultOpacity",1),De(bt,"_defaultThickness",1),De(bt,"_type","ink"),De(bt,"_editorType",Ge.INK);let C0=bt;var rn,sn,yo,fs,vo,ju,_i,ps,Ai,Qr,jd,Je,Qc,Jc,Hp,F0,EA,CA,O0,Up,TA;const rh=class rh extends nt{constructor(t){super({...t,name:"stampEditor"});T(this,Je);T(this,rn,null);T(this,sn,null);T(this,yo,null);T(this,fs,null);T(this,vo,null);T(this,ju,"");T(this,_i,null);T(this,ps,null);T(this,Ai,null);T(this,Qr,!1);T(this,jd,!1);E(this,fs,t.bitmapUrl),E(this,vo,t.bitmapFile)}static initialize(t,n){nt.initialize(t,n)}static get supportedTypes(){return Ye(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Ye(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(Ge.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,n;f(this,sn)&&(E(this,rn,null),this._uiManager.imageManager.deleteId(f(this,sn)),(t=f(this,_i))==null||t.remove(),E(this,_i,null),(n=f(this,ps))==null||n.disconnect(),E(this,ps,null),f(this,Ai)&&(clearTimeout(f(this,Ai)),E(this,Ai,null))),super.remove()}rebuild(){if(!this.parent){f(this,sn)&&C(this,Je,Hp).call(this);return}super.rebuild(),this.div!==null&&(f(this,sn)&&f(this,_i)===null&&C(this,Je,Hp).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(f(this,yo)||f(this,rn)||f(this,fs)||f(this,vo)||f(this,sn))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),f(this,rn)?C(this,Je,F0).call(this):C(this,Je,Hp).call(this),this.width){const[s,o]=this.parentDimensions;this.setAt(t*s,n*o,this.width*s,this.height*o)}return this.div}getImageForAltText(){return f(this,_i)}static deserialize(t,n,s){if(t instanceof W_)return null;const o=super.deserialize(t,n,s),{rect:l,bitmapUrl:u,bitmapId:h,isSvg:d,accessibilityData:p}=t;h&&s.imageManager.isValidId(h)?E(o,sn,h):E(o,fs,u),E(o,Qr,d);const[m,y]=o.pageDimensions;return o.width=(l[2]-l[0])/m,o.height=(l[3]-l[1])/y,p&&(o.altTextData=p),o}serialize(t=!1,n=null){if(this.isEmpty())return null;const s={annotationType:Ge.STAMP,bitmapId:f(this,sn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:f(this,Qr),structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=C(this,Je,Up).call(this,!0),s.accessibilityData=this.altTextData,s;const{decorative:o,altText:l}=this.altTextData;if(!o&&l&&(s.accessibilityData={type:"Figure",alt:l}),n===null)return s;n.stamps||(n.stamps=new Map);const u=f(this,Qr)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!n.stamps.has(f(this,sn)))n.stamps.set(f(this,sn),{area:u,serialized:s}),s.bitmap=C(this,Je,Up).call(this,!1);else if(f(this,Qr)){const h=n.stamps.get(f(this,sn));u>h.area&&(h.area=u,h.serialized.bitmap.close(),h.serialized.bitmap=C(this,Je,Up).call(this,!1))}return s}};rn=new WeakMap,sn=new WeakMap,yo=new WeakMap,fs=new WeakMap,vo=new WeakMap,ju=new WeakMap,_i=new WeakMap,ps=new WeakMap,Ai=new WeakMap,Qr=new WeakMap,jd=new WeakMap,Je=new WeakSet,Qc=function(t,n=!1){if(!t){this.remove();return}E(this,rn,t.bitmap),n||(E(this,sn,t.id),E(this,Qr,t.isSvg)),t.file&&E(this,ju,t.file.name),C(this,Je,F0).call(this)},Jc=function(){E(this,yo,null),this._uiManager.enableWaiting(!1),f(this,_i)&&this.div.focus()},Hp=function(){if(f(this,sn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(f(this,sn)).then(s=>C(this,Je,Qc).call(this,s,!0)).finally(()=>C(this,Je,Jc).call(this));return}if(f(this,fs)){const s=f(this,fs);E(this,fs,null),this._uiManager.enableWaiting(!0),E(this,yo,this._uiManager.imageManager.getFromUrl(s).then(o=>C(this,Je,Qc).call(this,o)).finally(()=>C(this,Je,Jc).call(this)));return}if(f(this,vo)){const s=f(this,vo);E(this,vo,null),this._uiManager.enableWaiting(!0),E(this,yo,this._uiManager.imageManager.getFromFile(s).then(o=>C(this,Je,Qc).call(this,o)).finally(()=>C(this,Je,Jc).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=rh.supportedTypesStr;const n=this._uiManager._signal;E(this,yo,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(t.files[0]);C(this,Je,Qc).call(this,o)}s()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:n})}).finally(()=>C(this,Je,Jc).call(this))),t.click()},F0=function(){const{div:t}=this;let{width:n,height:s}=f(this,rn);const[o,l]=this.pageDimensions,u=.75;if(this.width)n=this.width*o,s=this.height*l;else if(n>u*o||s>u*l){const m=Math.min(u*o/n,u*l/s);n*=m,s*=m}const[h,d]=this.parentDimensions;this.setDims(n*h/o,s*d/l),this._uiManager.enableWaiting(!1);const p=E(this,_i,document.createElement("canvas"));t.append(p),t.hidden=!1,C(this,Je,O0).call(this,n,s),C(this,Je,TA).call(this),f(this,jd)||(this.parent.addUndoableEditor(this),E(this,jd,!0)),this._reportTelemetry({action:"inserted_image"}),f(this,ju)&&p.setAttribute("aria-label",f(this,ju))},EA=function(t,n){var u;const[s,o]=this.parentDimensions;this.width=t/s,this.height=n/o,this.setDims(t,n),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,f(this,Ai)!==null&&clearTimeout(f(this,Ai)),E(this,Ai,setTimeout(()=>{E(this,Ai,null),C(this,Je,O0).call(this,t,n)},200))},CA=function(t,n){const{width:s,height:o}=f(this,rn);let l=s,u=o,h=f(this,rn);for(;l>2*t||u>2*n;){const d=l,p=u;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),u>2*n&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));const m=new OffscreenCanvas(l,u);m.getContext("2d").drawImage(h,0,0,d,p,0,0,l,u),h=m.transferToImageBitmap()}return h},O0=function(t,n){t=Math.ceil(t),n=Math.ceil(n);const s=f(this,_i);if(!s||s.width===t&&s.height===n)return;s.width=t,s.height=n;const o=f(this,Qr)?f(this,rn):C(this,Je,CA).call(this,t,n);if(this._uiManager.hasMLManager&&!this.hasAltText()){const h=new OffscreenCanvas(t,n).getContext("2d");h.drawImage(o,0,0,o.width,o.height,0,0,t,n),this._uiManager.mlGuess({service:"image-to-text",request:{data:h.getImageData(0,0,t,n).data,width:t,height:n,channels:4}}).then(d=>{const p=(d==null?void 0:d.output)||"";this.parent&&p&&!this.hasAltText()&&(this.altTextData={altText:p,decorative:!1})})}const l=s.getContext("2d");l.filter=this._uiManager.hcmFilter,l.drawImage(o,0,0,o.width,o.height,0,0,t,n)},Up=function(t){if(t){if(f(this,Qr)){const o=this._uiManager.imageManager.getSvgUrl(f(this,sn));if(o)return o}const n=document.createElement("canvas");return{width:n.width,height:n.height}=f(this,rn),n.getContext("2d").drawImage(f(this,rn),0,0),n.toDataURL()}if(f(this,Qr)){const[n,s]=this.pageDimensions,o=Math.round(this.width*n*ko.PDF_TO_CSS_UNITS),l=Math.round(this.height*s*ko.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(o,l);return u.getContext("2d").drawImage(f(this,rn),0,0,f(this,rn).width,f(this,rn).height,0,0,o,l),u.transferToImageBitmap()}return structuredClone(f(this,rn))},TA=function(){this._uiManager._signal&&(E(this,ps,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&C(this,Je,EA).call(this,n.width,n.height)})),f(this,ps).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=f(this,ps))==null||t.disconnect(),E(this,ps,null)},{once:!0}))},De(rh,"_type","stamp"),De(rh,"_editorType",Ge.STAMP);let D0=rh;var Va,Bu,Ei,Wa,gs,ms,ys,lr,wo,Hu,Uu,An,_e,bo,an,PA,z0,j0,B0,$p;const Nr=class Nr{constructor({uiManager:e,pageIndex:t,div:n,accessibilityManager:s,annotationLayer:o,drawLayer:l,textLayer:u,viewport:h,l10n:d}){T(this,an);T(this,Va);T(this,Bu,!1);T(this,Ei,null);T(this,Wa,null);T(this,gs,null);T(this,ms,null);T(this,ys,null);T(this,lr,new Map);T(this,wo,!1);T(this,Hu,!1);T(this,Uu,!1);T(this,An,null);T(this,_e);const p=[...f(Nr,bo).values()];if(!Nr._initialized){Nr._initialized=!0;for(const m of p)m.initialize(d,e)}e.registerEditorTypes(p),E(this,_e,e),this.pageIndex=t,this.div=n,E(this,Va,s),E(this,Ei,o),this.viewport=h,E(this,An,u),this.drawLayer=l,f(this,_e).addLayer(this)}get isEmpty(){return f(this,lr).size===0}get isInvisible(){return this.isEmpty&&f(this,_e).getMode()===Ge.NONE}updateToolbar(e){f(this,_e).updateToolbar(e)}updateMode(e=f(this,_e).getMode()){switch(C(this,an,$p).call(this),e){case Ge.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ge.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Ge.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of f(Nr,bo).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=f(this,An))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(f(this,_e).getMode()!==Ge.INK)return;if(!e){for(const n of f(this,lr).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){f(this,_e).setEditingState(e)}addCommands(e){f(this,_e).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=f(this,Ei))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of f(this,lr).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(f(this,_e).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!f(this,Ei))return;const t=f(this,Ei).getEditableAnnotations();for(const n of t){if(n.hide(),f(this,_e).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const s=this.deserialize(n);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var s;E(this,Uu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const o of f(this,lr).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else t.set(o.annotationElementId,o);(s=this.getEditableAnnotation(o.annotationElementId))==null||s.show(),o.remove()}if(f(this,Ei)){const o=f(this,Ei).getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(f(this,_e).isDeletedAnnotationElement(u))continue;let h=t.get(u);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=e.get(u),h&&(f(this,_e).addChangedExistingAnnotation(h),h.renderAnnotationElement(l),h.show(!1)),l.show()}}C(this,an,$p).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const o of f(Nr,bo).values())n.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),E(this,Uu,!1)}getEditableAnnotation(e){var t;return((t=f(this,Ei))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){f(this,_e).getActive()!==e&&f(this,_e).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=f(this,An))!=null&&e.div&&!f(this,ms)&&(E(this,ms,C(this,an,PA).bind(this)),f(this,An).div.addEventListener("pointerdown",f(this,ms),{signal:f(this,_e)._signal}),f(this,An).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=f(this,An))!=null&&e.div&&f(this,ms)&&(f(this,An).div.removeEventListener("pointerdown",f(this,ms)),E(this,ms,null),f(this,An).div.classList.remove("highlighting"))}enableClick(){if(f(this,gs))return;const e=f(this,_e)._signal;E(this,gs,this.pointerdown.bind(this)),E(this,Wa,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",f(this,gs),{signal:e}),this.div.addEventListener("pointerup",f(this,Wa),{signal:e})}disableClick(){f(this,gs)&&(this.div.removeEventListener("pointerdown",f(this,gs)),this.div.removeEventListener("pointerup",f(this,Wa)),E(this,gs,null),E(this,Wa,null))}attach(e){f(this,lr).set(e.id,e);const{annotationElementId:t}=e;t&&f(this,_e).isDeletedAnnotationElement(t)&&f(this,_e).removeDeletedAnnotationElement(e)}detach(e){var t;f(this,lr).delete(e.id),(t=f(this,Va))==null||t.removePointerInTextLayer(e.contentDiv),!f(this,Uu)&&e.annotationElementId&&f(this,_e).addDeletedAnnotationElement(e)}remove(e){this.detach(e),f(this,_e).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,f(this,Hu)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(f(this,_e).addDeletedAnnotationElement(e.annotationElementId),nt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),f(this,_e).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),f(this,_e).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!f(this,ys)&&(e._focusEventsAllowed=!1,E(this,ys,setTimeout(()=>{E(this,ys,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:f(this,_e)._signal}),t.focus())},0))),e._structTreeParentId=(n=f(this,Va))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return f(this,_e).getId()}get _signal(){return f(this,_e)._signal}canCreateNewEmptyEditor(){var e;return(e=f(this,an,z0))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){f(this,_e).updateToolbar(e),f(this,_e).updateMode(e);const{offsetX:n,offsetY:s}=C(this,an,B0).call(this),o=this.getNextId(),l=C(this,an,j0).call(this,{parent:this,id:o,x:n,y:s,uiManager:f(this,_e),isCentered:!0,...t});l&&this.add(l)}deserialize(e){var t;return((t=f(Nr,bo).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,f(this,_e)))||null}createAndAddNewEditor(e,t,n={}){const s=this.getNextId(),o=C(this,an,j0).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:f(this,_e),isCentered:t,...n});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(C(this,an,B0).call(this),!0)}setSelected(e){f(this,_e).setSelected(e)}toggleSelected(e){f(this,_e).toggleSelected(e)}isSelected(e){return f(this,_e).isSelected(e)}unselect(e){f(this,_e).unselect(e)}pointerup(e){const{isMac:t}=Hn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&f(this,wo)){if(E(this,wo,!1),!f(this,Bu)){E(this,Bu,!0);return}if(f(this,_e).getMode()===Ge.STAMP){f(this,_e).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(f(this,_e).getMode()===Ge.HIGHLIGHT&&this.enableTextSelection(),f(this,wo)){E(this,wo,!1);return}const{isMac:t}=Hn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;E(this,wo,!0);const n=f(this,_e).getActive();E(this,Bu,!n||n.isEmpty())}findNewParent(e,t,n){const s=f(this,_e).findParent(t,n);return s===null||s===this?!1:(s.changeParent(e),!0)}destroy(){var e,t;((e=f(this,_e).getActive())==null?void 0:e.parent)===this&&(f(this,_e).commitOrRemove(),f(this,_e).setActiveEditor(null)),f(this,ys)&&(clearTimeout(f(this,ys)),E(this,ys,null));for(const n of f(this,lr).values())(t=f(this,Va))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,f(this,lr).clear(),f(this,_e).removeLayer(this)}render({viewport:e}){this.viewport=e,Xa(this.div,e);for(const t of f(this,_e).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){f(this,_e).commitOrRemove(),C(this,an,$p).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Xa(this.div,{rotation:n}),t!==n)for(const s of f(this,lr).values())s.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return f(this,_e).viewParameters.realScale}};Va=new WeakMap,Bu=new WeakMap,Ei=new WeakMap,Wa=new WeakMap,gs=new WeakMap,ms=new WeakMap,ys=new WeakMap,lr=new WeakMap,wo=new WeakMap,Hu=new WeakMap,Uu=new WeakMap,An=new WeakMap,_e=new WeakMap,bo=new WeakMap,an=new WeakSet,PA=function(e){if(f(this,_e).unselectAll(),e.target===f(this,An).div){const{isMac:t}=Hn.platform;if(e.button!==0||e.ctrlKey&&t)return;f(this,_e).showAllEditors("highlight",!0,!0),f(this,An).div.classList.add("free"),rg.startHighlighting(this,f(this,_e).direction==="ltr",e),f(this,An).div.addEventListener("pointerup",()=>{f(this,An).div.classList.remove("free")},{once:!0,signal:f(this,_e)._signal}),e.preventDefault()}},z0=function(){return f(Nr,bo).get(f(this,_e).getMode())},j0=function(e){const t=f(this,an,z0);return t?new t.prototype.constructor(e):null},B0=function(){const{x:e,y:t,width:n,height:s}=this.div.getBoundingClientRect(),o=Math.max(0,e),l=Math.max(0,t),u=Math.min(window.innerWidth,e+n),h=Math.min(window.innerHeight,t+s),d=(o+u)/2-e,p=(l+h)/2-t,[m,y]=this.viewport.rotation%180===0?[d,p]:[p,d];return{offsetX:m,offsetY:y}},$p=function(){E(this,Hu,!0);for(const e of f(this,lr).values())e.isEmpty()&&e.remove();E(this,Hu,!1)},De(Nr,"_initialized",!1),T(Nr,bo,new Map([m0,C0,D0,rg].map(e=>[e._editorType,e])));let N0=Nr;var Ci,Bd,jt,xo,Hd,U0,el,$0,RA;const Jt=class Jt{constructor({pageIndex:e}){T(this,el);T(this,Ci,null);T(this,Bd,0);T(this,jt,new Map);T(this,xo,new Map);this.pageIndex=e}setParent(e){if(!f(this,Ci)){E(this,Ci,e);return}if(f(this,Ci)!==e){if(f(this,jt).size>0)for(const t of f(this,jt).values())t.remove(),e.append(t);E(this,Ci,e)}}static get _svgFactory(){return Ye(this,"_svgFactory",new fw)}highlight(e,t,n,s=!1){const o=Qn(this,Bd)._++,l=C(this,el,$0).call(this,e.box);l.classList.add("highlight"),e.free&&l.classList.add("free");const u=Jt._svgFactory.createElement("defs");l.append(u);const h=Jt._svgFactory.createElement("path");u.append(h);const d=`path_p${this.pageIndex}_${o}`;h.setAttribute("id",d),h.setAttribute("d",e.toSVGPath()),s&&f(this,xo).set(o,h);const p=C(this,el,RA).call(this,u,d),m=Jt._svgFactory.createElement("use");return l.append(m),l.setAttribute("fill",t),l.setAttribute("fill-opacity",n),m.setAttribute("href",`#${d}`),f(this,jt).set(o,l),{id:o,clipPathId:`url(#${p})`}}highlightOutline(e){const t=Qn(this,Bd)._++,n=C(this,el,$0).call(this,e.box);n.classList.add("highlightOutline");const s=Jt._svgFactory.createElement("defs");n.append(s);const o=Jt._svgFactory.createElement("path");s.append(o);const l=`path_p${this.pageIndex}_${t}`;o.setAttribute("id",l),o.setAttribute("d",e.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let u;if(e.free){n.classList.add("free");const p=Jt._svgFactory.createElement("mask");s.append(p),u=`mask_p${this.pageIndex}_${t}`,p.setAttribute("id",u),p.setAttribute("maskUnits","objectBoundingBox");const m=Jt._svgFactory.createElement("rect");p.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const y=Jt._svgFactory.createElement("use");p.append(y),y.setAttribute("href",`#${l}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const h=Jt._svgFactory.createElement("use");n.append(h),h.setAttribute("href",`#${l}`),u&&h.setAttribute("mask",`url(#${u})`);const d=h.cloneNode();return n.append(d),h.classList.add("mainOutline"),d.classList.add("secondaryOutline"),f(this,jt).set(t,n),t}finalizeLine(e,t){const n=f(this,xo).get(e);f(this,xo).delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){f(this,jt).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),f(this,xo).delete(e)}updatePath(e,t){f(this,xo).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var n;C(n=Jt,Hd,U0).call(n,f(this,jt).get(e),t)}show(e,t){f(this,jt).get(e).classList.toggle("hidden",!t)}rotate(e,t){f(this,jt).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){f(this,jt).get(e).setAttribute("fill",t)}changeOpacity(e,t){f(this,jt).get(e).setAttribute("fill-opacity",t)}addClass(e,t){f(this,jt).get(e).classList.add(t)}removeClass(e,t){f(this,jt).get(e).classList.remove(t)}remove(e){f(this,Ci)!==null&&(f(this,jt).get(e).remove(),f(this,jt).delete(e))}destroy(){E(this,Ci,null);for(const e of f(this,jt).values())e.remove();f(this,jt).clear()}};Ci=new WeakMap,Bd=new WeakMap,jt=new WeakMap,xo=new WeakMap,Hd=new WeakSet,U0=function(e,{x:t=0,y:n=0,width:s=1,height:o=1}={}){const{style:l}=e;l.top=`${100*n}%`,l.left=`${100*t}%`,l.width=`${100*s}%`,l.height=`${100*o}%`},el=new WeakSet,$0=function(e){var n;const t=Jt._svgFactory.create(1,1,!0);return f(this,Ci).append(t),t.setAttribute("aria-hidden",!0),C(n=Jt,Hd,U0).call(n,t,e),t},RA=function(e,t){const n=Jt._svgFactory.createElement("clipPath");e.append(n);const s=`clip_${t}`;n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const o=Jt._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),s},T(Jt,Hd);let H0=Jt;var HI=Ie.AbortException,UI=Ie.AnnotationEditorLayer,$I=Ie.AnnotationEditorParamsType,VI=Ie.AnnotationEditorType,WI=Ie.AnnotationEditorUIManager,LA=Ie.AnnotationLayer,IA=Ie.AnnotationMode,GI=Ie.CMapCompressionType,qI=Ie.ColorPicker,XI=Ie.DOMSVGFactory,KI=Ie.DrawLayer,YI=Ie.FeatureTest,xw=Ie.GlobalWorkerOptions,QI=Ie.ImageKind,JI=Ie.InvalidPDFException,ZI=Ie.MissingPDFException,eM=Ie.OPS,tM=Ie.Outliner,nM=Ie.PDFDataRangeTransport,rM=Ie.PDFDateString,iM=Ie.PDFWorker,sM=Ie.PasswordResponses,oM=Ie.PermissionFlag,aM=Ie.PixelsPerInch,lM=Ie.RenderingCancelledException,MA=Ie.TextLayer,uM=Ie.UnexpectedResponseException,cM=Ie.Util,hM=Ie.VerbosityLevel,dM=Ie.XfaLayer,fM=Ie.build,pM=Ie.createValidAbsoluteUrl,gM=Ie.fetchData,DA=Ie.getDocument,mM=Ie.getFilenameFromUrl,yM=Ie.getPdfFilenameFromUrl,vM=Ie.getXfaPageViewport,wM=Ie.isDataScheme,bM=Ie.isPdfFile,xM=Ie.noContextMenu,SM=Ie.normalizeUnicode,kM=Ie.renderTextLayer,_M=Ie.setLayerDimensions,AM=Ie.shadow,EM=Ie.updateTextLayer,CM=Ie.version;const TM=Object.freeze(Object.defineProperty({__proto__:null,AbortException:HI,AnnotationEditorLayer:UI,AnnotationEditorParamsType:$I,AnnotationEditorType:VI,AnnotationEditorUIManager:WI,AnnotationLayer:LA,AnnotationMode:IA,CMapCompressionType:GI,ColorPicker:qI,DOMSVGFactory:XI,DrawLayer:KI,FeatureTest:YI,GlobalWorkerOptions:xw,ImageKind:QI,InvalidPDFException:JI,MissingPDFException:ZI,OPS:eM,Outliner:tM,PDFDataRangeTransport:nM,PDFDateString:rM,PDFWorker:iM,PasswordResponses:sM,PermissionFlag:oM,PixelsPerInch:aM,RenderingCancelledException:lM,TextLayer:MA,UnexpectedResponseException:uM,Util:cM,VerbosityLevel:hM,XfaLayer:dM,build:fM,createValidAbsoluteUrl:pM,fetchData:gM,getDocument:DA,getFilenameFromUrl:mM,getPdfFilenameFromUrl:yM,getXfaPageViewport:vM,isDataScheme:wM,isPdfFile:bM,noContextMenu:xM,normalizeUnicode:SM,renderTextLayer:kM,setLayerDimensions:_M,shadow:AM,updateTextLayer:EM,version:CM},Symbol.toStringTag,{value:"Module"}));var Wt=function(r,e,t){if(t||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},PM=["onCopy","onCut","onPaste"],RM=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],LM=["onFocus","onBlur"],IM=["onInput","onInvalid","onReset","onSubmit"],MM=["onLoad","onError"],DM=["onKeyDown","onKeyPress","onKeyUp"],FM=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],OM=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],NM=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],zM=["onSelect"],jM=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],BM=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],HM=["onScroll"],UM=["onWheel"],$M=["onAnimationStart","onAnimationEnd","onAnimationIteration"],VM=["onTransitionEnd"],WM=["onToggle"],GM=["onChange"],qM=Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt([],PM,!0),RM,!0),LM,!0),IM,!0),MM,!0),DM,!0),FM,!0),OM,!0),NM,!0),zM,!0),jM,!0),BM,!0),HM,!0),UM,!0),$M,!0),VM,!0),GM,!0),WM,!0);function FA(r,e){var t={};return qM.forEach(function(n){var s=r[n];s&&(e?t[n]=function(o){return s(o,e(n))}:t[n]=s)}),t}function Xd(r){var e=!1,t=new Promise(function(n,s){r.then(function(o){return!e&&n(o)}).catch(function(o){return!e&&s(o)})});return{promise:t,cancel:function(){e=!0}}}function OA(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(e=0;e<s;e++)r[e]&&(t=OA(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function $g(){for(var r,e,t=0,n="",s=arguments.length;t<s;t++)(r=arguments[t])&&(e=OA(r))&&(n&&(n+=" "),n+=e);return n}var XM="Invariant failed";function at(r,e){if(!r)throw new Error(XM)}var rv,mS;function KM(){if(mS)return rv;mS=1;var r=function(){};return rv=r,rv}var YM=KM();const mn=iw(YM);var yS=Object.prototype.hasOwnProperty;function vS(r,e,t){for(t of r.keys())if(Wl(t,e))return t}function Wl(r,e){var t,n,s;if(r===e)return!0;if(r&&e&&(t=r.constructor)===e.constructor){if(t===Date)return r.getTime()===e.getTime();if(t===RegExp)return r.toString()===e.toString();if(t===Array){if((n=r.length)===e.length)for(;n--&&Wl(r[n],e[n]););return n===-1}if(t===Set){if(r.size!==e.size)return!1;for(n of r)if(s=n,s&&typeof s=="object"&&(s=vS(e,s),!s)||!e.has(s))return!1;return!0}if(t===Map){if(r.size!==e.size)return!1;for(n of r)if(s=n[0],s&&typeof s=="object"&&(s=vS(e,s),!s)||!Wl(n[1],e.get(s)))return!1;return!0}if(t===ArrayBuffer)r=new Uint8Array(r),e=new Uint8Array(e);else if(t===DataView){if((n=r.byteLength)===e.byteLength)for(;n--&&r.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(r)){if((n=r.byteLength)===e.byteLength)for(;n--&&r[n]===e[n];);return n===-1}if(!t||typeof r=="object"){n=0;for(t in r)if(yS.call(r,t)&&++n&&!yS.call(e,t)||!(t in e)||!Wl(r[t],e[t]))return!1;return Object.keys(e).length===n}}return r!==r&&e!==e}const NA=ee.createContext(null);function Gl({children:r,type:e}){return ie.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:r})}const QM="noopener noreferrer nofollow";class JM{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return at(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){at(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{at(this.pdfDocument),at(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{at(Array.isArray(t));const n=t[0];new Promise(s=>{at(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(o=>{s(o)}).catch(()=>{at(!1)}):typeof n=="number"?s(n):at(!1)}).then(s=>{const o=s+1;at(this.pdfViewer),at(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:s,pageNumber:o})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;at(this.pdfViewer),at(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||QM,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const wS={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Vg=typeof window<"u",zA=Vg&&window.location.protocol==="file:";function ZM(r){return typeof r<"u"}function $o(r){return ZM(r)&&r!==null}function eD(r){return typeof r=="string"}function tD(r){return r instanceof ArrayBuffer}function nD(r){return at(Vg),r instanceof Blob}function V0(r){return eD(r)&&/^data:/.test(r)}function bS(r){at(V0(r));const[e="",t=""]=r.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function rD(){return Vg&&window.devicePixelRatio||1}const jA="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function xS(){mn(!zA,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${jA}`)}function iD(){mn(!zA,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${jA}`)}function Qa(r){r!=null&&r.cancel&&r.cancel()}function W0(r,e){return Object.defineProperty(r,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(r,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(r,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(r,"originalHeight",{get(){return this.view[3]},configurable:!0}),r}function sD(r){return r.name==="RenderingCancelledException"}function oD(r){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=s=>{if(!s.target)return t(new Error("Error while reading a file."));const{error:o}=s.target;if(!o)return t(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(r)})}function aD(r,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return r}}function Vu(){return ee.useReducer(aD,{value:void 0,error:void 0})}var lD=function(r,e,t,n){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(p){try{d(n.next(p))}catch(m){l(m)}}function h(p){try{d(n.throw(p))}catch(m){l(m)}}function d(p){p.done?o(p.value):s(p.value).then(u,h)}d((n=n.apply(r,e||[])).next())})},SS=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};const{PDFDataRangeTransport:uD}=TM,cD=(r,e)=>{switch(e){case wS.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");r(t);break}case wS.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");r(t);break}}};function kS(r){return typeof r=="object"&&r!==null&&("data"in r||"range"in r||"url"in r)}const hD=ee.forwardRef(function(e,t){var{children:n,className:s,error:o="Failed to load PDF file.",externalLinkRel:l,externalLinkTarget:u,file:h,inputRef:d,imageResourcesPath:p,loading:m="Loading PDF",noData:y="No PDF file specified.",onItemClick:w,onLoadError:x,onLoadProgress:S,onLoadSuccess:A,onPassword:k=cD,onSourceError:P,onSourceSuccess:R,options:F,renderMode:N,rotate:M}=e,$=SS(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[W,Q]=Vu(),{value:z,error:q}=W,[ne,J]=Vu(),{value:Y,error:oe}=ne,pe=ee.useRef(new JM),Z=ee.useRef([]),G=ee.useRef(void 0),ce=ee.useRef(void 0);h&&h!==G.current&&kS(h)&&(mn(!Wl(h,G.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),G.current=h),F&&F!==ce.current&&(mn(!Wl(F,ce.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ce.current=F);const L=ee.useRef({scrollPageIntoView:Xe=>{const{dest:ct,pageNumber:St,pageIndex:mt=St-1}=Xe;if(w){w({dest:ct,pageIndex:mt,pageNumber:St});return}const Vn=Z.current[mt];if(Vn){Vn.scrollIntoView();return}mn(!1,`An internal link leading to page ${St} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});ee.useImperativeHandle(t,()=>({linkService:pe,pages:Z,viewer:L}),[]);function B(){R&&R()}function X(){q&&(mn(!1,q.toString()),P&&P(q))}function I(){Q({type:"RESET"})}ee.useEffect(I,[h,Q]);const we=ee.useCallback(()=>lD(this,void 0,void 0,function*(){if(!h)return null;if(typeof h=="string")return V0(h)?{data:bS(h)}:(xS(),{url:h});if(h instanceof uD)return{range:h};if(tD(h))return{data:h};if(Vg&&nD(h))return{data:yield oD(h)};if(at(typeof h=="object"),at(kS(h)),"url"in h&&typeof h.url=="string"){if(V0(h.url)){const{url:Xe}=h,ct=SS(h,["url"]),St=bS(Xe);return Object.assign({data:St},ct)}xS()}return h}),[h]);ee.useEffect(()=>{const Xe=Xd(we());return Xe.promise.then(ct=>{Q({type:"RESOLVE",value:ct})}).catch(ct=>{Q({type:"REJECT",error:ct})}),()=>{Qa(Xe)}},[we,Q]),ee.useEffect(()=>{if(!(typeof z>"u")){if(z===!1){X();return}B()}},[z]);function Ae(){Y&&(A&&A(Y),Z.current=new Array(Y.numPages),pe.current.setDocument(Y))}function ge(){oe&&(mn(!1,oe.toString()),x&&x(oe))}ee.useEffect(function(){J({type:"RESET"})},[J,z]),ee.useEffect(function(){if(!z)return;const ct=F?Object.assign(Object.assign({},z),F):z,St=DA(ct);S&&(St.onProgress=S),k&&(St.onPassword=k);const mt=St,Vn=mt.promise.then(ni=>{J({type:"RESOLVE",value:ni})}).catch(ni=>{mt.destroyed||J({type:"REJECT",error:ni})});return()=>{Vn.finally(()=>mt.destroy())}},[F,J,z]),ee.useEffect(()=>{if(!(typeof Y>"u")){if(Y===!1){ge();return}Ae()}},[Y]),ee.useEffect(function(){pe.current.setViewer(L.current),pe.current.setExternalLinkRel(l),pe.current.setExternalLinkTarget(u)},[l,u]);const ke=ee.useCallback((Xe,ct)=>{Z.current[Xe]=ct},[]),Ee=ee.useCallback(Xe=>{delete Z.current[Xe]},[]),Ne=ee.useMemo(()=>({imageResourcesPath:p,linkService:pe.current,onItemClick:w,pdf:Y,registerPage:ke,renderMode:N,rotate:M,unregisterPage:Ee}),[p,w,Y,ke,N,M,Ee]),Fe=ee.useMemo(()=>FA($,()=>Y),[$,Y]);function bn(){return ie.jsx(NA.Provider,{value:Ne,children:n})}function ti(){return h?Y==null?ie.jsx(Gl,{type:"loading",children:typeof m=="function"?m():m}):Y===!1?ie.jsx(Gl,{type:"error",children:typeof o=="function"?o():o}):bn():ie.jsx(Gl,{type:"no-data",children:typeof y=="function"?y():y})}return ie.jsx("div",Object.assign({className:$g("react-pdf__Document",s),ref:d,style:{"--scale-factor":"1"}},Fe,{children:ti()}))});function BA(){return ee.useContext(NA)}function HA(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(o){t.forEach(function(l){typeof l=="function"?l(o):l&&(l.current=o)})}}const UA=ee.createContext(null),$A={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},dD=/^H(\d+)$/;function fD(r){return r in $A}function Wg(r){return"children"in r}function VA(r){return Wg(r)?r.children.length===1&&0 in r.children&&"id"in r.children[0]:!1}function pD(r){const e={};if(Wg(r)){const{role:t}=r,n=t.match(dD);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(fD(t)){const s=$A[t];s&&(e.role=s)}}return e}function WA(r){const e={};if(Wg(r)){if(r.alt!==void 0&&(e["aria-label"]=r.alt),r.lang!==void 0&&(e.lang=r.lang),VA(r)){const[t]=r.children;if(t){const n=WA(t);return Object.assign(Object.assign({},e),n)}}}else"id"in r&&(e["aria-owns"]=r.id);return e}function gD(r){return r?Object.assign(Object.assign({},pD(r)),WA(r)):null}function GA({className:r,node:e}){const t=ee.useMemo(()=>gD(e),[e]),n=ee.useMemo(()=>!Wg(e)||VA(e)?null:e.children.map((s,o)=>ie.jsx(GA,{node:s},o)),[e]);return ie.jsx("span",Object.assign({className:r},t,{children:n}))}function Gg(){return ee.useContext(UA)}function mD(){const r=Gg();at(r);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=r,[n,s]=Vu(),{value:o,error:l}=n,{customTextRenderer:u,page:h}=r;function d(){o&&t&&t(o)}function p(){l&&(mn(!1,l.toString()),e&&e(l))}return ee.useEffect(function(){s({type:"RESET"})},[s,h]),ee.useEffect(function(){if(u||!h)return;const y=Xd(h.getStructTree()),w=y;return y.promise.then(x=>{s({type:"RESOLVE",value:x})}).catch(x=>{s({type:"REJECT",error:x})}),()=>Qa(w)},[u,h,s]),ee.useEffect(()=>{if(o!==void 0){if(o===!1){p();return}d()}},[o]),o?ie.jsx(GA,{className:"react-pdf__Page__structTree structTree",node:o}):null}const _S=IA;function yD(r){const e=Gg();at(e);const t=Object.assign(Object.assign({},e),r),{_className:n,canvasBackground:s,devicePixelRatio:o=rD(),onRenderError:l,onRenderSuccess:u,page:h,renderForms:d,renderTextLayer:p,rotate:m,scale:y}=t,{canvasRef:w}=r;at(h);const x=ee.useRef(null);function S(){h&&u&&u(W0(h,y))}function A(F){sD(F)||(mn(!1,F.toString()),l&&l(F))}const k=ee.useMemo(()=>h.getViewport({scale:y*o,rotation:m}),[o,h,m,y]),P=ee.useMemo(()=>h.getViewport({scale:y,rotation:m}),[h,m,y]);ee.useEffect(function(){if(!h)return;h.cleanup();const{current:N}=x;if(!N)return;N.width=k.width,N.height=k.height,N.style.width=`${Math.floor(P.width)}px`,N.style.height=`${Math.floor(P.height)}px`,N.style.visibility="hidden";const M={annotationMode:d?_S.ENABLE_FORMS:_S.ENABLE,canvasContext:N.getContext("2d",{alpha:!1}),viewport:k};s&&(M.background=s);const $=h.render(M),W=$;return $.promise.then(()=>{N.style.visibility="",S()}).catch(A),()=>Qa(W)},[s,h,d,k,P]);const R=ee.useCallback(()=>{const{current:F}=x;F&&(F.width=0,F.height=0)},[]);return ee.useEffect(()=>R,[R]),ie.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:HA(w,x),style:{display:"block",userSelect:"none"},children:p?ie.jsx(mD,{}):null})}function vD(r){return"str"in r}function wD(){const r=Gg();at(r);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:s,onRenderTextLayerSuccess:o,page:l,pageIndex:u,pageNumber:h,rotate:d,scale:p}=r;at(l);const[m,y]=Vu(),{value:w,error:x}=m,S=ee.useRef(null),A=ee.useRef(void 0);mn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function k(){w&&n&&n(w)}function P(){x&&(mn(!1,x.toString()),t&&t(x))}ee.useEffect(function(){y({type:"RESET"})},[l,y]),ee.useEffect(function(){if(!l)return;const Q=Xd(l.getTextContent()),z=Q;return Q.promise.then(q=>{y({type:"RESOLVE",value:q})}).catch(q=>{y({type:"REJECT",error:q})}),()=>Qa(z)},[l,y]),ee.useEffect(()=>{if(w!==void 0){if(w===!1){P();return}k()}},[w]);const R=ee.useCallback(()=>{o&&o()},[o]),F=ee.useCallback(W=>{mn(!1,W.toString()),s&&s(W)},[s]);function N(){const W=A.current;W&&W.classList.add("active")}function M(){const W=A.current;W&&W.classList.remove("active")}const $=ee.useMemo(()=>l.getViewport({scale:p,rotation:d}),[l,d,p]);return ee.useLayoutEffect(function(){if(!l||!w)return;const{current:Q}=S;if(!Q)return;Q.innerHTML="";const z=l.streamTextContent({includeMarkedContent:!0}),q={container:Q,textContentSource:z,viewport:$},ne=new MA(q),J=ne;return ne.render().then(()=>{const Y=document.createElement("div");Y.className="endOfContent",Q.append(Y),A.current=Y;const oe=Q.querySelectorAll('[role="presentation"]');if(e){let pe=0;w.items.forEach((Z,G)=>{if(!vD(Z))return;const ce=oe[pe];if(!ce)return;const L=e(Object.assign({pageIndex:u,pageNumber:h,itemIndex:G},Z));ce.innerHTML=L,pe+=Z.str&&Z.hasEOL?2:1})}R()}).catch(F),()=>Qa(J)},[e,F,R,l,u,h,w,$]),ie.jsx("div",{className:$g("react-pdf__Page__textContent","textLayer"),onMouseUp:M,onMouseDown:N,ref:S})}function bD(){const r=BA(),e=Gg();at(e);const t=Object.assign(Object.assign({},r),e),{imageResourcesPath:n,linkService:s,onGetAnnotationsError:o,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:h,page:d,pdf:p,renderForms:m,rotate:y,scale:w=1}=t;at(p),at(d),at(s);const[x,S]=Vu(),{value:A,error:k}=x,P=ee.useRef(null);mn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function R(){A&&l&&l(A)}function F(){k&&(mn(!1,k.toString()),o&&o(k))}ee.useEffect(function(){S({type:"RESET"})},[S,d]),ee.useEffect(function(){if(!d)return;const Q=Xd(d.getAnnotations()),z=Q;return Q.promise.then(q=>{S({type:"RESOLVE",value:q})}).catch(q=>{S({type:"REJECT",error:q})}),()=>{Qa(z)}},[S,d]),ee.useEffect(()=>{if(A!==void 0){if(A===!1){F();return}R()}},[A]);function N(){h&&h()}function M(W){mn(!1,`${W}`),u&&u(W)}const $=ee.useMemo(()=>d.getViewport({scale:w,rotation:y}),[d,y,w]);return ee.useEffect(function(){if(!p||!d||!s||!A)return;const{current:Q}=P;if(!Q)return;const z=$.clone({dontFlip:!0}),q={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:Q,l10n:null,page:d,viewport:z},ne={annotations:A,annotationStorage:p.annotationStorage,div:Q,imageResourcesPath:n,linkService:s,page:d,renderForms:m,viewport:z};Q.innerHTML="";try{new LA(q).render(ne),N()}catch(J){M(J)}return()=>{}},[A,n,s,d,p,m,$]),ie.jsx("div",{className:$g("react-pdf__Page__annotations","annotationLayer"),ref:P})}var xD=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};const AS=1;function SD(r){const e=BA(),t=Object.assign(Object.assign({},e),r),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:o,canvasRef:l,children:u,className:h,customRenderer:d,customTextRenderer:p,devicePixelRatio:m,error:y="Failed to load the page.",height:w,inputRef:x,loading:S="Loading page",noData:A="No page specified.",onGetAnnotationsError:k,onGetAnnotationsSuccess:P,onGetStructTreeError:R,onGetStructTreeSuccess:F,onGetTextError:N,onGetTextSuccess:M,onLoadError:$,onLoadSuccess:W,onRenderAnnotationLayerError:Q,onRenderAnnotationLayerSuccess:z,onRenderError:q,onRenderSuccess:ne,onRenderTextLayerError:J,onRenderTextLayerSuccess:Y,pageIndex:oe,pageNumber:pe,pdf:Z,registerPage:G,renderAnnotationLayer:ce=!0,renderForms:L=!1,renderMode:B="canvas",renderTextLayer:X=!0,rotate:I,scale:we=AS,unregisterPage:Ae,width:ge}=t,ke=xD(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ee,Ne]=Vu(),{value:Fe,error:bn}=Ee,ti=ee.useRef(null);at(Z);const Xe=$o(pe)?pe-1:oe??null,ct=pe??($o(oe)?oe+1:null),St=I??(Fe?Fe.rotate:null),mt=ee.useMemo(()=>{if(!Fe)return null;let le=1;const Ce=we??AS;if(ge||w){const Oe=Fe.getViewport({scale:1,rotation:St});ge?le=ge/Oe.width:w&&(le=w/Oe.height)}return Ce*le},[w,Fe,St,we,ge]);ee.useEffect(function(){return()=>{$o(Xe)&&s&&Ae&&Ae(Xe)}},[s,Z,Xe,Ae]);function Vn(){if(W){if(!Fe||!mt)return;W(W0(Fe,mt))}if(s&&G){if(!$o(Xe)||!ti.current)return;G(Xe,ti.current)}}function ni(){bn&&(mn(!1,bn.toString()),$&&$(bn))}ee.useEffect(function(){Ne({type:"RESET"})},[Ne,Z,Xe]),ee.useEffect(function(){if(!Z||!ct)return;const Ce=Xd(Z.getPage(ct)),Oe=Ce;return Ce.promise.then(He=>{Ne({type:"RESOLVE",value:He})}).catch(He=>{Ne({type:"REJECT",error:He})}),()=>Qa(Oe)},[Ne,Z,ct]),ee.useEffect(()=>{if(Fe!==void 0){if(Fe===!1){ni();return}Vn()}},[Fe,mt]);const Ts=ee.useMemo(()=>Fe&&$o(Xe)&&ct&&$o(St)&&$o(mt)?{_className:n,canvasBackground:o,customTextRenderer:p,devicePixelRatio:m,onGetAnnotationsError:k,onGetAnnotationsSuccess:P,onGetStructTreeError:R,onGetStructTreeSuccess:F,onGetTextError:N,onGetTextSuccess:M,onRenderAnnotationLayerError:Q,onRenderAnnotationLayerSuccess:z,onRenderError:q,onRenderSuccess:ne,onRenderTextLayerError:J,onRenderTextLayerSuccess:Y,page:Fe,pageIndex:Xe,pageNumber:ct,renderForms:L,renderTextLayer:X,rotate:St,scale:mt}:null,[n,o,p,m,k,P,R,F,N,M,Q,z,q,ne,J,Y,Fe,Xe,ct,L,X,St,mt]),ri=ee.useMemo(()=>FA(ke,()=>Fe&&(mt?W0(Fe,mt):void 0)),[ke,Fe,mt]),Wn=`${Xe}@${mt}/${St}`;function To(){switch(B){case"custom":return at(d),ie.jsx(d,{},`${Wn}_custom`);case"none":return null;case"canvas":default:return ie.jsx(yD,{canvasRef:l},`${Wn}_canvas`)}}function ol(){return X?ie.jsx(wD,{},`${Wn}_text`):null}function al(){return ce?ie.jsx(bD,{},`${Wn}_annotations`):null}function ll(){return ie.jsxs(UA.Provider,{value:Ts,children:[To(),ol(),al(),u]})}function K(){return ct?Z===null||Fe===void 0||Fe===null?ie.jsx(Gl,{type:"loading",children:typeof S=="function"?S():S}):Z===!1||Fe===!1?ie.jsx(Gl,{type:"error",children:typeof y=="function"?y():y}):ll():ie.jsx(Gl,{type:"no-data",children:typeof A=="function"?A():A})}return ie.jsx("div",Object.assign({className:$g(n,h),"data-page-number":ct,ref:HA(x,ti),style:{"--scale-factor":`${mt}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},ri,{children:K()}))}iD();xw.workerSrc="pdf.worker.mjs";const kD="_version_1rbmf_15",ES={"interactive-mode-footer":"_interactive-mode-footer_1rbmf_1",version:kD};function _D(r){const{WindowFooter:e}=r,t=ei();return ie.jsxs("div",{className:ES["interactive-mode-footer"],style:{fontFamily:`"${t.fontFamily}", monospace`,fontSize:t.fontSize,color:t.color,backgroundColor:t.background},children:[ie.jsx("div",{children:"Press q to quit"}),e,ie.jsxs("div",{className:ES.version,children:["version ","0.0.2"]})]})}const CS={"interactive-mode-container":"_interactive-mode-container_b8ot2_1","interactive-mode-window":"_interactive-mode-window_b8ot2_14"};function qA(r){const{children:e,footer:t}=r,n=ei();return ie.jsxs("div",{className:CS["interactive-mode-container"],style:{backgroundColor:n.background},children:[ie.jsx("div",{className:CS["interactive-mode-window"],style:{backgroundColor:n.background},children:e}),ie.jsx(_D,{WindowFooter:t})]})}const G0={"cv-viewer":"_cv-viewer_1fpeg_1","cv-viewer-footer":"_cv-viewer-footer_1fpeg_5","zoom-buttons":"_zoom-buttons_1fpeg_9"},AD="/portfolio-page/assets/zoomin_white-CjDUGVVr.png",ED="/portfolio-page/assets/zoomout_white-CgRSVE5_.png";function CD(r){const{numPages:e,pageNumber:t,setPageNumber:n,onZoom:s}=r,o=fR(1.5);return ie.jsxs("div",{className:G0["cv-viewer-footer"],children:[!!e&&e!==1&&ie.jsx("button",{onClick:()=>n(l=>Math.max(l-1,1)),disabled:t<=1,children:"Previous"}),ie.jsxs("p",{style:{margin:"0 4px"},children:["Page ",t," of ",e]}),ie.jsxs("div",{className:G0["zoom-buttons"],children:[ie.jsx("button",{onClick:()=>s("out"),children:ie.jsx("img",{src:ED,style:{width:o,height:o},alt:"Zoom out"})}),ie.jsx("button",{onClick:()=>s("in"),children:ie.jsx("img",{src:AD,style:{width:o,height:o},alt:"Zoom in"})})]}),!!e&&e!==1&&ie.jsx("button",{onClick:()=>n(l=>Math.min(l+1,e||1)),disabled:!!e&&t>=e,children:"Next"})]})}const TD={cMapUrl:"/cmaps/"};function PD(){const r=tl(),[e,t]=ee.useState(),[n,s]=ee.useState(1),[o,l]=ee.useState(1);function u({numPages:d}){t(d)}const h=ee.useCallback(d=>{d==="in"?l(p=>p+.1):d==="out"&&l(p=>p-.1)},[]);return ie.jsx(qA,{footer:ie.jsx(CD,{numPages:e,pageNumber:n,setPageNumber:s,onZoom:h}),children:ie.jsx(hD,{file:r==null?void 0:r.cvUrl,onLoadSuccess:u,options:TD,className:G0["cv-viewer"],children:ie.jsx(SD,{pageNumber:n,scale:o})})})}class RD extends $d{constructor(){super("cv","Manage CV",{show:new LD,download:new ID})}}class LD extends Es{constructor(){super("show","Show CV",void 0,void 0,PD,!0)}}class ID extends Es{constructor(){super("download","Download CV",void 0,()=>{const e=oh.getState().profile.cvUrl;if(e){const t=document.createElement("a");t.href=e,t.download="cv.pdf",t.click()}},void 0,!1)}}class MD extends Es{constructor(){super("exit","Log out the current user",void 0,()=>{oh.dispatch(NR()),oh.dispatch(yR())},void 0,!1)}}function DD(){const r=FD().split(`
`),e=ei();return ie.jsx("div",{style:{fontFamily:`"${e.fontFamily}", monospace`,fontSize:e.fontSize,whiteSpace:"pre"},children:r.map((t,n)=>ie.jsxs(ee.Fragment,{children:[t,n!==r.length-1&&ie.jsx("br",{})]},n))})}function FD(){const r=[];r.push({group:JE,depth:0});let e=`Available commands:
`;for(;r.length>0;){const{group:t,depth:n}=r.shift(),s="  ".repeat(n);for(const[o,l]of Object.entries(t.children))l instanceof Es?e+=`${s}${o}: ${l.description}
`:l instanceof $d&&(e+=`${s}${o}:
`,r.push({group:l,depth:n+1}))}return e}class OD extends Es{constructor(){super("help","Show all available commands",void 0,void 0,DD)}}function ND(r,e){if(!e)return{valid:!0,matchedParams:r};const t={};let n="";for(const s in e){const o=e[s],l=r[s];if(l!==void 0){let u;switch(o.type){case"boolean":if(l===!0||l===!1)u=l;else if(l==="true"||l==="false")u=l==="true";else{n=`Invalid value for parameter '${s}': expected a boolean ('true' or 'false'), got '${l}'`;break}break;case"number":if(typeof l!="string"){n=`Invalid value for parameter '${s}': expected a number, got '${l}'`;break}if(u=Number(l),isNaN(u)){n=`Invalid number for parameter: ${s}`;break}break;case"string":u=l;break;default:n=`Unknown type for parameter '${s}': ${o.type}`;break}t[s]=u}else if(o.required){n=`Missing required parameter: ${s}`;break}else o.defaultValue!==void 0&&(t[s]=o.defaultValue)}return n.length>0?{valid:!1,error:n}:{valid:!0,matchedParams:t}}const zD={"project-table":"_project-table_1lwhj_1"};function jD(){var t;const r=tl(),e=ei();return ie.jsxs("table",{className:zD["project-table"],style:{fontFamily:`"${e.fontFamily}", monospace`,fontSize:e.fontSize},children:[ie.jsx("thead",{children:ie.jsxs("tr",{children:[ie.jsx("th",{children:"Id"}),ie.jsx("th",{children:"Name"}),ie.jsx("th",{children:"Description"}),ie.jsx("th",{children:"Repository"})]})}),ie.jsx("tbody",{children:(t=r==null?void 0:r.projects)==null?void 0:t.map((n,s)=>ie.jsxs("tr",{children:[ie.jsx("td",{children:s+1}),ie.jsx("td",{children:n.name}),ie.jsx("td",{children:n.description}),ie.jsx("td",{children:ie.jsx("a",{href:n.repo,target:"_blank",children:n.repo})})]},s))})]})}function BD(r,e){const t={};return(r[r.length-1]===""?[...r,""]:r).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const HD=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,UD=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,$D={};function TS(r,e){return($D.jsx?UD:HD).test(r)}const VD=/[ \t\n\f\r]/g;function WD(r){return typeof r=="object"?r.type==="text"?PS(r.value):!1:PS(r)}function PS(r){return r.replace(VD,"")===""}class Kd{constructor(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}}Kd.prototype.property={};Kd.prototype.normal={};Kd.prototype.space=null;function XA(r,e){const t={},n={};let s=-1;for(;++s<r.length;)Object.assign(t,r[s].property),Object.assign(n,r[s].normal);return new Kd(t,n,e)}function q0(r){return r.toLowerCase()}class Pr{constructor(e,t){this.property=e,this.attribute=t}}Pr.prototype.space=null;Pr.prototype.boolean=!1;Pr.prototype.booleanish=!1;Pr.prototype.overloadedBoolean=!1;Pr.prototype.number=!1;Pr.prototype.commaSeparated=!1;Pr.prototype.spaceSeparated=!1;Pr.prototype.commaOrSpaceSeparated=!1;Pr.prototype.mustUseProperty=!1;Pr.prototype.defined=!1;let GD=0;const ze=sl(),Lt=sl(),KA=sl(),ae=sl(),ft=sl(),ql=sl(),Zn=sl();function sl(){return 2**++GD}const X0=Object.freeze(Object.defineProperty({__proto__:null,boolean:ze,booleanish:Lt,commaOrSpaceSeparated:Zn,commaSeparated:ql,number:ae,overloadedBoolean:KA,spaceSeparated:ft},Symbol.toStringTag,{value:"Module"})),iv=Object.keys(X0);class Sw extends Pr{constructor(e,t,n,s){let o=-1;if(super(e,t),RS(this,"space",s),typeof n=="number")for(;++o<iv.length;){const l=iv[o];RS(this,iv[o],(n&X0[l])===X0[l])}}}Sw.prototype.defined=!0;function RS(r,e,t){t&&(r[e]=t)}const qD={}.hasOwnProperty;function Gu(r){const e={},t={};let n;for(n in r.properties)if(qD.call(r.properties,n)){const s=r.properties[n],o=new Sw(n,r.transform(r.attributes||{},n),s,r.space);r.mustUseProperty&&r.mustUseProperty.includes(n)&&(o.mustUseProperty=!0),e[n]=o,t[q0(n)]=n,t[q0(o.attribute)]=n}return new Kd(e,t,r.space)}const YA=Gu({space:"xlink",transform(r,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),QA=Gu({space:"xml",transform(r,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function JA(r,e){return e in r?r[e]:e}function ZA(r,e){return JA(r,e.toLowerCase())}const eE=Gu({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:ZA,properties:{xmlns:null,xmlnsXLink:null}}),tE=Gu({transform(r,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Lt,ariaAutoComplete:null,ariaBusy:Lt,ariaChecked:Lt,ariaColCount:ae,ariaColIndex:ae,ariaColSpan:ae,ariaControls:ft,ariaCurrent:null,ariaDescribedBy:ft,ariaDetails:null,ariaDisabled:Lt,ariaDropEffect:ft,ariaErrorMessage:null,ariaExpanded:Lt,ariaFlowTo:ft,ariaGrabbed:Lt,ariaHasPopup:null,ariaHidden:Lt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ft,ariaLevel:ae,ariaLive:null,ariaModal:Lt,ariaMultiLine:Lt,ariaMultiSelectable:Lt,ariaOrientation:null,ariaOwns:ft,ariaPlaceholder:null,ariaPosInSet:ae,ariaPressed:Lt,ariaReadOnly:Lt,ariaRelevant:null,ariaRequired:Lt,ariaRoleDescription:ft,ariaRowCount:ae,ariaRowIndex:ae,ariaRowSpan:ae,ariaSelected:Lt,ariaSetSize:ae,ariaSort:null,ariaValueMax:ae,ariaValueMin:ae,ariaValueNow:ae,ariaValueText:null,role:null}}),XD=Gu({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:ZA,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ql,acceptCharset:ft,accessKey:ft,action:null,allow:null,allowFullScreen:ze,allowPaymentRequest:ze,allowUserMedia:ze,alt:null,as:null,async:ze,autoCapitalize:null,autoComplete:ft,autoFocus:ze,autoPlay:ze,blocking:ft,capture:null,charSet:null,checked:ze,cite:null,className:ft,cols:ae,colSpan:null,content:null,contentEditable:Lt,controls:ze,controlsList:ft,coords:ae|ql,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ze,defer:ze,dir:null,dirName:null,disabled:ze,download:KA,draggable:Lt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ze,formTarget:null,headers:ft,height:ae,hidden:ze,high:ae,href:null,hrefLang:null,htmlFor:ft,httpEquiv:ft,id:null,imageSizes:null,imageSrcSet:null,inert:ze,inputMode:null,integrity:null,is:null,isMap:ze,itemId:null,itemProp:ft,itemRef:ft,itemScope:ze,itemType:ft,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ze,low:ae,manifest:null,max:null,maxLength:ae,media:null,method:null,min:null,minLength:ae,multiple:ze,muted:ze,name:null,nonce:null,noModule:ze,noValidate:ze,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ze,optimum:ae,pattern:null,ping:ft,placeholder:null,playsInline:ze,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ze,referrerPolicy:null,rel:ft,required:ze,reversed:ze,rows:ae,rowSpan:ae,sandbox:ft,scope:null,scoped:ze,seamless:ze,selected:ze,shadowRootClonable:ze,shadowRootDelegatesFocus:ze,shadowRootMode:null,shape:null,size:ae,sizes:null,slot:null,span:ae,spellCheck:Lt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ae,step:null,style:null,tabIndex:ae,target:null,title:null,translate:null,type:null,typeMustMatch:ze,useMap:null,value:Lt,width:ae,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ft,axis:null,background:null,bgColor:null,border:ae,borderColor:null,bottomMargin:ae,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ze,declare:ze,event:null,face:null,frame:null,frameBorder:null,hSpace:ae,leftMargin:ae,link:null,longDesc:null,lowSrc:null,marginHeight:ae,marginWidth:ae,noResize:ze,noHref:ze,noShade:ze,noWrap:ze,object:null,profile:null,prompt:null,rev:null,rightMargin:ae,rules:null,scheme:null,scrolling:Lt,standby:null,summary:null,text:null,topMargin:ae,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ae,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ze,disableRemotePlayback:ze,prefix:null,property:null,results:ae,security:null,unselectable:null}}),KD=Gu({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:JA,properties:{about:Zn,accentHeight:ae,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ae,amplitude:ae,arabicForm:null,ascent:ae,attributeName:null,attributeType:null,azimuth:ae,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ae,by:null,calcMode:null,capHeight:ae,className:ft,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ae,diffuseConstant:ae,direction:null,display:null,dur:null,divisor:ae,dominantBaseline:null,download:ze,dx:null,dy:null,edgeMode:null,editable:null,elevation:ae,enableBackground:null,end:null,event:null,exponent:ae,externalResourcesRequired:null,fill:null,fillOpacity:ae,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ql,g2:ql,glyphName:ql,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ae,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ae,horizOriginX:ae,horizOriginY:ae,id:null,ideographic:ae,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ae,k:ae,k1:ae,k2:ae,k3:ae,k4:ae,kernelMatrix:Zn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ae,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ae,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ae,overlineThickness:ae,paintOrder:null,panose1:null,path:null,pathLength:ae,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ft,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ae,pointsAtY:ae,pointsAtZ:ae,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Zn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Zn,rev:Zn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Zn,requiredFeatures:Zn,requiredFonts:Zn,requiredFormats:Zn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ae,specularExponent:ae,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ae,strikethroughThickness:ae,string:null,stroke:null,strokeDashArray:Zn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ae,strokeOpacity:ae,strokeWidth:null,style:null,surfaceScale:ae,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Zn,tabIndex:ae,tableValues:null,target:null,targetX:ae,targetY:ae,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Zn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ae,underlineThickness:ae,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ae,values:null,vAlphabetic:ae,vMathematical:ae,vectorEffect:null,vHanging:ae,vIdeographic:ae,version:null,vertAdvY:ae,vertOriginX:ae,vertOriginY:ae,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ae,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),YD=/^data[-\w.:]+$/i,LS=/-[a-z]/g,QD=/[A-Z]/g;function JD(r,e){const t=q0(e);let n=e,s=Pr;if(t in r.normal)return r.property[r.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&YD.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(LS,eF);n="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!LS.test(o)){let l=o.replace(QD,ZD);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}s=Sw}return new s(n,e)}function ZD(r){return"-"+r.toLowerCase()}function eF(r){return r.charAt(1).toUpperCase()}const tF={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},nF=XA([QA,YA,eE,tE,XD],"html"),kw=XA([QA,YA,eE,tE,KD],"svg");function rF(r){return r.join(" ").trim()}var Ml={},sv,IS;function iF(){if(IS)return sv;IS=1;var r=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,h=`
`,d="/",p="*",m="",y="comment",w="declaration";sv=function(S,A){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];A=A||{};var k=1,P=1;function R(J){var Y=J.match(e);Y&&(k+=Y.length);var oe=J.lastIndexOf(h);P=~oe?J.length-oe:P+J.length}function F(){var J={line:k,column:P};return function(Y){return Y.position=new N(J),W(),Y}}function N(J){this.start=J,this.end={line:k,column:P},this.source=A.source}N.prototype.content=S;function M(J){var Y=new Error(A.source+":"+k+":"+P+": "+J);if(Y.reason=J,Y.filename=A.source,Y.line=k,Y.column=P,Y.source=S,!A.silent)throw Y}function $(J){var Y=J.exec(S);if(Y){var oe=Y[0];return R(oe),S=S.slice(oe.length),Y}}function W(){$(t)}function Q(J){var Y;for(J=J||[];Y=z();)Y!==!1&&J.push(Y);return J}function z(){var J=F();if(!(d!=S.charAt(0)||p!=S.charAt(1))){for(var Y=2;m!=S.charAt(Y)&&(p!=S.charAt(Y)||d!=S.charAt(Y+1));)++Y;if(Y+=2,m===S.charAt(Y-1))return M("End of comment missing");var oe=S.slice(2,Y-2);return P+=2,R(oe),S=S.slice(Y),P+=2,J({type:y,comment:oe})}}function q(){var J=F(),Y=$(n);if(Y){if(z(),!$(s))return M("property missing ':'");var oe=$(o),pe=J({type:w,property:x(Y[0].replace(r,m)),value:oe?x(oe[0].replace(r,m)):m});return $(l),pe}}function ne(){var J=[];Q(J);for(var Y;Y=q();)Y!==!1&&(J.push(Y),Q(J));return J}return W(),ne()};function x(S){return S?S.replace(u,m):m}return sv}var MS;function sF(){if(MS)return Ml;MS=1;var r=Ml&&Ml.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.default=t;var e=r(iF());function t(n,s){var o=null;if(!n||typeof n!="string")return o;var l=(0,e.default)(n),u=typeof s=="function";return l.forEach(function(h){if(h.type==="declaration"){var d=h.property,p=h.value;u?s(d,p,h):p&&(o=o||{},o[d]=p)}}),o}return Ml}var oF=sF();const DS=iw(oF),aF=DS.default||DS,nE=rE("end"),_w=rE("start");function rE(r){return e;function e(t){const n=t&&t.position&&t.position[r]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function lF(r){const e=_w(r),t=nE(r);if(e&&t)return{start:e,end:t}}function th(r){return!r||typeof r!="object"?"":"position"in r||"type"in r?FS(r.position):"start"in r||"end"in r?FS(r):"line"in r||"column"in r?K0(r):""}function K0(r){return OS(r&&r.line)+":"+OS(r&&r.column)}function FS(r){return K0(r&&r.start)+"-"+K0(r&&r.end)}function OS(r){return r&&typeof r=="number"?r:1}class wn extends Error{constructor(e,t,n){super(),typeof t=="string"&&(n=t,t=void 0);let s="",o={},l=!1;if(t&&("line"in t&&"column"in t?o={place:t}:"start"in t&&"end"in t?o={place:t}:"type"in t?o={ancestors:[t],place:t.position}:o={...t}),typeof e=="string"?s=e:!o.cause&&e&&(l=!0,s=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof n=="string"){const h=n.indexOf(":");h===-1?o.ruleId=n:(o.source=n.slice(0,h),o.ruleId=n.slice(h+1))}if(!o.place&&o.ancestors&&o.ancestors){const h=o.ancestors[o.ancestors.length-1];h&&(o.place=h.position)}const u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=u?u.line:void 0,this.name=th(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}wn.prototype.file="";wn.prototype.name="";wn.prototype.reason="";wn.prototype.message="";wn.prototype.stack="";wn.prototype.column=void 0;wn.prototype.line=void 0;wn.prototype.ancestors=void 0;wn.prototype.cause=void 0;wn.prototype.fatal=void 0;wn.prototype.place=void 0;wn.prototype.ruleId=void 0;wn.prototype.source=void 0;const Aw={}.hasOwnProperty,uF=new Map,cF=/[A-Z]/g,hF=/-([a-z])/g,dF=new Set(["table","tbody","thead","tfoot","tr"]),fF=new Set(["td","th"]),iE="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function pF(r,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let n;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=SF(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=xF(t,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:n,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?kw:nF,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=sE(s,r,void 0);return o&&typeof o!="string"?o:s.create(r,s.Fragment,{children:o||void 0},void 0)}function sE(r,e,t){if(e.type==="element")return gF(r,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return mF(r,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return vF(r,e,t);if(e.type==="mdxjsEsm")return yF(r,e);if(e.type==="root")return wF(r,e,t);if(e.type==="text")return bF(r,e)}function gF(r,e,t){const n=r.schema;let s=n;e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(s=kw,r.schema=s),r.ancestors.push(e);const o=aE(r,e.tagName,!1),l=kF(r,e);let u=Cw(r,e);return dF.has(e.tagName)&&(u=u.filter(function(h){return typeof h=="string"?!WD(h):!0})),oE(r,l,o,e),Ew(l,u),r.ancestors.pop(),r.schema=n,r.create(e,o,l,t)}function mF(r,e){if(e.data&&e.data.estree&&r.evaluater){const n=e.data.estree.body[0];return n.type,r.evaluater.evaluateExpression(n.expression)}lh(r,e.position)}function yF(r,e){if(e.data&&e.data.estree&&r.evaluater)return r.evaluater.evaluateProgram(e.data.estree);lh(r,e.position)}function vF(r,e,t){const n=r.schema;let s=n;e.name==="svg"&&n.space==="html"&&(s=kw,r.schema=s),r.ancestors.push(e);const o=e.name===null?r.Fragment:aE(r,e.name,!0),l=_F(r,e),u=Cw(r,e);return oE(r,l,o,e),Ew(l,u),r.ancestors.pop(),r.schema=n,r.create(e,o,l,t)}function wF(r,e,t){const n={};return Ew(n,Cw(r,e)),r.create(e,r.Fragment,n,t)}function bF(r,e){return e.value}function oE(r,e,t,n){typeof t!="string"&&t!==r.Fragment&&r.passNode&&(e.node=n)}function Ew(r,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(r.children=t)}}function xF(r,e,t){return n;function n(s,o,l,u){const d=Array.isArray(l.children)?t:e;return u?d(o,l,u):d(o,l)}}function SF(r,e){return t;function t(n,s,o,l){const u=Array.isArray(o.children),h=_w(n);return e(s,o,l,u,{columnNumber:h?h.column-1:void 0,fileName:r,lineNumber:h?h.line:void 0},void 0)}}function kF(r,e){const t={};let n,s;for(s in e.properties)if(s!=="children"&&Aw.call(e.properties,s)){const o=AF(r,s,e.properties[s]);if(o){const[l,u]=o;r.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&fF.has(e.tagName)?n=u:t[l]=u}}if(n){const o=t.style||(t.style={});o[r.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return t}function _F(r,e){const t={};for(const n of e.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&r.evaluater){const o=n.data.estree.body[0];o.type;const l=o.expression;l.type;const u=l.properties[0];u.type,Object.assign(t,r.evaluater.evaluateExpression(u.argument))}else lh(r,e.position);else{const s=n.name;let o;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&r.evaluater){const u=n.value.data.estree.body[0];u.type,o=r.evaluater.evaluateExpression(u.expression)}else lh(r,e.position);else o=n.value===null?!0:n.value;t[s]=o}return t}function Cw(r,e){const t=[];let n=-1;const s=r.passKeys?new Map:uF;for(;++n<e.children.length;){const o=e.children[n];let l;if(r.passKeys){const h=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(h){const d=s.get(h)||0;l=h+"-"+d,s.set(h,d+1)}}const u=sE(r,o,l);u!==void 0&&t.push(u)}return t}function AF(r,e,t){const n=JD(r.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=n.commaSeparated?BD(t):rF(t)),n.property==="style"){let s=typeof t=="object"?t:EF(r,String(t));return r.stylePropertyNameCase==="css"&&(s=CF(s)),["style",s]}return[r.elementAttributeNameCase==="react"&&n.space?tF[n.property]||n.property:n.attribute,t]}}function EF(r,e){const t={};try{aF(e,n)}catch(s){if(!r.ignoreInvalidStyle){const o=s,l=new wn("Cannot parse `style` attribute",{ancestors:r.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=r.filePath||void 0,l.url=iE+"#cannot-parse-style-attribute",l}}return t;function n(s,o){let l=s;l.slice(0,2)!=="--"&&(l.slice(0,4)==="-ms-"&&(l="ms-"+l.slice(4)),l=l.replace(hF,PF)),t[l]=o}}function aE(r,e,t){let n;if(!t)n={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let o=-1,l;for(;++o<s.length;){const u=TS(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(o&&u.type==="Literal"),optional:!1}:u}n=l}else n=TS(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(n.type==="Literal"){const s=n.value;return Aw.call(r.components,s)?r.components[s]:s}if(r.evaluater)return r.evaluater.evaluateExpression(n);lh(r)}function lh(r,e){const t=new wn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:r.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=r.filePath||void 0,t.url=iE+"#cannot-handle-mdx-estrees-without-createevaluater",t}function CF(r){const e={};let t;for(t in r)Aw.call(r,t)&&(e[TF(t)]=r[t]);return e}function TF(r){let e=r.replace(cF,RF);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function PF(r,e){return e.toUpperCase()}function RF(r){return"-"+r.toLowerCase()}const ov={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},LF={};function Tw(r,e){const t=LF,n=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,s=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return lE(r,n,s)}function lE(r,e,t){if(IF(r)){if("value"in r)return r.type==="html"&&!t?"":r.value;if(e&&"alt"in r&&r.alt)return r.alt;if("children"in r)return NS(r.children,e,t)}return Array.isArray(r)?NS(r,e,t):""}function NS(r,e,t){const n=[];let s=-1;for(;++s<r.length;)n[s]=lE(r[s],e,t);return n.join("")}function IF(r){return!!(r&&typeof r=="object")}const zS=document.createElement("i");function Pw(r){const e="&"+r+";";zS.innerHTML=e;const t=zS.textContent;return t.charCodeAt(t.length-1)===59&&r!=="semi"||t===e?!1:t}function cr(r,e,t,n){const s=r.length;let o=0,l;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,t=t>0?t:0,n.length<1e4)l=Array.from(n),l.unshift(e,t),r.splice(...l);else for(t&&r.splice(e,t);o<n.length;)l=n.slice(o,o+1e4),l.unshift(e,0),r.splice(...l),o+=1e4,e+=1e4}function Er(r,e){return r.length>0?(cr(r,r.length,0,e),r):e}const jS={}.hasOwnProperty;function uE(r){const e={};let t=-1;for(;++t<r.length;)MF(e,r[t]);return e}function MF(r,e){let t;for(t in e){const s=(jS.call(r,t)?r[t]:void 0)||(r[t]={}),o=e[t];let l;if(o)for(l in o){jS.call(s,l)||(s[l]=[]);const u=o[l];DF(s[l],Array.isArray(u)?u:u?[u]:[])}}}function DF(r,e){let t=-1;const n=[];for(;++t<e.length;)(e[t].add==="after"?r:n).push(e[t]);cr(r,0,0,n)}function cE(r,e){const t=Number.parseInt(r,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function Zr(r){return r.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Cn=Co(/[A-Za-z]/),vn=Co(/[\dA-Za-z]/),FF=Co(/[#-'*+\--9=?A-Z^-~]/);function ig(r){return r!==null&&(r<32||r===127)}const Y0=Co(/\d/),OF=Co(/[\dA-Fa-f]/),NF=Co(/[!-/:-@[-`{-~]/);function Re(r){return r!==null&&r<-2}function ut(r){return r!==null&&(r<0||r===32)}function Ue(r){return r===-2||r===-1||r===32}const qg=Co(new RegExp("\\p{P}|\\p{S}","u")),Ja=Co(/\s/);function Co(r){return e;function e(t){return t!==null&&t>-1&&r.test(String.fromCharCode(t))}}function qu(r){const e=[];let t=-1,n=0,s=0;for(;++t<r.length;){const o=r.charCodeAt(t);let l="";if(o===37&&vn(r.charCodeAt(t+1))&&vn(r.charCodeAt(t+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const u=r.charCodeAt(t+1);o<56320&&u>56319&&u<57344?(l=String.fromCharCode(o,u),s=1):l=""}else l=String.fromCharCode(o);l&&(e.push(r.slice(n,t),encodeURIComponent(l)),n=t+s+1,l=""),s&&(t+=s,s=0)}return e.join("")+r.slice(n)}function qe(r,e,t,n){const s=n?n-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(h){return Ue(h)?(r.enter(t),u(h)):e(h)}function u(h){return Ue(h)&&o++<s?(r.consume(h),u):(r.exit(t),e(h))}}const zF={tokenize:jF};function jF(r){const e=r.attempt(this.parser.constructs.contentInitial,n,s);let t;return e;function n(u){if(u===null){r.consume(u);return}return r.enter("lineEnding"),r.consume(u),r.exit("lineEnding"),qe(r,e,"linePrefix")}function s(u){return r.enter("paragraph"),o(u)}function o(u){const h=r.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=h),t=h,l(u)}function l(u){if(u===null){r.exit("chunkText"),r.exit("paragraph"),r.consume(u);return}return Re(u)?(r.consume(u),r.exit("chunkText"),o):(r.consume(u),l)}}const BF={tokenize:HF},BS={tokenize:UF};function HF(r){const e=this,t=[];let n=0,s,o,l;return u;function u(R){if(n<t.length){const F=t[n];return e.containerState=F[1],r.attempt(F[0].continuation,h,d)(R)}return d(R)}function h(R){if(n++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&P();const F=e.events.length;let N=F,M;for(;N--;)if(e.events[N][0]==="exit"&&e.events[N][1].type==="chunkFlow"){M=e.events[N][1].end;break}k(n);let $=F;for(;$<e.events.length;)e.events[$][1].end={...M},$++;return cr(e.events,N+1,0,e.events.slice(F)),e.events.length=$,d(R)}return u(R)}function d(R){if(n===t.length){if(!s)return y(R);if(s.currentConstruct&&s.currentConstruct.concrete)return x(R);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},r.check(BS,p,m)(R)}function p(R){return s&&P(),k(n),y(R)}function m(R){return e.parser.lazy[e.now().line]=n!==t.length,l=e.now().offset,x(R)}function y(R){return e.containerState={},r.attempt(BS,w,x)(R)}function w(R){return n++,t.push([e.currentConstruct,e.containerState]),y(R)}function x(R){if(R===null){s&&P(),k(0),r.consume(R);return}return s=s||e.parser.flow(e.now()),r.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),S(R)}function S(R){if(R===null){A(r.exit("chunkFlow"),!0),k(0),r.consume(R);return}return Re(R)?(r.consume(R),A(r.exit("chunkFlow")),n=0,e.interrupt=void 0,u):(r.consume(R),S)}function A(R,F){const N=e.sliceStream(R);if(F&&N.push(null),R.previous=o,o&&(o.next=R),o=R,s.defineSkip(R.start),s.write(N),e.parser.lazy[R.start.line]){let M=s.events.length;for(;M--;)if(s.events[M][1].start.offset<l&&(!s.events[M][1].end||s.events[M][1].end.offset>l))return;const $=e.events.length;let W=$,Q,z;for(;W--;)if(e.events[W][0]==="exit"&&e.events[W][1].type==="chunkFlow"){if(Q){z=e.events[W][1].end;break}Q=!0}for(k(n),M=$;M<e.events.length;)e.events[M][1].end={...z},M++;cr(e.events,W+1,0,e.events.slice($)),e.events.length=M}}function k(R){let F=t.length;for(;F-- >R;){const N=t[F];e.containerState=N[1],N[0].exit.call(e,r)}t.length=R}function P(){s.write([null]),o=void 0,s=void 0,e.containerState._closeFlow=void 0}}function UF(r,e,t){return qe(r,r.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Wu(r){if(r===null||ut(r)||Ja(r))return 1;if(qg(r))return 2}function Xg(r,e,t){const n=[];let s=-1;for(;++s<r.length;){const o=r[s].resolveAll;o&&!n.includes(o)&&(e=o(e,t),n.push(o))}return e}const Q0={name:"attention",resolveAll:$F,tokenize:VF};function $F(r,e){let t=-1,n,s,o,l,u,h,d,p;for(;++t<r.length;)if(r[t][0]==="enter"&&r[t][1].type==="attentionSequence"&&r[t][1]._close){for(n=t;n--;)if(r[n][0]==="exit"&&r[n][1].type==="attentionSequence"&&r[n][1]._open&&e.sliceSerialize(r[n][1]).charCodeAt(0)===e.sliceSerialize(r[t][1]).charCodeAt(0)){if((r[n][1]._close||r[t][1]._open)&&(r[t][1].end.offset-r[t][1].start.offset)%3&&!((r[n][1].end.offset-r[n][1].start.offset+r[t][1].end.offset-r[t][1].start.offset)%3))continue;h=r[n][1].end.offset-r[n][1].start.offset>1&&r[t][1].end.offset-r[t][1].start.offset>1?2:1;const m={...r[n][1].end},y={...r[t][1].start};HS(m,-h),HS(y,h),l={type:h>1?"strongSequence":"emphasisSequence",start:m,end:{...r[n][1].end}},u={type:h>1?"strongSequence":"emphasisSequence",start:{...r[t][1].start},end:y},o={type:h>1?"strongText":"emphasisText",start:{...r[n][1].end},end:{...r[t][1].start}},s={type:h>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},r[n][1].end={...l.start},r[t][1].start={...u.end},d=[],r[n][1].end.offset-r[n][1].start.offset&&(d=Er(d,[["enter",r[n][1],e],["exit",r[n][1],e]])),d=Er(d,[["enter",s,e],["enter",l,e],["exit",l,e],["enter",o,e]]),d=Er(d,Xg(e.parser.constructs.insideSpan.null,r.slice(n+1,t),e)),d=Er(d,[["exit",o,e],["enter",u,e],["exit",u,e],["exit",s,e]]),r[t][1].end.offset-r[t][1].start.offset?(p=2,d=Er(d,[["enter",r[t][1],e],["exit",r[t][1],e]])):p=0,cr(r,n-1,t-n+3,d),t=n+d.length-p-2;break}}for(t=-1;++t<r.length;)r[t][1].type==="attentionSequence"&&(r[t][1].type="data");return r}function VF(r,e){const t=this.parser.constructs.attentionMarkers.null,n=this.previous,s=Wu(n);let o;return l;function l(h){return o=h,r.enter("attentionSequence"),u(h)}function u(h){if(h===o)return r.consume(h),u;const d=r.exit("attentionSequence"),p=Wu(h),m=!p||p===2&&s||t.includes(h),y=!s||s===2&&p||t.includes(n);return d._open=!!(o===42?m:m&&(s||!y)),d._close=!!(o===42?y:y&&(p||!m)),e(h)}}function HS(r,e){r.column+=e,r.offset+=e,r._bufferIndex+=e}const WF={name:"autolink",tokenize:GF};function GF(r,e,t){let n=0;return s;function s(w){return r.enter("autolink"),r.enter("autolinkMarker"),r.consume(w),r.exit("autolinkMarker"),r.enter("autolinkProtocol"),o}function o(w){return Cn(w)?(r.consume(w),l):w===64?t(w):d(w)}function l(w){return w===43||w===45||w===46||vn(w)?(n=1,u(w)):d(w)}function u(w){return w===58?(r.consume(w),n=0,h):(w===43||w===45||w===46||vn(w))&&n++<32?(r.consume(w),u):(n=0,d(w))}function h(w){return w===62?(r.exit("autolinkProtocol"),r.enter("autolinkMarker"),r.consume(w),r.exit("autolinkMarker"),r.exit("autolink"),e):w===null||w===32||w===60||ig(w)?t(w):(r.consume(w),h)}function d(w){return w===64?(r.consume(w),p):FF(w)?(r.consume(w),d):t(w)}function p(w){return vn(w)?m(w):t(w)}function m(w){return w===46?(r.consume(w),n=0,p):w===62?(r.exit("autolinkProtocol").type="autolinkEmail",r.enter("autolinkMarker"),r.consume(w),r.exit("autolinkMarker"),r.exit("autolink"),e):y(w)}function y(w){if((w===45||vn(w))&&n++<63){const x=w===45?y:m;return r.consume(w),x}return t(w)}}const Yd={partial:!0,tokenize:qF};function qF(r,e,t){return n;function n(o){return Ue(o)?qe(r,s,"linePrefix")(o):s(o)}function s(o){return o===null||Re(o)?e(o):t(o)}}const hE={continuation:{tokenize:KF},exit:YF,name:"blockQuote",tokenize:XF};function XF(r,e,t){const n=this;return s;function s(l){if(l===62){const u=n.containerState;return u.open||(r.enter("blockQuote",{_container:!0}),u.open=!0),r.enter("blockQuotePrefix"),r.enter("blockQuoteMarker"),r.consume(l),r.exit("blockQuoteMarker"),o}return t(l)}function o(l){return Ue(l)?(r.enter("blockQuotePrefixWhitespace"),r.consume(l),r.exit("blockQuotePrefixWhitespace"),r.exit("blockQuotePrefix"),e):(r.exit("blockQuotePrefix"),e(l))}}function KF(r,e,t){const n=this;return s;function s(l){return Ue(l)?qe(r,o,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return r.attempt(hE,e,t)(l)}}function YF(r){r.exit("blockQuote")}const dE={name:"characterEscape",tokenize:QF};function QF(r,e,t){return n;function n(o){return r.enter("characterEscape"),r.enter("escapeMarker"),r.consume(o),r.exit("escapeMarker"),s}function s(o){return NF(o)?(r.enter("characterEscapeValue"),r.consume(o),r.exit("characterEscapeValue"),r.exit("characterEscape"),e):t(o)}}const fE={name:"characterReference",tokenize:JF};function JF(r,e,t){const n=this;let s=0,o,l;return u;function u(m){return r.enter("characterReference"),r.enter("characterReferenceMarker"),r.consume(m),r.exit("characterReferenceMarker"),h}function h(m){return m===35?(r.enter("characterReferenceMarkerNumeric"),r.consume(m),r.exit("characterReferenceMarkerNumeric"),d):(r.enter("characterReferenceValue"),o=31,l=vn,p(m))}function d(m){return m===88||m===120?(r.enter("characterReferenceMarkerHexadecimal"),r.consume(m),r.exit("characterReferenceMarkerHexadecimal"),r.enter("characterReferenceValue"),o=6,l=OF,p):(r.enter("characterReferenceValue"),o=7,l=Y0,p(m))}function p(m){if(m===59&&s){const y=r.exit("characterReferenceValue");return l===vn&&!Pw(n.sliceSerialize(y))?t(m):(r.enter("characterReferenceMarker"),r.consume(m),r.exit("characterReferenceMarker"),r.exit("characterReference"),e)}return l(m)&&s++<o?(r.consume(m),p):t(m)}}const US={partial:!0,tokenize:eO},$S={concrete:!0,name:"codeFenced",tokenize:ZF};function ZF(r,e,t){const n=this,s={partial:!0,tokenize:N};let o=0,l=0,u;return h;function h(M){return d(M)}function d(M){const $=n.events[n.events.length-1];return o=$&&$[1].type==="linePrefix"?$[2].sliceSerialize($[1],!0).length:0,u=M,r.enter("codeFenced"),r.enter("codeFencedFence"),r.enter("codeFencedFenceSequence"),p(M)}function p(M){return M===u?(l++,r.consume(M),p):l<3?t(M):(r.exit("codeFencedFenceSequence"),Ue(M)?qe(r,m,"whitespace")(M):m(M))}function m(M){return M===null||Re(M)?(r.exit("codeFencedFence"),n.interrupt?e(M):r.check(US,S,F)(M)):(r.enter("codeFencedFenceInfo"),r.enter("chunkString",{contentType:"string"}),y(M))}function y(M){return M===null||Re(M)?(r.exit("chunkString"),r.exit("codeFencedFenceInfo"),m(M)):Ue(M)?(r.exit("chunkString"),r.exit("codeFencedFenceInfo"),qe(r,w,"whitespace")(M)):M===96&&M===u?t(M):(r.consume(M),y)}function w(M){return M===null||Re(M)?m(M):(r.enter("codeFencedFenceMeta"),r.enter("chunkString",{contentType:"string"}),x(M))}function x(M){return M===null||Re(M)?(r.exit("chunkString"),r.exit("codeFencedFenceMeta"),m(M)):M===96&&M===u?t(M):(r.consume(M),x)}function S(M){return r.attempt(s,F,A)(M)}function A(M){return r.enter("lineEnding"),r.consume(M),r.exit("lineEnding"),k}function k(M){return o>0&&Ue(M)?qe(r,P,"linePrefix",o+1)(M):P(M)}function P(M){return M===null||Re(M)?r.check(US,S,F)(M):(r.enter("codeFlowValue"),R(M))}function R(M){return M===null||Re(M)?(r.exit("codeFlowValue"),P(M)):(r.consume(M),R)}function F(M){return r.exit("codeFenced"),e(M)}function N(M,$,W){let Q=0;return z;function z(oe){return M.enter("lineEnding"),M.consume(oe),M.exit("lineEnding"),q}function q(oe){return M.enter("codeFencedFence"),Ue(oe)?qe(M,ne,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(oe):ne(oe)}function ne(oe){return oe===u?(M.enter("codeFencedFenceSequence"),J(oe)):W(oe)}function J(oe){return oe===u?(Q++,M.consume(oe),J):Q>=l?(M.exit("codeFencedFenceSequence"),Ue(oe)?qe(M,Y,"whitespace")(oe):Y(oe)):W(oe)}function Y(oe){return oe===null||Re(oe)?(M.exit("codeFencedFence"),$(oe)):W(oe)}}}function eO(r,e,t){const n=this;return s;function s(l){return l===null?t(l):(r.enter("lineEnding"),r.consume(l),r.exit("lineEnding"),o)}function o(l){return n.parser.lazy[n.now().line]?t(l):e(l)}}const av={name:"codeIndented",tokenize:nO},tO={partial:!0,tokenize:rO};function nO(r,e,t){const n=this;return s;function s(d){return r.enter("codeIndented"),qe(r,o,"linePrefix",5)(d)}function o(d){const p=n.events[n.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?l(d):t(d)}function l(d){return d===null?h(d):Re(d)?r.attempt(tO,l,h)(d):(r.enter("codeFlowValue"),u(d))}function u(d){return d===null||Re(d)?(r.exit("codeFlowValue"),l(d)):(r.consume(d),u)}function h(d){return r.exit("codeIndented"),e(d)}}function rO(r,e,t){const n=this;return s;function s(l){return n.parser.lazy[n.now().line]?t(l):Re(l)?(r.enter("lineEnding"),r.consume(l),r.exit("lineEnding"),s):qe(r,o,"linePrefix",5)(l)}function o(l){const u=n.events[n.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):Re(l)?s(l):t(l)}}const iO={name:"codeText",previous:oO,resolve:sO,tokenize:aO};function sO(r){let e=r.length-4,t=3,n,s;if((r[t][1].type==="lineEnding"||r[t][1].type==="space")&&(r[e][1].type==="lineEnding"||r[e][1].type==="space")){for(n=t;++n<e;)if(r[n][1].type==="codeTextData"){r[t][1].type="codeTextPadding",r[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(n=t-1,e++;++n<=e;)s===void 0?n!==e&&r[n][1].type!=="lineEnding"&&(s=n):(n===e||r[n][1].type==="lineEnding")&&(r[s][1].type="codeTextData",n!==s+2&&(r[s][1].end=r[n-1][1].end,r.splice(s+2,n-s-2),e-=n-s-2,n=s+2),s=void 0);return r}function oO(r){return r!==96||this.events[this.events.length-1][1].type==="characterEscape"}function aO(r,e,t){let n=0,s,o;return l;function l(m){return r.enter("codeText"),r.enter("codeTextSequence"),u(m)}function u(m){return m===96?(r.consume(m),n++,u):(r.exit("codeTextSequence"),h(m))}function h(m){return m===null?t(m):m===32?(r.enter("space"),r.consume(m),r.exit("space"),h):m===96?(o=r.enter("codeTextSequence"),s=0,p(m)):Re(m)?(r.enter("lineEnding"),r.consume(m),r.exit("lineEnding"),h):(r.enter("codeTextData"),d(m))}function d(m){return m===null||m===32||m===96||Re(m)?(r.exit("codeTextData"),h(m)):(r.consume(m),d)}function p(m){return m===96?(r.consume(m),s++,p):s===n?(r.exit("codeTextSequence"),r.exit("codeText"),e(m)):(o.type="codeTextData",d(m))}}class lO{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=t??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const s=t||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return n&&Fc(this.left,n),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Fc(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Fc(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);Fc(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Fc(this.left,t.reverse())}}}function Fc(r,e){let t=0;if(e.length<1e4)r.push(...e);else for(;t<e.length;)r.push(...e.slice(t,t+1e4)),t+=1e4}function pE(r){const e={};let t=-1,n,s,o,l,u,h,d;const p=new lO(r);for(;++t<p.length;){for(;t in e;)t=e[t];if(n=p.get(t),t&&n[1].type==="chunkFlow"&&p.get(t-1)[1].type==="listItemPrefix"&&(h=n[1]._tokenizer.events,o=0,o<h.length&&h[o][1].type==="lineEndingBlank"&&(o+=2),o<h.length&&h[o][1].type==="content"))for(;++o<h.length&&h[o][1].type!=="content";)h[o][1].type==="chunkText"&&(h[o][1]._isInFirstContentOfListItem=!0,o++);if(n[0]==="enter")n[1].contentType&&(Object.assign(e,uO(p,t)),t=e[t],d=!0);else if(n[1]._container){for(o=t,s=void 0;o--&&(l=p.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank");)l[0]==="enter"&&(s&&(p.get(s)[1].type="lineEndingBlank"),l[1].type="lineEnding",s=o);s&&(n[1].end={...p.get(s)[1].start},u=p.slice(s,t),u.unshift(n),p.splice(s,t-s+1,u))}}return cr(r,0,Number.POSITIVE_INFINITY,p.slice(0)),!d}function uO(r,e){const t=r.get(e)[1],n=r.get(e)[2];let s=e-1;const o=[],l=t._tokenizer||n.parser[t.contentType](t.start),u=l.events,h=[],d={};let p,m,y=-1,w=t,x=0,S=0;const A=[S];for(;w;){for(;r.get(++s)[1]!==w;);o.push(s),w._tokenizer||(p=n.sliceStream(w),w.next||p.push(null),m&&l.defineSkip(w.start),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=w,w=w.next}for(w=t;++y<u.length;)u[y][0]==="exit"&&u[y-1][0]==="enter"&&u[y][1].type===u[y-1][1].type&&u[y][1].start.line!==u[y][1].end.line&&(S=y+1,A.push(S),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(l.events=[],w?(w._tokenizer=void 0,w.previous=void 0):A.pop(),y=A.length;y--;){const k=u.slice(A[y],A[y+1]),P=o.pop();h.push([P,P+k.length-1]),r.splice(P,2,k)}for(h.reverse(),y=-1;++y<h.length;)d[x+h[y][0]]=x+h[y][1],x+=h[y][1]-h[y][0]-1;return d}const cO={resolve:dO,tokenize:fO},hO={partial:!0,tokenize:pO};function dO(r){return pE(r),r}function fO(r,e){let t;return n;function n(u){return r.enter("content"),t=r.enter("chunkContent",{contentType:"content"}),s(u)}function s(u){return u===null?o(u):Re(u)?r.check(hO,l,o)(u):(r.consume(u),s)}function o(u){return r.exit("chunkContent"),r.exit("content"),e(u)}function l(u){return r.consume(u),r.exit("chunkContent"),t.next=r.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,s}}function pO(r,e,t){const n=this;return s;function s(l){return r.exit("chunkContent"),r.enter("lineEnding"),r.consume(l),r.exit("lineEnding"),qe(r,o,"linePrefix")}function o(l){if(l===null||Re(l))return t(l);const u=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):r.interrupt(n.parser.constructs.flow,t,e)(l)}}function gE(r,e,t,n,s,o,l,u,h){const d=h||Number.POSITIVE_INFINITY;let p=0;return m;function m(k){return k===60?(r.enter(n),r.enter(s),r.enter(o),r.consume(k),r.exit(o),y):k===null||k===32||k===41||ig(k)?t(k):(r.enter(n),r.enter(l),r.enter(u),r.enter("chunkString",{contentType:"string"}),S(k))}function y(k){return k===62?(r.enter(o),r.consume(k),r.exit(o),r.exit(s),r.exit(n),e):(r.enter(u),r.enter("chunkString",{contentType:"string"}),w(k))}function w(k){return k===62?(r.exit("chunkString"),r.exit(u),y(k)):k===null||k===60||Re(k)?t(k):(r.consume(k),k===92?x:w)}function x(k){return k===60||k===62||k===92?(r.consume(k),w):w(k)}function S(k){return!p&&(k===null||k===41||ut(k))?(r.exit("chunkString"),r.exit(u),r.exit(l),r.exit(n),e(k)):p<d&&k===40?(r.consume(k),p++,S):k===41?(r.consume(k),p--,S):k===null||k===32||k===40||ig(k)?t(k):(r.consume(k),k===92?A:S)}function A(k){return k===40||k===41||k===92?(r.consume(k),S):S(k)}}function mE(r,e,t,n,s,o){const l=this;let u=0,h;return d;function d(w){return r.enter(n),r.enter(s),r.consume(w),r.exit(s),r.enter(o),p}function p(w){return u>999||w===null||w===91||w===93&&!h||w===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?t(w):w===93?(r.exit(o),r.enter(s),r.consume(w),r.exit(s),r.exit(n),e):Re(w)?(r.enter("lineEnding"),r.consume(w),r.exit("lineEnding"),p):(r.enter("chunkString",{contentType:"string"}),m(w))}function m(w){return w===null||w===91||w===93||Re(w)||u++>999?(r.exit("chunkString"),p(w)):(r.consume(w),h||(h=!Ue(w)),w===92?y:m)}function y(w){return w===91||w===92||w===93?(r.consume(w),u++,m):m(w)}}function yE(r,e,t,n,s,o){let l;return u;function u(y){return y===34||y===39||y===40?(r.enter(n),r.enter(s),r.consume(y),r.exit(s),l=y===40?41:y,h):t(y)}function h(y){return y===l?(r.enter(s),r.consume(y),r.exit(s),r.exit(n),e):(r.enter(o),d(y))}function d(y){return y===l?(r.exit(o),h(l)):y===null?t(y):Re(y)?(r.enter("lineEnding"),r.consume(y),r.exit("lineEnding"),qe(r,d,"linePrefix")):(r.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===l||y===null||Re(y)?(r.exit("chunkString"),d(y)):(r.consume(y),y===92?m:p)}function m(y){return y===l||y===92?(r.consume(y),p):p(y)}}function nh(r,e){let t;return n;function n(s){return Re(s)?(r.enter("lineEnding"),r.consume(s),r.exit("lineEnding"),t=!0,n):Ue(s)?qe(r,n,t?"linePrefix":"lineSuffix")(s):e(s)}}const gO={name:"definition",tokenize:yO},mO={partial:!0,tokenize:vO};function yO(r,e,t){const n=this;let s;return o;function o(w){return r.enter("definition"),l(w)}function l(w){return mE.call(n,r,u,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function u(w){return s=Zr(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),w===58?(r.enter("definitionMarker"),r.consume(w),r.exit("definitionMarker"),h):t(w)}function h(w){return ut(w)?nh(r,d)(w):d(w)}function d(w){return gE(r,p,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function p(w){return r.attempt(mO,m,m)(w)}function m(w){return Ue(w)?qe(r,y,"whitespace")(w):y(w)}function y(w){return w===null||Re(w)?(r.exit("definition"),n.parser.defined.push(s),e(w)):t(w)}}function vO(r,e,t){return n;function n(u){return ut(u)?nh(r,s)(u):t(u)}function s(u){return yE(r,o,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return Ue(u)?qe(r,l,"whitespace")(u):l(u)}function l(u){return u===null||Re(u)?e(u):t(u)}}const wO={name:"hardBreakEscape",tokenize:bO};function bO(r,e,t){return n;function n(o){return r.enter("hardBreakEscape"),r.consume(o),s}function s(o){return Re(o)?(r.exit("hardBreakEscape"),e(o)):t(o)}}const xO={name:"headingAtx",resolve:SO,tokenize:kO};function SO(r,e){let t=r.length-2,n=3,s,o;return r[n][1].type==="whitespace"&&(n+=2),t-2>n&&r[t][1].type==="whitespace"&&(t-=2),r[t][1].type==="atxHeadingSequence"&&(n===t-1||t-4>n&&r[t-2][1].type==="whitespace")&&(t-=n+1===t?2:4),t>n&&(s={type:"atxHeadingText",start:r[n][1].start,end:r[t][1].end},o={type:"chunkText",start:r[n][1].start,end:r[t][1].end,contentType:"text"},cr(r,n,t-n+1,[["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e]])),r}function kO(r,e,t){let n=0;return s;function s(p){return r.enter("atxHeading"),o(p)}function o(p){return r.enter("atxHeadingSequence"),l(p)}function l(p){return p===35&&n++<6?(r.consume(p),l):p===null||ut(p)?(r.exit("atxHeadingSequence"),u(p)):t(p)}function u(p){return p===35?(r.enter("atxHeadingSequence"),h(p)):p===null||Re(p)?(r.exit("atxHeading"),e(p)):Ue(p)?qe(r,u,"whitespace")(p):(r.enter("atxHeadingText"),d(p))}function h(p){return p===35?(r.consume(p),h):(r.exit("atxHeadingSequence"),u(p))}function d(p){return p===null||p===35||ut(p)?(r.exit("atxHeadingText"),u(p)):(r.consume(p),d)}}const _O=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],VS=["pre","script","style","textarea"],AO={concrete:!0,name:"htmlFlow",resolveTo:TO,tokenize:PO},EO={partial:!0,tokenize:LO},CO={partial:!0,tokenize:RO};function TO(r){let e=r.length;for(;e--&&!(r[e][0]==="enter"&&r[e][1].type==="htmlFlow"););return e>1&&r[e-2][1].type==="linePrefix"&&(r[e][1].start=r[e-2][1].start,r[e+1][1].start=r[e-2][1].start,r.splice(e-2,2)),r}function PO(r,e,t){const n=this;let s,o,l,u,h;return d;function d(I){return p(I)}function p(I){return r.enter("htmlFlow"),r.enter("htmlFlowData"),r.consume(I),m}function m(I){return I===33?(r.consume(I),y):I===47?(r.consume(I),o=!0,S):I===63?(r.consume(I),s=3,n.interrupt?e:L):Cn(I)?(r.consume(I),l=String.fromCharCode(I),A):t(I)}function y(I){return I===45?(r.consume(I),s=2,w):I===91?(r.consume(I),s=5,u=0,x):Cn(I)?(r.consume(I),s=4,n.interrupt?e:L):t(I)}function w(I){return I===45?(r.consume(I),n.interrupt?e:L):t(I)}function x(I){const we="CDATA[";return I===we.charCodeAt(u++)?(r.consume(I),u===we.length?n.interrupt?e:ne:x):t(I)}function S(I){return Cn(I)?(r.consume(I),l=String.fromCharCode(I),A):t(I)}function A(I){if(I===null||I===47||I===62||ut(I)){const we=I===47,Ae=l.toLowerCase();return!we&&!o&&VS.includes(Ae)?(s=1,n.interrupt?e(I):ne(I)):_O.includes(l.toLowerCase())?(s=6,we?(r.consume(I),k):n.interrupt?e(I):ne(I)):(s=7,n.interrupt&&!n.parser.lazy[n.now().line]?t(I):o?P(I):R(I))}return I===45||vn(I)?(r.consume(I),l+=String.fromCharCode(I),A):t(I)}function k(I){return I===62?(r.consume(I),n.interrupt?e:ne):t(I)}function P(I){return Ue(I)?(r.consume(I),P):z(I)}function R(I){return I===47?(r.consume(I),z):I===58||I===95||Cn(I)?(r.consume(I),F):Ue(I)?(r.consume(I),R):z(I)}function F(I){return I===45||I===46||I===58||I===95||vn(I)?(r.consume(I),F):N(I)}function N(I){return I===61?(r.consume(I),M):Ue(I)?(r.consume(I),N):R(I)}function M(I){return I===null||I===60||I===61||I===62||I===96?t(I):I===34||I===39?(r.consume(I),h=I,$):Ue(I)?(r.consume(I),M):W(I)}function $(I){return I===h?(r.consume(I),h=null,Q):I===null||Re(I)?t(I):(r.consume(I),$)}function W(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||ut(I)?N(I):(r.consume(I),W)}function Q(I){return I===47||I===62||Ue(I)?R(I):t(I)}function z(I){return I===62?(r.consume(I),q):t(I)}function q(I){return I===null||Re(I)?ne(I):Ue(I)?(r.consume(I),q):t(I)}function ne(I){return I===45&&s===2?(r.consume(I),pe):I===60&&s===1?(r.consume(I),Z):I===62&&s===4?(r.consume(I),B):I===63&&s===3?(r.consume(I),L):I===93&&s===5?(r.consume(I),ce):Re(I)&&(s===6||s===7)?(r.exit("htmlFlowData"),r.check(EO,X,J)(I)):I===null||Re(I)?(r.exit("htmlFlowData"),J(I)):(r.consume(I),ne)}function J(I){return r.check(CO,Y,X)(I)}function Y(I){return r.enter("lineEnding"),r.consume(I),r.exit("lineEnding"),oe}function oe(I){return I===null||Re(I)?J(I):(r.enter("htmlFlowData"),ne(I))}function pe(I){return I===45?(r.consume(I),L):ne(I)}function Z(I){return I===47?(r.consume(I),l="",G):ne(I)}function G(I){if(I===62){const we=l.toLowerCase();return VS.includes(we)?(r.consume(I),B):ne(I)}return Cn(I)&&l.length<8?(r.consume(I),l+=String.fromCharCode(I),G):ne(I)}function ce(I){return I===93?(r.consume(I),L):ne(I)}function L(I){return I===62?(r.consume(I),B):I===45&&s===2?(r.consume(I),L):ne(I)}function B(I){return I===null||Re(I)?(r.exit("htmlFlowData"),X(I)):(r.consume(I),B)}function X(I){return r.exit("htmlFlow"),e(I)}}function RO(r,e,t){const n=this;return s;function s(l){return Re(l)?(r.enter("lineEnding"),r.consume(l),r.exit("lineEnding"),o):t(l)}function o(l){return n.parser.lazy[n.now().line]?t(l):e(l)}}function LO(r,e,t){return n;function n(s){return r.enter("lineEnding"),r.consume(s),r.exit("lineEnding"),r.attempt(Yd,e,t)}}const IO={name:"htmlText",tokenize:MO};function MO(r,e,t){const n=this;let s,o,l;return u;function u(L){return r.enter("htmlText"),r.enter("htmlTextData"),r.consume(L),h}function h(L){return L===33?(r.consume(L),d):L===47?(r.consume(L),N):L===63?(r.consume(L),R):Cn(L)?(r.consume(L),W):t(L)}function d(L){return L===45?(r.consume(L),p):L===91?(r.consume(L),o=0,x):Cn(L)?(r.consume(L),P):t(L)}function p(L){return L===45?(r.consume(L),w):t(L)}function m(L){return L===null?t(L):L===45?(r.consume(L),y):Re(L)?(l=m,Z(L)):(r.consume(L),m)}function y(L){return L===45?(r.consume(L),w):m(L)}function w(L){return L===62?pe(L):L===45?y(L):m(L)}function x(L){const B="CDATA[";return L===B.charCodeAt(o++)?(r.consume(L),o===B.length?S:x):t(L)}function S(L){return L===null?t(L):L===93?(r.consume(L),A):Re(L)?(l=S,Z(L)):(r.consume(L),S)}function A(L){return L===93?(r.consume(L),k):S(L)}function k(L){return L===62?pe(L):L===93?(r.consume(L),k):S(L)}function P(L){return L===null||L===62?pe(L):Re(L)?(l=P,Z(L)):(r.consume(L),P)}function R(L){return L===null?t(L):L===63?(r.consume(L),F):Re(L)?(l=R,Z(L)):(r.consume(L),R)}function F(L){return L===62?pe(L):R(L)}function N(L){return Cn(L)?(r.consume(L),M):t(L)}function M(L){return L===45||vn(L)?(r.consume(L),M):$(L)}function $(L){return Re(L)?(l=$,Z(L)):Ue(L)?(r.consume(L),$):pe(L)}function W(L){return L===45||vn(L)?(r.consume(L),W):L===47||L===62||ut(L)?Q(L):t(L)}function Q(L){return L===47?(r.consume(L),pe):L===58||L===95||Cn(L)?(r.consume(L),z):Re(L)?(l=Q,Z(L)):Ue(L)?(r.consume(L),Q):pe(L)}function z(L){return L===45||L===46||L===58||L===95||vn(L)?(r.consume(L),z):q(L)}function q(L){return L===61?(r.consume(L),ne):Re(L)?(l=q,Z(L)):Ue(L)?(r.consume(L),q):Q(L)}function ne(L){return L===null||L===60||L===61||L===62||L===96?t(L):L===34||L===39?(r.consume(L),s=L,J):Re(L)?(l=ne,Z(L)):Ue(L)?(r.consume(L),ne):(r.consume(L),Y)}function J(L){return L===s?(r.consume(L),s=void 0,oe):L===null?t(L):Re(L)?(l=J,Z(L)):(r.consume(L),J)}function Y(L){return L===null||L===34||L===39||L===60||L===61||L===96?t(L):L===47||L===62||ut(L)?Q(L):(r.consume(L),Y)}function oe(L){return L===47||L===62||ut(L)?Q(L):t(L)}function pe(L){return L===62?(r.consume(L),r.exit("htmlTextData"),r.exit("htmlText"),e):t(L)}function Z(L){return r.exit("htmlTextData"),r.enter("lineEnding"),r.consume(L),r.exit("lineEnding"),G}function G(L){return Ue(L)?qe(r,ce,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):ce(L)}function ce(L){return r.enter("htmlTextData"),l(L)}}const Rw={name:"labelEnd",resolveAll:NO,resolveTo:zO,tokenize:jO},DO={tokenize:BO},FO={tokenize:HO},OO={tokenize:UO};function NO(r){let e=-1;const t=[];for(;++e<r.length;){const n=r[e][1];if(t.push(r[e]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const s=n.type==="labelImage"?4:2;n.type="data",e+=s}}return r.length!==t.length&&cr(r,0,r.length,t),r}function zO(r,e){let t=r.length,n=0,s,o,l,u;for(;t--;)if(s=r[t][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;r[t][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(l){if(r[t][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=t,s.type!=="labelLink")){n=2;break}}else s.type==="labelEnd"&&(l=t);const h={type:r[o][1].type==="labelLink"?"link":"image",start:{...r[o][1].start},end:{...r[r.length-1][1].end}},d={type:"label",start:{...r[o][1].start},end:{...r[l][1].end}},p={type:"labelText",start:{...r[o+n+2][1].end},end:{...r[l-2][1].start}};return u=[["enter",h,e],["enter",d,e]],u=Er(u,r.slice(o+1,o+n+3)),u=Er(u,[["enter",p,e]]),u=Er(u,Xg(e.parser.constructs.insideSpan.null,r.slice(o+n+4,l-3),e)),u=Er(u,[["exit",p,e],r[l-2],r[l-1],["exit",d,e]]),u=Er(u,r.slice(l+1)),u=Er(u,[["exit",h,e]]),cr(r,o,r.length,u),r}function jO(r,e,t){const n=this;let s=n.events.length,o,l;for(;s--;)if((n.events[s][1].type==="labelImage"||n.events[s][1].type==="labelLink")&&!n.events[s][1]._balanced){o=n.events[s][1];break}return u;function u(y){return o?o._inactive?m(y):(l=n.parser.defined.includes(Zr(n.sliceSerialize({start:o.end,end:n.now()}))),r.enter("labelEnd"),r.enter("labelMarker"),r.consume(y),r.exit("labelMarker"),r.exit("labelEnd"),h):t(y)}function h(y){return y===40?r.attempt(DO,p,l?p:m)(y):y===91?r.attempt(FO,p,l?d:m)(y):l?p(y):m(y)}function d(y){return r.attempt(OO,p,m)(y)}function p(y){return e(y)}function m(y){return o._balanced=!0,t(y)}}function BO(r,e,t){return n;function n(m){return r.enter("resource"),r.enter("resourceMarker"),r.consume(m),r.exit("resourceMarker"),s}function s(m){return ut(m)?nh(r,o)(m):o(m)}function o(m){return m===41?p(m):gE(r,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return ut(m)?nh(r,h)(m):p(m)}function u(m){return t(m)}function h(m){return m===34||m===39||m===40?yE(r,d,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):p(m)}function d(m){return ut(m)?nh(r,p)(m):p(m)}function p(m){return m===41?(r.enter("resourceMarker"),r.consume(m),r.exit("resourceMarker"),r.exit("resource"),e):t(m)}}function HO(r,e,t){const n=this;return s;function s(u){return mE.call(n,r,o,l,"reference","referenceMarker","referenceString")(u)}function o(u){return n.parser.defined.includes(Zr(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?e(u):t(u)}function l(u){return t(u)}}function UO(r,e,t){return n;function n(o){return r.enter("reference"),r.enter("referenceMarker"),r.consume(o),r.exit("referenceMarker"),s}function s(o){return o===93?(r.enter("referenceMarker"),r.consume(o),r.exit("referenceMarker"),r.exit("reference"),e):t(o)}}const $O={name:"labelStartImage",resolveAll:Rw.resolveAll,tokenize:VO};function VO(r,e,t){const n=this;return s;function s(u){return r.enter("labelImage"),r.enter("labelImageMarker"),r.consume(u),r.exit("labelImageMarker"),o}function o(u){return u===91?(r.enter("labelMarker"),r.consume(u),r.exit("labelMarker"),r.exit("labelImage"),l):t(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in n.parser.constructs?t(u):e(u)}}const WO={name:"labelStartLink",resolveAll:Rw.resolveAll,tokenize:GO};function GO(r,e,t){const n=this;return s;function s(l){return r.enter("labelLink"),r.enter("labelMarker"),r.consume(l),r.exit("labelMarker"),r.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in n.parser.constructs?t(l):e(l)}}const lv={name:"lineEnding",tokenize:qO};function qO(r,e){return t;function t(n){return r.enter("lineEnding"),r.consume(n),r.exit("lineEnding"),qe(r,e,"linePrefix")}}const Vp={name:"thematicBreak",tokenize:XO};function XO(r,e,t){let n=0,s;return o;function o(d){return r.enter("thematicBreak"),l(d)}function l(d){return s=d,u(d)}function u(d){return d===s?(r.enter("thematicBreakSequence"),h(d)):n>=3&&(d===null||Re(d))?(r.exit("thematicBreak"),e(d)):t(d)}function h(d){return d===s?(r.consume(d),n++,h):(r.exit("thematicBreakSequence"),Ue(d)?qe(r,u,"whitespace")(d):u(d))}}const Nn={continuation:{tokenize:JO},exit:e2,name:"list",tokenize:QO},KO={partial:!0,tokenize:t2},YO={partial:!0,tokenize:ZO};function QO(r,e,t){const n=this,s=n.events[n.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,l=0;return u;function u(w){const x=n.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!n.containerState.marker||w===n.containerState.marker:Y0(w)){if(n.containerState.type||(n.containerState.type=x,r.enter(x,{_container:!0})),x==="listUnordered")return r.enter("listItemPrefix"),w===42||w===45?r.check(Vp,t,d)(w):d(w);if(!n.interrupt||w===49)return r.enter("listItemPrefix"),r.enter("listItemValue"),h(w)}return t(w)}function h(w){return Y0(w)&&++l<10?(r.consume(w),h):(!n.interrupt||l<2)&&(n.containerState.marker?w===n.containerState.marker:w===41||w===46)?(r.exit("listItemValue"),d(w)):t(w)}function d(w){return r.enter("listItemMarker"),r.consume(w),r.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||w,r.check(Yd,n.interrupt?t:p,r.attempt(KO,y,m))}function p(w){return n.containerState.initialBlankLine=!0,o++,y(w)}function m(w){return Ue(w)?(r.enter("listItemPrefixWhitespace"),r.consume(w),r.exit("listItemPrefixWhitespace"),y):t(w)}function y(w){return n.containerState.size=o+n.sliceSerialize(r.exit("listItemPrefix"),!0).length,e(w)}}function JO(r,e,t){const n=this;return n.containerState._closeFlow=void 0,r.check(Yd,s,o);function s(u){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,qe(r,e,"listItemIndent",n.containerState.size+1)(u)}function o(u){return n.containerState.furtherBlankLines||!Ue(u)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,l(u)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,r.attempt(YO,e,l)(u))}function l(u){return n.containerState._closeFlow=!0,n.interrupt=void 0,qe(r,r.attempt(Nn,e,t),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function ZO(r,e,t){const n=this;return qe(r,s,"listItemIndent",n.containerState.size+1);function s(o){const l=n.events[n.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===n.containerState.size?e(o):t(o)}}function e2(r){r.exit(this.containerState.type)}function t2(r,e,t){const n=this;return qe(r,s,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const l=n.events[n.events.length-1];return!Ue(o)&&l&&l[1].type==="listItemPrefixWhitespace"?e(o):t(o)}}const WS={name:"setextUnderline",resolveTo:n2,tokenize:r2};function n2(r,e){let t=r.length,n,s,o;for(;t--;)if(r[t][0]==="enter"){if(r[t][1].type==="content"){n=t;break}r[t][1].type==="paragraph"&&(s=t)}else r[t][1].type==="content"&&r.splice(t,1),!o&&r[t][1].type==="definition"&&(o=t);const l={type:"setextHeading",start:{...r[s][1].start},end:{...r[r.length-1][1].end}};return r[s][1].type="setextHeadingText",o?(r.splice(s,0,["enter",l,e]),r.splice(o+1,0,["exit",r[n][1],e]),r[n][1].end={...r[o][1].end}):r[n][1]=l,r.push(["exit",l,e]),r}function r2(r,e,t){const n=this;let s;return o;function o(d){let p=n.events.length,m;for(;p--;)if(n.events[p][1].type!=="lineEnding"&&n.events[p][1].type!=="linePrefix"&&n.events[p][1].type!=="content"){m=n.events[p][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||m)?(r.enter("setextHeadingLine"),s=d,l(d)):t(d)}function l(d){return r.enter("setextHeadingLineSequence"),u(d)}function u(d){return d===s?(r.consume(d),u):(r.exit("setextHeadingLineSequence"),Ue(d)?qe(r,h,"lineSuffix")(d):h(d))}function h(d){return d===null||Re(d)?(r.exit("setextHeadingLine"),e(d)):t(d)}}const i2={tokenize:s2};function s2(r){const e=this,t=r.attempt(Yd,n,r.attempt(this.parser.constructs.flowInitial,s,qe(r,r.attempt(this.parser.constructs.flow,s,r.attempt(cO,s)),"linePrefix")));return t;function n(o){if(o===null){r.consume(o);return}return r.enter("lineEndingBlank"),r.consume(o),r.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function s(o){if(o===null){r.consume(o);return}return r.enter("lineEnding"),r.consume(o),r.exit("lineEnding"),e.currentConstruct=void 0,t}}const o2={resolveAll:wE()},a2=vE("string"),l2=vE("text");function vE(r){return{resolveAll:wE(r==="text"?u2:void 0),tokenize:e};function e(t){const n=this,s=this.parser.constructs[r],o=t.attempt(s,l,u);return l;function l(p){return d(p)?o(p):u(p)}function u(p){if(p===null){t.consume(p);return}return t.enter("data"),t.consume(p),h}function h(p){return d(p)?(t.exit("data"),o(p)):(t.consume(p),h)}function d(p){if(p===null)return!0;const m=s[p];let y=-1;if(m)for(;++y<m.length;){const w=m[y];if(!w.previous||w.previous.call(n,n.previous))return!0}return!1}}}function wE(r){return e;function e(t,n){let s=-1,o;for(;++s<=t.length;)o===void 0?t[s]&&t[s][1].type==="data"&&(o=s,s++):(!t[s]||t[s][1].type!=="data")&&(s!==o+2&&(t[o][1].end=t[s-1][1].end,t.splice(o+2,s-o-2),s=o+2),o=void 0);return r?r(t,n):t}}function u2(r,e){let t=0;for(;++t<=r.length;)if((t===r.length||r[t][1].type==="lineEnding")&&r[t-1][1].type==="data"){const n=r[t-1][1],s=e.sliceStream(n);let o=s.length,l=-1,u=0,h;for(;o--;){const d=s[o];if(typeof d=="string"){for(l=d.length;d.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(d===-2)h=!0,u++;else if(d!==-1){o++;break}}if(u){const d={type:t===r.length||h||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:n.start._bufferIndex+l,_index:n.start._index+o,line:n.end.line,column:n.end.column-u,offset:n.end.offset-u},end:{...n.end}};n.end={...d.start},n.start.offset===n.end.offset?Object.assign(n,d):(r.splice(t,0,["enter",d,e],["exit",d,e]),t+=2)}t++}return r}const c2={42:Nn,43:Nn,45:Nn,48:Nn,49:Nn,50:Nn,51:Nn,52:Nn,53:Nn,54:Nn,55:Nn,56:Nn,57:Nn,62:hE},h2={91:gO},d2={[-2]:av,[-1]:av,32:av},f2={35:xO,42:Vp,45:[WS,Vp],60:AO,61:WS,95:Vp,96:$S,126:$S},p2={38:fE,92:dE},g2={[-5]:lv,[-4]:lv,[-3]:lv,33:$O,38:fE,42:Q0,60:[WF,IO],91:WO,92:[wO,dE],93:Rw,95:Q0,96:iO},m2={null:[Q0,o2]},y2={null:[42,95]},v2={null:[]},w2=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:y2,contentInitial:h2,disable:v2,document:c2,flow:f2,flowInitial:d2,insideSpan:m2,string:p2,text:g2},Symbol.toStringTag,{value:"Module"}));function b2(r,e,t){let n={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const s={},o=[];let l=[],u=[];const h={attempt:$(N),check:$(M),consume:P,enter:R,exit:F,interrupt:$(M,{interrupt:!0})},d={code:null,containerState:{},defineSkip:S,events:[],now:x,parser:r,previous:null,sliceSerialize:y,sliceStream:w,write:m};let p=e.tokenize.call(d,h);return e.resolveAll&&o.push(e),d;function m(q){return l=Er(l,q),A(),l[l.length-1]!==null?[]:(W(e,0),d.events=Xg(o,d.events,d),d.events)}function y(q,ne){return S2(w(q),ne)}function w(q){return x2(l,q)}function x(){const{_bufferIndex:q,_index:ne,line:J,column:Y,offset:oe}=n;return{_bufferIndex:q,_index:ne,line:J,column:Y,offset:oe}}function S(q){s[q.line]=q.column,z()}function A(){let q;for(;n._index<l.length;){const ne=l[n._index];if(typeof ne=="string")for(q=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===q&&n._bufferIndex<ne.length;)k(ne.charCodeAt(n._bufferIndex));else k(ne)}}function k(q){p=p(q)}function P(q){Re(q)?(n.line++,n.column=1,n.offset+=q===-3?2:1,z()):q!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===l[n._index].length&&(n._bufferIndex=-1,n._index++)),d.previous=q}function R(q,ne){const J=ne||{};return J.type=q,J.start=x(),d.events.push(["enter",J,d]),u.push(J),J}function F(q){const ne=u.pop();return ne.end=x(),d.events.push(["exit",ne,d]),ne}function N(q,ne){W(q,ne.from)}function M(q,ne){ne.restore()}function $(q,ne){return J;function J(Y,oe,pe){let Z,G,ce,L;return Array.isArray(Y)?X(Y):"tokenize"in Y?X([Y]):B(Y);function B(ge){return ke;function ke(Ee){const Ne=Ee!==null&&ge[Ee],Fe=Ee!==null&&ge.null,bn=[...Array.isArray(Ne)?Ne:Ne?[Ne]:[],...Array.isArray(Fe)?Fe:Fe?[Fe]:[]];return X(bn)(Ee)}}function X(ge){return Z=ge,G=0,ge.length===0?pe:I(ge[G])}function I(ge){return ke;function ke(Ee){return L=Q(),ce=ge,ge.partial||(d.currentConstruct=ge),ge.name&&d.parser.constructs.disable.null.includes(ge.name)?Ae():ge.tokenize.call(ne?Object.assign(Object.create(d),ne):d,h,we,Ae)(Ee)}}function we(ge){return q(ce,L),oe}function Ae(ge){return L.restore(),++G<Z.length?I(Z[G]):pe}}}function W(q,ne){q.resolveAll&&!o.includes(q)&&o.push(q),q.resolve&&cr(d.events,ne,d.events.length-ne,q.resolve(d.events.slice(ne),d)),q.resolveTo&&(d.events=q.resolveTo(d.events,d))}function Q(){const q=x(),ne=d.previous,J=d.currentConstruct,Y=d.events.length,oe=Array.from(u);return{from:Y,restore:pe};function pe(){n=q,d.previous=ne,d.currentConstruct=J,d.events.length=Y,u=oe,z()}}function z(){n.line in s&&n.column<2&&(n.column=s[n.line],n.offset+=s[n.line]-1)}}function x2(r,e){const t=e.start._index,n=e.start._bufferIndex,s=e.end._index,o=e.end._bufferIndex;let l;if(t===s)l=[r[t].slice(n,o)];else{if(l=r.slice(t,s),n>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(n):l.shift()}o>0&&l.push(r[s].slice(0,o))}return l}function S2(r,e){let t=-1;const n=[];let s;for(;++t<r.length;){const o=r[t];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&s)continue;l=" ";break}default:l=String.fromCharCode(o)}s=o===-2,n.push(l)}return n.join("")}function k2(r){const n={constructs:uE([w2,...(r||{}).extensions||[]]),content:s(zF),defined:[],document:s(BF),flow:s(i2),lazy:{},string:s(a2),text:s(l2)};return n;function s(o){return l;function l(u){return b2(n,o,u)}}}function _2(r){for(;!pE(r););return r}const GS=/[\0\t\n\r]/g;function A2(){let r=1,e="",t=!0,n;return s;function s(o,l,u){const h=[];let d,p,m,y,w;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),m=0,e="",t&&(o.charCodeAt(0)===65279&&m++,t=void 0);m<o.length;){if(GS.lastIndex=m,d=GS.exec(o),y=d&&d.index!==void 0?d.index:o.length,w=o.charCodeAt(y),!d){e=o.slice(m);break}if(w===10&&m===y&&n)h.push(-3),n=void 0;else switch(n&&(h.push(-5),n=void 0),m<y&&(h.push(o.slice(m,y)),r+=y-m),w){case 0:{h.push(65533),r++;break}case 9:{for(p=Math.ceil(r/4)*4,h.push(-2);r++<p;)h.push(-1);break}case 10:{h.push(-4),r=1;break}default:n=!0,r=1}m=y+1}return u&&(n&&h.push(-5),e&&h.push(e),h.push(null)),h}}const E2=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function C2(r){return r.replace(E2,T2)}function T2(r,e,t){if(e)return e;if(t.charCodeAt(0)===35){const s=t.charCodeAt(1),o=s===120||s===88;return cE(t.slice(o?2:1),o?16:10)}return Pw(t)||r}const bE={}.hasOwnProperty;function P2(r,e,t){return typeof e!="string"&&(t=e,e=void 0),R2(t)(_2(k2(t).document().write(A2()(r,e,!0))))}function R2(r){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Ts),autolinkProtocol:Q,autolinkEmail:Q,atxHeading:o(St),blockQuote:o(Fe),characterEscape:Q,characterReference:Q,codeFenced:o(bn),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(bn,l),codeText:o(ti,l),codeTextData:Q,data:Q,codeFlowValue:Q,definition:o(Xe),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(ct),hardBreakEscape:o(mt),hardBreakTrailing:o(mt),htmlFlow:o(Vn,l),htmlFlowData:Q,htmlText:o(Vn,l),htmlTextData:Q,image:o(ni),label:l,link:o(Ts),listItem:o(Wn),listItemValue:y,listOrdered:o(ri,m),listUnordered:o(ri),paragraph:o(To),reference:I,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(St),strong:o(ol),thematicBreak:o(ll)},exit:{atxHeading:h(),atxHeadingSequence:N,autolink:h(),autolinkEmail:Ne,autolinkProtocol:Ee,blockQuote:h(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:Ae,characterReferenceMarkerNumeric:Ae,characterReferenceValue:ge,characterReference:ke,codeFenced:h(A),codeFencedFence:S,codeFencedFenceInfo:w,codeFencedFenceMeta:x,codeFlowValue:z,codeIndented:h(k),codeText:h(oe),codeTextData:z,data:z,definition:h(),definitionDestinationString:F,definitionLabelString:P,definitionTitleString:R,emphasis:h(),hardBreakEscape:h(ne),hardBreakTrailing:h(ne),htmlFlow:h(J),htmlFlowData:z,htmlText:h(Y),htmlTextData:z,image:h(Z),label:ce,labelText:G,lineEnding:q,link:h(pe),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:we,resourceDestinationString:L,resourceTitleString:B,resource:X,setextHeading:h(W),setextHeadingLineSequence:$,setextHeadingText:M,strong:h(),thematicBreak:h()}};xE(e,(r||{}).mdastExtensions||[]);const t={};return n;function n(K){let le={type:"root",children:[]};const Ce={stack:[le],tokenStack:[],config:e,enter:u,exit:d,buffer:l,resume:p,data:t},Oe=[];let He=-1;for(;++He<K.length;)if(K[He][1].type==="listOrdered"||K[He][1].type==="listUnordered")if(K[He][0]==="enter")Oe.push(He);else{const Xt=Oe.pop();He=s(K,Xt,He)}for(He=-1;++He<K.length;){const Xt=e[K[He][0]];bE.call(Xt,K[He][1].type)&&Xt[K[He][1].type].call(Object.assign({sliceSerialize:K[He][2].sliceSerialize},Ce),K[He][1])}if(Ce.tokenStack.length>0){const Xt=Ce.tokenStack[Ce.tokenStack.length-1];(Xt[1]||qS).call(Ce,void 0,Xt[0])}for(le.position={start:Ks(K.length>0?K[0][1].start:{line:1,column:1,offset:0}),end:Ks(K.length>0?K[K.length-2][1].end:{line:1,column:1,offset:0})},He=-1;++He<e.transforms.length;)le=e.transforms[He](le)||le;return le}function s(K,le,Ce){let Oe=le-1,He=-1,Xt=!1,Ii,fr,Ps,Po;for(;++Oe<=Ce;){const Kt=K[Oe];switch(Kt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Kt[0]==="enter"?He++:He--,Po=void 0;break}case"lineEndingBlank":{Kt[0]==="enter"&&(Ii&&!Po&&!He&&!Ps&&(Ps=Oe),Po=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Po=void 0}if(!He&&Kt[0]==="enter"&&Kt[1].type==="listItemPrefix"||He===-1&&Kt[0]==="exit"&&(Kt[1].type==="listUnordered"||Kt[1].type==="listOrdered")){if(Ii){let ii=Oe;for(fr=void 0;ii--;){const Gn=K[ii];if(Gn[1].type==="lineEnding"||Gn[1].type==="lineEndingBlank"){if(Gn[0]==="exit")continue;fr&&(K[fr][1].type="lineEndingBlank",Xt=!0),Gn[1].type="lineEnding",fr=ii}else if(!(Gn[1].type==="linePrefix"||Gn[1].type==="blockQuotePrefix"||Gn[1].type==="blockQuotePrefixWhitespace"||Gn[1].type==="blockQuoteMarker"||Gn[1].type==="listItemIndent"))break}Ps&&(!fr||Ps<fr)&&(Ii._spread=!0),Ii.end=Object.assign({},fr?K[fr][1].start:Kt[1].end),K.splice(fr||Oe,0,["exit",Ii,Kt[2]]),Oe++,Ce++}if(Kt[1].type==="listItemPrefix"){const ii={type:"listItem",_spread:!1,start:Object.assign({},Kt[1].start),end:void 0};Ii=ii,K.splice(Oe,0,["enter",ii,Kt[2]]),Oe++,Ce++,Ps=void 0,Po=!0}}}return K[le][1]._spread=Xt,Ce}function o(K,le){return Ce;function Ce(Oe){u.call(this,K(Oe),Oe),le&&le.call(this,Oe)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(K,le,Ce){this.stack[this.stack.length-1].children.push(K),this.stack.push(K),this.tokenStack.push([le,Ce||void 0]),K.position={start:Ks(le.start),end:void 0}}function h(K){return le;function le(Ce){K&&K.call(this,Ce),d.call(this,Ce)}}function d(K,le){const Ce=this.stack.pop(),Oe=this.tokenStack.pop();if(Oe)Oe[0].type!==K.type&&(le?le.call(this,K,Oe[0]):(Oe[1]||qS).call(this,K,Oe[0]));else throw new Error("Cannot close `"+K.type+"` ("+th({start:K.start,end:K.end})+"): its not open");Ce.position.end=Ks(K.end)}function p(){return Tw(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function y(K){if(this.data.expectingFirstListItemValue){const le=this.stack[this.stack.length-2];le.start=Number.parseInt(this.sliceSerialize(K),10),this.data.expectingFirstListItemValue=void 0}}function w(){const K=this.resume(),le=this.stack[this.stack.length-1];le.lang=K}function x(){const K=this.resume(),le=this.stack[this.stack.length-1];le.meta=K}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function A(){const K=this.resume(),le=this.stack[this.stack.length-1];le.value=K.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const K=this.resume(),le=this.stack[this.stack.length-1];le.value=K.replace(/(\r?\n|\r)$/g,"")}function P(K){const le=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=le,Ce.identifier=Zr(this.sliceSerialize(K)).toLowerCase()}function R(){const K=this.resume(),le=this.stack[this.stack.length-1];le.title=K}function F(){const K=this.resume(),le=this.stack[this.stack.length-1];le.url=K}function N(K){const le=this.stack[this.stack.length-1];if(!le.depth){const Ce=this.sliceSerialize(K).length;le.depth=Ce}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function $(K){const le=this.stack[this.stack.length-1];le.depth=this.sliceSerialize(K).codePointAt(0)===61?1:2}function W(){this.data.setextHeadingSlurpLineEnding=void 0}function Q(K){const Ce=this.stack[this.stack.length-1].children;let Oe=Ce[Ce.length-1];(!Oe||Oe.type!=="text")&&(Oe=al(),Oe.position={start:Ks(K.start),end:void 0},Ce.push(Oe)),this.stack.push(Oe)}function z(K){const le=this.stack.pop();le.value+=this.sliceSerialize(K),le.position.end=Ks(K.end)}function q(K){const le=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ce=le.children[le.children.length-1];Ce.position.end=Ks(K.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(le.type)&&(Q.call(this,K),z.call(this,K))}function ne(){this.data.atHardBreak=!0}function J(){const K=this.resume(),le=this.stack[this.stack.length-1];le.value=K}function Y(){const K=this.resume(),le=this.stack[this.stack.length-1];le.value=K}function oe(){const K=this.resume(),le=this.stack[this.stack.length-1];le.value=K}function pe(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const le=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=le,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function Z(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const le=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=le,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function G(K){const le=this.sliceSerialize(K),Ce=this.stack[this.stack.length-2];Ce.label=C2(le),Ce.identifier=Zr(le).toLowerCase()}function ce(){const K=this.stack[this.stack.length-1],le=this.resume(),Ce=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ce.type==="link"){const Oe=K.children;Ce.children=Oe}else Ce.alt=le}function L(){const K=this.resume(),le=this.stack[this.stack.length-1];le.url=K}function B(){const K=this.resume(),le=this.stack[this.stack.length-1];le.title=K}function X(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function we(K){const le=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=le,Ce.identifier=Zr(this.sliceSerialize(K)).toLowerCase(),this.data.referenceType="full"}function Ae(K){this.data.characterReferenceType=K.type}function ge(K){const le=this.sliceSerialize(K),Ce=this.data.characterReferenceType;let Oe;Ce?(Oe=cE(le,Ce==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Oe=Pw(le);const He=this.stack[this.stack.length-1];He.value+=Oe}function ke(K){const le=this.stack.pop();le.position.end=Ks(K.end)}function Ee(K){z.call(this,K);const le=this.stack[this.stack.length-1];le.url=this.sliceSerialize(K)}function Ne(K){z.call(this,K);const le=this.stack[this.stack.length-1];le.url="mailto:"+this.sliceSerialize(K)}function Fe(){return{type:"blockquote",children:[]}}function bn(){return{type:"code",lang:null,meta:null,value:""}}function ti(){return{type:"inlineCode",value:""}}function Xe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ct(){return{type:"emphasis",children:[]}}function St(){return{type:"heading",depth:0,children:[]}}function mt(){return{type:"break"}}function Vn(){return{type:"html",value:""}}function ni(){return{type:"image",title:null,url:"",alt:null}}function Ts(){return{type:"link",title:null,url:"",children:[]}}function ri(K){return{type:"list",ordered:K.type==="listOrdered",start:null,spread:K._spread,children:[]}}function Wn(K){return{type:"listItem",spread:K._spread,checked:null,children:[]}}function To(){return{type:"paragraph",children:[]}}function ol(){return{type:"strong",children:[]}}function al(){return{type:"text",value:""}}function ll(){return{type:"thematicBreak"}}}function Ks(r){return{line:r.line,column:r.column,offset:r.offset}}function xE(r,e){let t=-1;for(;++t<e.length;){const n=e[t];Array.isArray(n)?xE(r,n):L2(r,n)}}function L2(r,e){let t;for(t in e)if(bE.call(e,t))switch(t){case"canContainEols":{const n=e[t];n&&r[t].push(...n);break}case"transforms":{const n=e[t];n&&r[t].push(...n);break}case"enter":case"exit":{const n=e[t];n&&Object.assign(r[t],n);break}}}function qS(r,e){throw r?new Error("Cannot close `"+r.type+"` ("+th({start:r.start,end:r.end})+"): a different token (`"+e.type+"`, "+th({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+th({start:e.start,end:e.end})+") is still open")}function I2(r){const e=this;e.parser=t;function t(n){return P2(n,{...e.data("settings"),...r,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function M2(r,e){const t={type:"element",tagName:"blockquote",properties:{},children:r.wrap(r.all(e),!0)};return r.patch(e,t),r.applyData(e,t)}function D2(r,e){const t={type:"element",tagName:"br",properties:{},children:[]};return r.patch(e,t),[r.applyData(e,t),{type:"text",value:`
`}]}function F2(r,e){const t=e.value?e.value+`
`:"",n={};e.lang&&(n.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:n,children:[{type:"text",value:t}]};return e.meta&&(s.data={meta:e.meta}),r.patch(e,s),s=r.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},r.patch(e,s),s}function O2(r,e){const t={type:"element",tagName:"del",properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}function N2(r,e){const t={type:"element",tagName:"em",properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}function z2(r,e){const t=typeof r.options.clobberPrefix=="string"?r.options.clobberPrefix:"user-content-",n=String(e.identifier).toUpperCase(),s=qu(n.toLowerCase()),o=r.footnoteOrder.indexOf(n);let l,u=r.footnoteCounts.get(n);u===void 0?(u=0,r.footnoteOrder.push(n),l=r.footnoteOrder.length):l=o+1,u+=1,r.footnoteCounts.set(n,u);const h={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+s,id:t+"fnref-"+s+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};r.patch(e,h);const d={type:"element",tagName:"sup",properties:{},children:[h]};return r.patch(e,d),r.applyData(e,d)}function j2(r,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}function B2(r,e){if(r.options.allowDangerousHtml){const t={type:"raw",value:e.value};return r.patch(e,t),r.applyData(e,t)}}function SE(r,e){const t=e.referenceType;let n="]";if(t==="collapsed"?n+="[]":t==="full"&&(n+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+n}];const s=r.all(e),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const l=s[s.length-1];return l&&l.type==="text"?l.value+=n:s.push({type:"text",value:n}),s}function H2(r,e){const t=String(e.identifier).toUpperCase(),n=r.definitionById.get(t);if(!n)return SE(r,e);const s={src:qu(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(s.title=n.title);const o={type:"element",tagName:"img",properties:s,children:[]};return r.patch(e,o),r.applyData(e,o)}function U2(r,e){const t={src:qu(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const n={type:"element",tagName:"img",properties:t,children:[]};return r.patch(e,n),r.applyData(e,n)}function $2(r,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};r.patch(e,t);const n={type:"element",tagName:"code",properties:{},children:[t]};return r.patch(e,n),r.applyData(e,n)}function V2(r,e){const t=String(e.identifier).toUpperCase(),n=r.definitionById.get(t);if(!n)return SE(r,e);const s={href:qu(n.url||"")};n.title!==null&&n.title!==void 0&&(s.title=n.title);const o={type:"element",tagName:"a",properties:s,children:r.all(e)};return r.patch(e,o),r.applyData(e,o)}function W2(r,e){const t={href:qu(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const n={type:"element",tagName:"a",properties:t,children:r.all(e)};return r.patch(e,n),r.applyData(e,n)}function G2(r,e,t){const n=r.all(e),s=t?q2(t):kE(e),o={},l=[];if(typeof e.checked=="boolean"){const p=n[0];let m;p&&p.type==="element"&&p.tagName==="p"?m=p:(m={type:"element",tagName:"p",properties:{},children:[]},n.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let u=-1;for(;++u<n.length;){const p=n[u];(s||u!==0||p.type!=="element"||p.tagName!=="p")&&l.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!s?l.push(...p.children):l.push(p)}const h=n[n.length-1];h&&(s||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:o,children:l};return r.patch(e,d),r.applyData(e,d)}function q2(r){let e=!1;if(r.type==="list"){e=r.spread||!1;const t=r.children;let n=-1;for(;!e&&++n<t.length;)e=kE(t[n])}return e}function kE(r){const e=r.spread;return e??r.children.length>1}function X2(r,e){const t={},n=r.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++s<n.length;){const l=n[s];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:r.wrap(n,!0)};return r.patch(e,o),r.applyData(e,o)}function K2(r,e){const t={type:"element",tagName:"p",properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}function Y2(r,e){const t={type:"root",children:r.wrap(r.all(e))};return r.patch(e,t),r.applyData(e,t)}function Q2(r,e){const t={type:"element",tagName:"strong",properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}function J2(r,e){const t=r.all(e),n=t.shift(),s=[];if(n){const l={type:"element",tagName:"thead",properties:{},children:r.wrap([n],!0)};r.patch(e.children[0],l),s.push(l)}if(t.length>0){const l={type:"element",tagName:"tbody",properties:{},children:r.wrap(t,!0)},u=_w(e.children[1]),h=nE(e.children[e.children.length-1]);u&&h&&(l.position={start:u,end:h}),s.push(l)}const o={type:"element",tagName:"table",properties:{},children:r.wrap(s,!0)};return r.patch(e,o),r.applyData(e,o)}function Z2(r,e,t){const n=t?t.children:void 0,o=(n?n.indexOf(e):1)===0?"th":"td",l=t&&t.type==="table"?t.align:void 0,u=l?l.length:e.children.length;let h=-1;const d=[];for(;++h<u;){const m=e.children[h],y={},w=l?l[h]:void 0;w&&(y.align=w);let x={type:"element",tagName:o,properties:y,children:[]};m&&(x.children=r.all(m),r.patch(m,x),x=r.applyData(m,x)),d.push(x)}const p={type:"element",tagName:"tr",properties:{},children:r.wrap(d,!0)};return r.patch(e,p),r.applyData(e,p)}function eN(r,e){const t={type:"element",tagName:"td",properties:{},children:r.all(e)};return r.patch(e,t),r.applyData(e,t)}const XS=9,KS=32;function tN(r){const e=String(r),t=/\r?\n|\r/g;let n=t.exec(e),s=0;const o=[];for(;n;)o.push(YS(e.slice(s,n.index),s>0,!0),n[0]),s=n.index+n[0].length,n=t.exec(e);return o.push(YS(e.slice(s),s>0,!1)),o.join("")}function YS(r,e,t){let n=0,s=r.length;if(e){let o=r.codePointAt(n);for(;o===XS||o===KS;)n++,o=r.codePointAt(n)}if(t){let o=r.codePointAt(s-1);for(;o===XS||o===KS;)s--,o=r.codePointAt(s-1)}return s>n?r.slice(n,s):""}function nN(r,e){const t={type:"text",value:tN(String(e.value))};return r.patch(e,t),r.applyData(e,t)}function rN(r,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return r.patch(e,t),r.applyData(e,t)}const iN={blockquote:M2,break:D2,code:F2,delete:O2,emphasis:N2,footnoteReference:z2,heading:j2,html:B2,imageReference:H2,image:U2,inlineCode:$2,linkReference:V2,link:W2,listItem:G2,list:X2,paragraph:K2,root:Y2,strong:Q2,table:J2,tableCell:eN,tableRow:Z2,text:nN,thematicBreak:rN,toml:pp,yaml:pp,definition:pp,footnoteDefinition:pp};function pp(){}const _E=-1,Kg=0,sg=1,og=2,Lw=3,Iw=4,Mw=5,Dw=6,AE=7,EE=8,QS=typeof self=="object"?self:globalThis,sN=(r,e)=>{const t=(s,o)=>(r.set(o,s),s),n=s=>{if(r.has(s))return r.get(s);const[o,l]=e[s];switch(o){case Kg:case _E:return t(l,s);case sg:{const u=t([],s);for(const h of l)u.push(n(h));return u}case og:{const u=t({},s);for(const[h,d]of l)u[n(h)]=n(d);return u}case Lw:return t(new Date(l),s);case Iw:{const{source:u,flags:h}=l;return t(new RegExp(u,h),s)}case Mw:{const u=t(new Map,s);for(const[h,d]of l)u.set(n(h),n(d));return u}case Dw:{const u=t(new Set,s);for(const h of l)u.add(n(h));return u}case AE:{const{name:u,message:h}=l;return t(new QS[u](h),s)}case EE:return t(BigInt(l),s);case"BigInt":return t(Object(BigInt(l)),s)}return t(new QS[o](l),s)};return n},JS=r=>sN(new Map,r)(0),Dl="",{toString:oN}={},{keys:aN}=Object,Oc=r=>{const e=typeof r;if(e!=="object"||!r)return[Kg,e];const t=oN.call(r).slice(8,-1);switch(t){case"Array":return[sg,Dl];case"Object":return[og,Dl];case"Date":return[Lw,Dl];case"RegExp":return[Iw,Dl];case"Map":return[Mw,Dl];case"Set":return[Dw,Dl]}return t.includes("Array")?[sg,t]:t.includes("Error")?[AE,t]:[og,t]},gp=([r,e])=>r===Kg&&(e==="function"||e==="symbol"),lN=(r,e,t,n)=>{const s=(l,u)=>{const h=n.push(l)-1;return t.set(u,h),h},o=l=>{if(t.has(l))return t.get(l);let[u,h]=Oc(l);switch(u){case Kg:{let p=l;switch(h){case"bigint":u=EE,p=l.toString();break;case"function":case"symbol":if(r)throw new TypeError("unable to serialize "+h);p=null;break;case"undefined":return s([_E],l)}return s([u,p],l)}case sg:{if(h)return s([h,[...l]],l);const p=[],m=s([u,p],l);for(const y of l)p.push(o(y));return m}case og:{if(h)switch(h){case"BigInt":return s([h,l.toString()],l);case"Boolean":case"Number":case"String":return s([h,l.valueOf()],l)}if(e&&"toJSON"in l)return o(l.toJSON());const p=[],m=s([u,p],l);for(const y of aN(l))(r||!gp(Oc(l[y])))&&p.push([o(y),o(l[y])]);return m}case Lw:return s([u,l.toISOString()],l);case Iw:{const{source:p,flags:m}=l;return s([u,{source:p,flags:m}],l)}case Mw:{const p=[],m=s([u,p],l);for(const[y,w]of l)(r||!(gp(Oc(y))||gp(Oc(w))))&&p.push([o(y),o(w)]);return m}case Dw:{const p=[],m=s([u,p],l);for(const y of l)(r||!gp(Oc(y)))&&p.push(o(y));return m}}const{message:d}=l;return s([u,{name:h,message:d}],l)};return o},ZS=(r,{json:e,lossy:t}={})=>{const n=[];return lN(!(e||t),!!e,new Map,n)(r),n},ag=typeof structuredClone=="function"?(r,e)=>e&&("json"in e||"lossy"in e)?JS(ZS(r,e)):structuredClone(r):(r,e)=>JS(ZS(r,e));function uN(r,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function cN(r,e){return"Back to reference "+(r+1)+(e>1?"-"+e:"")}function hN(r){const e=typeof r.options.clobberPrefix=="string"?r.options.clobberPrefix:"user-content-",t=r.options.footnoteBackContent||uN,n=r.options.footnoteBackLabel||cN,s=r.options.footnoteLabel||"Footnotes",o=r.options.footnoteLabelTagName||"h2",l=r.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let h=-1;for(;++h<r.footnoteOrder.length;){const d=r.footnoteById.get(r.footnoteOrder[h]);if(!d)continue;const p=r.all(d),m=String(d.identifier).toUpperCase(),y=qu(m.toLowerCase());let w=0;const x=[],S=r.footnoteCounts.get(m);for(;S!==void 0&&++w<=S;){x.length>0&&x.push({type:"text",value:" "});let P=typeof t=="string"?t:t(h,w);typeof P=="string"&&(P={type:"text",value:P}),x.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+y+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(h,w),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const A=p[p.length-1];if(A&&A.type==="element"&&A.tagName==="p"){const P=A.children[A.children.length-1];P&&P.type==="text"?P.value+=" ":A.children.push({type:"text",value:" "}),A.children.push(...x)}else p.push(...x);const k={type:"element",tagName:"li",properties:{id:e+"fn-"+y},children:r.wrap(p,!0)};r.patch(d,k),u.push(k)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...ag(l),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:r.wrap(u,!0)},{type:"text",value:`
`}]}}const Yg=function(r){if(r==null)return gN;if(typeof r=="function")return Qg(r);if(typeof r=="object")return Array.isArray(r)?dN(r):fN(r);if(typeof r=="string")return pN(r);throw new Error("Expected function, string, or object as test")};function dN(r){const e=[];let t=-1;for(;++t<r.length;)e[t]=Yg(r[t]);return Qg(n);function n(...s){let o=-1;for(;++o<e.length;)if(e[o].apply(this,s))return!0;return!1}}function fN(r){const e=r;return Qg(t);function t(n){const s=n;let o;for(o in r)if(s[o]!==e[o])return!1;return!0}}function pN(r){return Qg(e);function e(t){return t&&t.type===r}}function Qg(r){return e;function e(t,n,s){return!!(mN(t)&&r.call(this,t,typeof n=="number"?n:void 0,s||void 0))}}function gN(){return!0}function mN(r){return r!==null&&typeof r=="object"&&"type"in r}const CE=[],yN=!0,J0=!1,vN="skip";function TE(r,e,t,n){let s;typeof e=="function"&&typeof t!="function"?(n=t,t=e):s=e;const o=Yg(s),l=n?-1:1;u(r,void 0,[])();function u(h,d,p){const m=h&&typeof h=="object"?h:{};if(typeof m.type=="string"){const w=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(h.type+(w?"<"+w+">":""))+")"})}return y;function y(){let w=CE,x,S,A;if((!e||o(h,d,p[p.length-1]||void 0))&&(w=wN(t(h,p)),w[0]===J0))return w;if("children"in h&&h.children){const k=h;if(k.children&&w[0]!==vN)for(S=(n?k.children.length:-1)+l,A=p.concat(k);S>-1&&S<k.children.length;){const P=k.children[S];if(x=u(P,S,A)(),x[0]===J0)return x;S=typeof x[1]=="number"?x[1]:S+l}}return w}}}function wN(r){return Array.isArray(r)?r:typeof r=="number"?[yN,r]:r==null?CE:[r]}function Fw(r,e,t,n){let s,o,l;typeof e=="function"&&typeof t!="function"?(o=void 0,l=e,s=t):(o=e,l=t,s=n),TE(r,o,u,s);function u(h,d){const p=d[d.length-1],m=p?p.children.indexOf(h):void 0;return l(h,m,p)}}const Z0={}.hasOwnProperty,bN={};function xN(r,e){const t=e||bN,n=new Map,s=new Map,o=new Map,l={...iN,...t.handlers},u={all:d,applyData:kN,definitionById:n,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:l,one:h,options:t,patch:SN,wrap:AN};return Fw(r,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const m=p.type==="definition"?n:s,y=String(p.identifier).toUpperCase();m.has(y)||m.set(y,p)}}),u;function h(p,m){const y=p.type,w=u.handlers[y];if(Z0.call(u.handlers,y)&&w)return w(u,p,m);if(u.options.passThrough&&u.options.passThrough.includes(y)){if("children"in p){const{children:S,...A}=p,k=ag(A);return k.children=u.all(p),k}return ag(p)}return(u.options.unknownHandler||_N)(u,p,m)}function d(p){const m=[];if("children"in p){const y=p.children;let w=-1;for(;++w<y.length;){const x=u.one(y[w],p);if(x){if(w&&y[w-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=ek(x.value)),!Array.isArray(x)&&x.type==="element")){const S=x.children[0];S&&S.type==="text"&&(S.value=ek(S.value))}Array.isArray(x)?m.push(...x):m.push(x)}}}return m}}function SN(r,e){r.position&&(e.position=lF(r))}function kN(r,e){let t=e;if(r&&r.data){const n=r.data.hName,s=r.data.hChildren,o=r.data.hProperties;if(typeof n=="string")if(t.type==="element")t.tagName=n;else{const l="children"in t?t.children:[t];t={type:"element",tagName:n,properties:{},children:l}}t.type==="element"&&o&&Object.assign(t.properties,ag(o)),"children"in t&&t.children&&s!==null&&s!==void 0&&(t.children=s)}return t}function _N(r,e){const t=e.data||{},n="value"in e&&!(Z0.call(t,"hProperties")||Z0.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:r.all(e)};return r.patch(e,n),r.applyData(e,n)}function AN(r,e){const t=[];let n=-1;for(e&&t.push({type:"text",value:`
`});++n<r.length;)n&&t.push({type:"text",value:`
`}),t.push(r[n]);return e&&r.length>0&&t.push({type:"text",value:`
`}),t}function ek(r){let e=0,t=r.charCodeAt(e);for(;t===9||t===32;)e++,t=r.charCodeAt(e);return r.slice(e)}function tk(r,e){const t=xN(r,e),n=t.one(r,void 0),s=hN(t),o=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function EN(r,e){return r&&"run"in r?async function(t,n){const s=tk(t,{file:n,...e});await r.run(s,n)}:function(t,n){return tk(t,{file:n,...r||e})}}function nk(r){if(r)throw r}var uv,rk;function CN(){if(rk)return uv;rk=1;var r=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},o=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var p=r.call(d,"constructor"),m=d.constructor&&d.constructor.prototype&&r.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!p&&!m)return!1;var y;for(y in d);return typeof y>"u"||r.call(d,y)},l=function(d,p){t&&p.name==="__proto__"?t(d,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):d[p.name]=p.newValue},u=function(d,p){if(p==="__proto__")if(r.call(d,p)){if(n)return n(d,p).value}else return;return d[p]};return uv=function h(){var d,p,m,y,w,x,S=arguments[0],A=1,k=arguments.length,P=!1;for(typeof S=="boolean"&&(P=S,S=arguments[1]||{},A=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});A<k;++A)if(d=arguments[A],d!=null)for(p in d)m=u(S,p),y=u(d,p),S!==y&&(P&&y&&(o(y)||(w=s(y)))?(w?(w=!1,x=m&&s(m)?m:[]):x=m&&o(m)?m:{},l(S,{name:p,newValue:h(P,x,y)})):typeof y<"u"&&l(S,{name:p,newValue:y}));return S},uv}var TN=CN();const cv=iw(TN);function ew(r){if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)}function PN(){const r=[],e={run:t,use:n};return e;function t(...s){let o=-1;const l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...s);function u(h,...d){const p=r[++o];let m=-1;if(h){l(h);return}for(;++m<s.length;)(d[m]===null||d[m]===void 0)&&(d[m]=s[m]);s=d,p?RN(p,u)(...d):l(null,...d)}}function n(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return r.push(s),e}}function RN(r,e){let t;return n;function n(...l){const u=r.length>l.length;let h;u&&l.push(s);try{h=r.apply(this,l)}catch(d){const p=d;if(u&&t)throw p;return s(p)}u||(h&&h.then&&typeof h.then=="function"?h.then(o,s):h instanceof Error?s(h):o(h))}function s(l,...u){t||(t=!0,e(l,...u))}function o(l){s(null,l)}}const hi={basename:LN,dirname:IN,extname:MN,join:DN,sep:"/"};function LN(r,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Qd(r);let t=0,n=-1,s=r.length,o;if(e===void 0||e.length===0||e.length>r.length){for(;s--;)if(r.codePointAt(s)===47){if(o){t=s+1;break}}else n<0&&(o=!0,n=s+1);return n<0?"":r.slice(t,n)}if(e===r)return"";let l=-1,u=e.length-1;for(;s--;)if(r.codePointAt(s)===47){if(o){t=s+1;break}}else l<0&&(o=!0,l=s+1),u>-1&&(r.codePointAt(s)===e.codePointAt(u--)?u<0&&(n=s):(u=-1,n=l));return t===n?n=l:n<0&&(n=r.length),r.slice(t,n)}function IN(r){if(Qd(r),r.length===0)return".";let e=-1,t=r.length,n;for(;--t;)if(r.codePointAt(t)===47){if(n){e=t;break}}else n||(n=!0);return e<0?r.codePointAt(0)===47?"/":".":e===1&&r.codePointAt(0)===47?"//":r.slice(0,e)}function MN(r){Qd(r);let e=r.length,t=-1,n=0,s=-1,o=0,l;for(;e--;){const u=r.codePointAt(e);if(u===47){if(l){n=e+1;break}continue}t<0&&(l=!0,t=e+1),u===46?s<0?s=e:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||t<0||o===0||o===1&&s===t-1&&s===n+1?"":r.slice(s,t)}function DN(...r){let e=-1,t;for(;++e<r.length;)Qd(r[e]),r[e]&&(t=t===void 0?r[e]:t+"/"+r[e]);return t===void 0?".":FN(t)}function FN(r){Qd(r);const e=r.codePointAt(0)===47;let t=ON(r,!e);return t.length===0&&!e&&(t="."),t.length>0&&r.codePointAt(r.length-1)===47&&(t+="/"),e?"/"+t:t}function ON(r,e){let t="",n=0,s=-1,o=0,l=-1,u,h;for(;++l<=r.length;){if(l<r.length)u=r.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(s===l-1||o===1))if(s!==l-1&&o===2){if(t.length<2||n!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(h=t.lastIndexOf("/"),h!==t.length-1){h<0?(t="",n=0):(t=t.slice(0,h),n=t.length-1-t.lastIndexOf("/")),s=l,o=0;continue}}else if(t.length>0){t="",n=0,s=l,o=0;continue}}e&&(t=t.length>0?t+"/..":"..",n=2)}else t.length>0?t+="/"+r.slice(s+1,l):t=r.slice(s+1,l),n=l-s-1;s=l,o=0}else u===46&&o>-1?o++:o=-1}return t}function Qd(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}const NN={cwd:zN};function zN(){return"/"}function tw(r){return!!(r!==null&&typeof r=="object"&&"href"in r&&r.href&&"protocol"in r&&r.protocol&&r.auth===void 0)}function jN(r){if(typeof r=="string")r=new URL(r);else if(!tw(r)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+r+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(r.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return BN(r)}function BN(r){if(r.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const e=r.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const n=e.codePointAt(t+2);if(n===70||n===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const hv=["history","path","basename","stem","extname","dirname"];class PE{constructor(e){let t;e?tw(e)?t={path:e}:typeof e=="string"||HN(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":NN.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<hv.length;){const o=hv[n];o in t&&t[o]!==void 0&&t[o]!==null&&(this[o]=o==="history"?[...t[o]]:t[o])}let s;for(s in t)hv.includes(s)||(this[s]=t[s])}get basename(){return typeof this.path=="string"?hi.basename(this.path):void 0}set basename(e){fv(e,"basename"),dv(e,"basename"),this.path=hi.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?hi.dirname(this.path):void 0}set dirname(e){ik(this.basename,"dirname"),this.path=hi.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?hi.extname(this.path):void 0}set extname(e){if(dv(e,"extname"),ik(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=hi.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){tw(e)&&(e=jN(e)),fv(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?hi.basename(this.path,this.extname):void 0}set stem(e){fv(e,"stem"),dv(e,"stem"),this.path=hi.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const s=this.message(e,t,n);throw s.fatal=!0,s}info(e,t,n){const s=this.message(e,t,n);return s.fatal=void 0,s}message(e,t,n){const s=new wn(e,t,n);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function dv(r,e){if(r&&r.includes(hi.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+hi.sep+"`")}function fv(r,e){if(!r)throw new Error("`"+e+"` cannot be empty")}function ik(r,e){if(!r)throw new Error("Setting `"+e+"` requires `path` to be set too")}function HN(r){return!!(r&&typeof r=="object"&&"byteLength"in r&&"byteOffset"in r)}const UN=function(r){const n=this.constructor.prototype,s=n[r],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,n),o},$N={}.hasOwnProperty;class Ow extends UN{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=PN()}copy(){const e=new Ow;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(cv(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(mv("data",this.frozen),this.namespace[e]=t,this):$N.call(this.namespace,e)&&this.namespace[e]||void 0:e?(mv("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const s=t.call(e,...n);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=mp(e),n=this.parser||this.Parser;return pv("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),pv("process",this.parser||this.Parser),gv("process",this.compiler||this.Compiler),t?s(void 0,t):new Promise(s);function s(o,l){const u=mp(e),h=n.parse(u);n.run(h,u,function(p,m,y){if(p||!m||!y)return d(p);const w=m,x=n.stringify(w,y);GN(x)?y.value=x:y.result=x,d(p,y)});function d(p,m){p||!m?l(p):o?o(m):t(void 0,m)}}}processSync(e){let t=!1,n;return this.freeze(),pv("processSync",this.parser||this.Parser),gv("processSync",this.compiler||this.Compiler),this.process(e,s),ok("processSync","process",t),n;function s(o,l){t=!0,nk(o),n=l}}run(e,t,n){sk(e),this.freeze();const s=this.transformers;return!n&&typeof t=="function"&&(n=t,t=void 0),n?o(void 0,n):new Promise(o);function o(l,u){const h=mp(t);s.run(e,h,d);function d(p,m,y){const w=m||e;p?u(p):l?l(w):n(void 0,w,y)}}}runSync(e,t){let n=!1,s;return this.run(e,t,o),ok("runSync","run",n),s;function o(l,u){nk(l),s=u,n=!0}}stringify(e,t){this.freeze();const n=mp(t),s=this.compiler||this.Compiler;return gv("stringify",s),sk(e),s(e,n)}use(e,...t){const n=this.attachers,s=this.namespace;if(mv("use",this.frozen),e!=null)if(typeof e=="function")h(e,t);else if(typeof e=="object")Array.isArray(e)?u(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(d){if(typeof d=="function")h(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[p,...m]=d;h(p,m)}else l(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function l(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(d.plugins),d.settings&&(s.settings=cv(!0,s.settings,d.settings))}function u(d){let p=-1;if(d!=null)if(Array.isArray(d))for(;++p<d.length;){const m=d[p];o(m)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function h(d,p){let m=-1,y=-1;for(;++m<n.length;)if(n[m][0]===d){y=m;break}if(y===-1)n.push([d,...p]);else if(p.length>0){let[w,...x]=p;const S=n[y][1];ew(S)&&ew(w)&&(w=cv(!0,S,w)),n[y]=[d,w,...x]}}}}const VN=new Ow().freeze();function pv(r,e){if(typeof e!="function")throw new TypeError("Cannot `"+r+"` without `parser`")}function gv(r,e){if(typeof e!="function")throw new TypeError("Cannot `"+r+"` without `compiler`")}function mv(r,e){if(e)throw new Error("Cannot call `"+r+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function sk(r){if(!ew(r)||typeof r.type!="string")throw new TypeError("Expected node, got `"+r+"`")}function ok(r,e,t){if(!t)throw new Error("`"+r+"` finished async. Use `"+e+"` instead")}function mp(r){return WN(r)?r:new PE(r)}function WN(r){return!!(r&&typeof r=="object"&&"message"in r&&"messages"in r)}function GN(r){return typeof r=="string"||qN(r)}function qN(r){return!!(r&&typeof r=="object"&&"byteLength"in r&&"byteOffset"in r)}const XN="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ak=[],lk={allowDangerousHtml:!0},KN=/^(https?|ircs?|mailto|xmpp)$/i,YN=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function QN(r){const e=r.allowedElements,t=r.allowElement,n=r.children||"",s=r.className,o=r.components,l=r.disallowedElements,u=r.rehypePlugins||ak,h=r.remarkPlugins||ak,d=r.remarkRehypeOptions?{...r.remarkRehypeOptions,...lk}:lk,p=r.skipHtml,m=r.unwrapDisallowed,y=r.urlTransform||JN,w=VN().use(I2).use(h).use(EN,d).use(u),x=new PE;typeof n=="string"&&(x.value=n);for(const P of YN)Object.hasOwn(r,P.from)&&(""+P.from+(P.to?"use `"+P.to+"` instead":"remove it")+XN+P.id,void 0);const S=w.parse(x);let A=w.runSync(S,x);return s&&(A={type:"element",tagName:"div",properties:{className:s},children:A.type==="root"?A.children:[A]}),Fw(A,k),pF(A,{Fragment:ie.Fragment,components:o,ignoreInvalidStyle:!0,jsx:ie.jsx,jsxs:ie.jsxs,passKeys:!0,passNode:!0});function k(P,R,F){if(P.type==="raw"&&F&&typeof R=="number")return p?F.children.splice(R,1):F.children[R]={type:"text",value:P.value},R;if(P.type==="element"){let N;for(N in ov)if(Object.hasOwn(ov,N)&&Object.hasOwn(P.properties,N)){const M=P.properties[N],$=ov[N];($===null||$.includes(P.tagName))&&(P.properties[N]=y(String(M||""),N,P))}}if(P.type==="element"){let N=e?!e.includes(P.tagName):l?l.includes(P.tagName):!1;if(!N&&t&&typeof R=="number"&&(N=!t(P,R,F)),N&&F&&typeof R=="number")return m&&P.children?F.children.splice(R,1,...P.children):F.children.splice(R,1),R}}}function JN(r){const e=r.indexOf(":"),t=r.indexOf("?"),n=r.indexOf("#"),s=r.indexOf("/");return e<0||s>-1&&e>s||t>-1&&e>t||n>-1&&e>n||KN.test(r.slice(0,e))?r:""}function uk(r,e){const t=String(r);if(typeof e!="string")throw new TypeError("Expected character");let n=0,s=t.indexOf(e);for(;s!==-1;)n++,s=t.indexOf(e,s+e.length);return n}function ZN(r){if(typeof r!="string")throw new TypeError("Expected a string");return r.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function ez(r,e,t){const s=Yg((t||{}).ignore||[]),o=tz(e);let l=-1;for(;++l<o.length;)TE(r,"text",u);function u(d,p){let m=-1,y;for(;++m<p.length;){const w=p[m],x=y?y.children:void 0;if(s(w,x?x.indexOf(w):void 0,y))return;y=w}if(y)return h(d,p)}function h(d,p){const m=p[p.length-1],y=o[l][0],w=o[l][1];let x=0;const A=m.children.indexOf(d);let k=!1,P=[];y.lastIndex=0;let R=y.exec(d.value);for(;R;){const F=R.index,N={index:R.index,input:R.input,stack:[...p,d]};let M=w(...R,N);if(typeof M=="string"&&(M=M.length>0?{type:"text",value:M}:void 0),M===!1?y.lastIndex=F+1:(x!==F&&P.push({type:"text",value:d.value.slice(x,F)}),Array.isArray(M)?P.push(...M):M&&P.push(M),x=F+R[0].length,k=!0),!y.global)break;R=y.exec(d.value)}return k?(x<d.value.length&&P.push({type:"text",value:d.value.slice(x)}),m.children.splice(A,1,...P)):P=[d],A+P.length}}function tz(r){const e=[];if(!Array.isArray(r))throw new TypeError("Expected find and replace tuple or list of tuples");const t=!r[0]||Array.isArray(r[0])?r:[r];let n=-1;for(;++n<t.length;){const s=t[n];e.push([nz(s[0]),rz(s[1])])}return e}function nz(r){return typeof r=="string"?new RegExp(ZN(r),"g"):r}function rz(r){return typeof r=="function"?r:function(){return r}}const yv="phrasing",vv=["autolink","link","image","label"];function iz(){return{transforms:[hz],enter:{literalAutolink:oz,literalAutolinkEmail:wv,literalAutolinkHttp:wv,literalAutolinkWww:wv},exit:{literalAutolink:cz,literalAutolinkEmail:uz,literalAutolinkHttp:az,literalAutolinkWww:lz}}}function sz(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:yv,notInConstruct:vv},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:yv,notInConstruct:vv},{character:":",before:"[ps]",after:"\\/",inConstruct:yv,notInConstruct:vv}]}}function oz(r){this.enter({type:"link",title:null,url:"",children:[]},r)}function wv(r){this.config.enter.autolinkProtocol.call(this,r)}function az(r){this.config.exit.autolinkProtocol.call(this,r)}function lz(r){this.config.exit.data.call(this,r);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(r)}function uz(r){this.config.exit.autolinkEmail.call(this,r)}function cz(r){this.exit(r)}function hz(r){ez(r,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,dz],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),fz]],{ignore:["link","linkReference"]})}function dz(r,e,t,n,s){let o="";if(!RE(s)||(/^w/i.test(e)&&(t=e+t,e="",o="http://"),!pz(t)))return!1;const l=gz(t+n);if(!l[0])return!1;const u={type:"link",title:null,url:o+e+l[0],children:[{type:"text",value:e+l[0]}]};return l[1]?[u,{type:"text",value:l[1]}]:u}function fz(r,e,t,n){return!RE(n,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+t,children:[{type:"text",value:e+"@"+t}]}}function pz(r){const e=r.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function gz(r){const e=/[!"&'),.:;<>?\]}]+$/.exec(r);if(!e)return[r,void 0];r=r.slice(0,e.index);let t=e[0],n=t.indexOf(")");const s=uk(r,"(");let o=uk(r,")");for(;n!==-1&&s>o;)r+=t.slice(0,n+1),t=t.slice(n+1),n=t.indexOf(")"),o++;return[r,t]}function RE(r,e){const t=r.input.charCodeAt(r.index-1);return(r.index===0||Ja(t)||qg(t))&&(!e||t!==47)}LE.peek=Ez;function mz(){return{enter:{gfmFootnoteDefinition:vz,gfmFootnoteDefinitionLabelString:wz,gfmFootnoteCall:Sz,gfmFootnoteCallString:kz},exit:{gfmFootnoteDefinition:xz,gfmFootnoteDefinitionLabelString:bz,gfmFootnoteCall:Az,gfmFootnoteCallString:_z}}}function yz(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:Cz,footnoteReference:LE}}}function vz(r){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},r)}function wz(){this.buffer()}function bz(r){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.label=e,t.identifier=Zr(this.sliceSerialize(r)).toLowerCase()}function xz(r){this.exit(r)}function Sz(r){this.enter({type:"footnoteReference",identifier:"",label:""},r)}function kz(){this.buffer()}function _z(r){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.label=e,t.identifier=Zr(this.sliceSerialize(r)).toLowerCase()}function Az(r){this.exit(r)}function LE(r,e,t,n){const s=t.createTracker(n);let o=s.move("[^");const l=t.enter("footnoteReference"),u=t.enter("reference");return o+=s.move(t.safe(t.associationId(r),{...s.current(),before:o,after:"]"})),u(),l(),o+=s.move("]"),o}function Ez(){return"["}function Cz(r,e,t,n){const s=t.createTracker(n);let o=s.move("[^");const l=t.enter("footnoteDefinition"),u=t.enter("label");return o+=s.move(t.safe(t.associationId(r),{...s.current(),before:o,after:"]"})),u(),o+=s.move("]:"+(r.children&&r.children.length>0?" ":"")),s.shift(4),o+=s.move(t.indentLines(t.containerFlow(r,s.current()),Tz)),l(),o}function Tz(r,e,t){return e===0?r:(t?"":"    ")+r}const Pz=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];IE.peek=Dz;function Rz(){return{canContainEols:["delete"],enter:{strikethrough:Iz},exit:{strikethrough:Mz}}}function Lz(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Pz}],handlers:{delete:IE}}}function Iz(r){this.enter({type:"delete",children:[]},r)}function Mz(r){this.exit(r)}function IE(r,e,t,n){const s=t.createTracker(n),o=t.enter("strikethrough");let l=s.move("~~");return l+=t.containerPhrasing(r,{...s.current(),before:l,after:"~"}),l+=s.move("~~"),o(),l}function Dz(){return"~"}function Fz(r){return r.length}function Oz(r,e){const t=e||{},n=(t.align||[]).concat(),s=t.stringLength||Fz,o=[],l=[],u=[],h=[];let d=0,p=-1;for(;++p<r.length;){const S=[],A=[];let k=-1;for(r[p].length>d&&(d=r[p].length);++k<r[p].length;){const P=Nz(r[p][k]);if(t.alignDelimiters!==!1){const R=s(P);A[k]=R,(h[k]===void 0||R>h[k])&&(h[k]=R)}S.push(P)}l[p]=S,u[p]=A}let m=-1;if(typeof n=="object"&&"length"in n)for(;++m<d;)o[m]=ck(n[m]);else{const S=ck(n);for(;++m<d;)o[m]=S}m=-1;const y=[],w=[];for(;++m<d;){const S=o[m];let A="",k="";S===99?(A=":",k=":"):S===108?A=":":S===114&&(k=":");let P=t.alignDelimiters===!1?1:Math.max(1,h[m]-A.length-k.length);const R=A+"-".repeat(P)+k;t.alignDelimiters!==!1&&(P=A.length+P+k.length,P>h[m]&&(h[m]=P),w[m]=P),y[m]=R}l.splice(1,0,y),u.splice(1,0,w),p=-1;const x=[];for(;++p<l.length;){const S=l[p],A=u[p];m=-1;const k=[];for(;++m<d;){const P=S[m]||"";let R="",F="";if(t.alignDelimiters!==!1){const N=h[m]-(A[m]||0),M=o[m];M===114?R=" ".repeat(N):M===99?N%2?(R=" ".repeat(N/2+.5),F=" ".repeat(N/2-.5)):(R=" ".repeat(N/2),F=R):F=" ".repeat(N)}t.delimiterStart!==!1&&!m&&k.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&P==="")&&(t.delimiterStart!==!1||m)&&k.push(" "),t.alignDelimiters!==!1&&k.push(R),k.push(P),t.alignDelimiters!==!1&&k.push(F),t.padding!==!1&&k.push(" "),(t.delimiterEnd!==!1||m!==d-1)&&k.push("|")}x.push(t.delimiterEnd===!1?k.join("").replace(/ +$/,""):k.join(""))}return x.join(`
`)}function Nz(r){return r==null?"":String(r)}function ck(r){const e=typeof r=="string"?r.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function zz(r,e,t,n){const s=t.enter("blockquote"),o=t.createTracker(n);o.move("> "),o.shift(2);const l=t.indentLines(t.containerFlow(r,o.current()),jz);return s(),l}function jz(r,e,t){return">"+(t?"":" ")+r}function Bz(r,e){return hk(r,e.inConstruct,!0)&&!hk(r,e.notInConstruct,!1)}function hk(r,e,t){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return t;let n=-1;for(;++n<e.length;)if(r.includes(e[n]))return!0;return!1}function dk(r,e,t,n){let s=-1;for(;++s<t.unsafe.length;)if(t.unsafe[s].character===`
`&&Bz(t.stack,t.unsafe[s]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function Hz(r,e){const t=String(r);let n=t.indexOf(e),s=n,o=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===s?++o>l&&(l=o):o=1,s=n+e.length,n=t.indexOf(e,s);return l}function Uz(r,e){return!!(e.options.fences===!1&&r.value&&!r.lang&&/[^ \r\n]/.test(r.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(r.value))}function $z(r){const e=r.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Vz(r,e,t,n){const s=$z(t),o=r.value||"",l=s==="`"?"GraveAccent":"Tilde";if(Uz(r,t)){const m=t.enter("codeIndented"),y=t.indentLines(o,Wz);return m(),y}const u=t.createTracker(n),h=s.repeat(Math.max(Hz(o,s)+1,3)),d=t.enter("codeFenced");let p=u.move(h);if(r.lang){const m=t.enter(`codeFencedLang${l}`);p+=u.move(t.safe(r.lang,{before:p,after:" ",encode:["`"],...u.current()})),m()}if(r.lang&&r.meta){const m=t.enter(`codeFencedMeta${l}`);p+=u.move(" "),p+=u.move(t.safe(r.meta,{before:p,after:`
`,encode:["`"],...u.current()})),m()}return p+=u.move(`
`),o&&(p+=u.move(o+`
`)),p+=u.move(h),d(),p}function Wz(r,e,t){return(t?"":"    ")+r}function Nw(r){const e=r.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function Gz(r,e,t,n){const s=Nw(t),o=s==='"'?"Quote":"Apostrophe",l=t.enter("definition");let u=t.enter("label");const h=t.createTracker(n);let d=h.move("[");return d+=h.move(t.safe(t.associationId(r),{before:d,after:"]",...h.current()})),d+=h.move("]: "),u(),!r.url||/[\0- \u007F]/.test(r.url)?(u=t.enter("destinationLiteral"),d+=h.move("<"),d+=h.move(t.safe(r.url,{before:d,after:">",...h.current()})),d+=h.move(">")):(u=t.enter("destinationRaw"),d+=h.move(t.safe(r.url,{before:d,after:r.title?" ":`
`,...h.current()}))),u(),r.title&&(u=t.enter(`title${o}`),d+=h.move(" "+s),d+=h.move(t.safe(r.title,{before:d,after:s,...h.current()})),d+=h.move(s),u()),l(),d}function qz(r){const e=r.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function uh(r){return"&#x"+r.toString(16).toUpperCase()+";"}function lg(r,e,t){const n=Wu(r),s=Wu(e);return n===void 0?s===void 0?t==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}ME.peek=Xz;function ME(r,e,t,n){const s=qz(t),o=t.enter("emphasis"),l=t.createTracker(n),u=l.move(s);let h=l.move(t.containerPhrasing(r,{after:s,before:u,...l.current()}));const d=h.charCodeAt(0),p=lg(n.before.charCodeAt(n.before.length-1),d,s);p.inside&&(h=uh(d)+h.slice(1));const m=h.charCodeAt(h.length-1),y=lg(n.after.charCodeAt(0),m,s);y.inside&&(h=h.slice(0,-1)+uh(m));const w=l.move(s);return o(),t.attentionEncodeSurroundingInfo={after:y.outside,before:p.outside},u+h+w}function Xz(r,e,t){return t.options.emphasis||"*"}function Kz(r,e){let t=!1;return Fw(r,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return t=!0,J0}),!!((!r.depth||r.depth<3)&&Tw(r)&&(e.options.setext||t))}function Yz(r,e,t,n){const s=Math.max(Math.min(6,r.depth||1),1),o=t.createTracker(n);if(Kz(r,t)){const p=t.enter("headingSetext"),m=t.enter("phrasing"),y=t.containerPhrasing(r,{...o.current(),before:`
`,after:`
`});return m(),p(),y+`
`+(s===1?"=":"-").repeat(y.length-(Math.max(y.lastIndexOf("\r"),y.lastIndexOf(`
`))+1))}const l="#".repeat(s),u=t.enter("headingAtx"),h=t.enter("phrasing");o.move(l+" ");let d=t.containerPhrasing(r,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(d)&&(d=uh(d.charCodeAt(0))+d.slice(1)),d=d?l+" "+d:l,t.options.closeAtx&&(d+=" "+l),h(),u(),d}DE.peek=Qz;function DE(r){return r.value||""}function Qz(){return"<"}FE.peek=Jz;function FE(r,e,t,n){const s=Nw(t),o=s==='"'?"Quote":"Apostrophe",l=t.enter("image");let u=t.enter("label");const h=t.createTracker(n);let d=h.move("![");return d+=h.move(t.safe(r.alt,{before:d,after:"]",...h.current()})),d+=h.move("]("),u(),!r.url&&r.title||/[\0- \u007F]/.test(r.url)?(u=t.enter("destinationLiteral"),d+=h.move("<"),d+=h.move(t.safe(r.url,{before:d,after:">",...h.current()})),d+=h.move(">")):(u=t.enter("destinationRaw"),d+=h.move(t.safe(r.url,{before:d,after:r.title?" ":")",...h.current()}))),u(),r.title&&(u=t.enter(`title${o}`),d+=h.move(" "+s),d+=h.move(t.safe(r.title,{before:d,after:s,...h.current()})),d+=h.move(s),u()),d+=h.move(")"),l(),d}function Jz(){return"!"}OE.peek=Zz;function OE(r,e,t,n){const s=r.referenceType,o=t.enter("imageReference");let l=t.enter("label");const u=t.createTracker(n);let h=u.move("![");const d=t.safe(r.alt,{before:h,after:"]",...u.current()});h+=u.move(d+"]["),l();const p=t.stack;t.stack=[],l=t.enter("reference");const m=t.safe(t.associationId(r),{before:h,after:"]",...u.current()});return l(),t.stack=p,o(),s==="full"||!d||d!==m?h+=u.move(m+"]"):s==="shortcut"?h=h.slice(0,-1):h+=u.move("]"),h}function Zz(){return"!"}NE.peek=e3;function NE(r,e,t){let n=r.value||"",s="`",o=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(n);)s+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++o<t.unsafe.length;){const l=t.unsafe[o],u=t.compilePattern(l);let h;if(l.atBreak)for(;h=u.exec(n);){let d=h.index;n.charCodeAt(d)===10&&n.charCodeAt(d-1)===13&&d--,n=n.slice(0,d)+" "+n.slice(h.index+1)}}return s+n+s}function e3(){return"`"}function zE(r,e){const t=Tw(r);return!!(!e.options.resourceLink&&r.url&&!r.title&&r.children&&r.children.length===1&&r.children[0].type==="text"&&(t===r.url||"mailto:"+t===r.url)&&/^[a-z][a-z+.-]+:/i.test(r.url)&&!/[\0- <>\u007F]/.test(r.url))}jE.peek=t3;function jE(r,e,t,n){const s=Nw(t),o=s==='"'?"Quote":"Apostrophe",l=t.createTracker(n);let u,h;if(zE(r,t)){const p=t.stack;t.stack=[],u=t.enter("autolink");let m=l.move("<");return m+=l.move(t.containerPhrasing(r,{before:m,after:">",...l.current()})),m+=l.move(">"),u(),t.stack=p,m}u=t.enter("link"),h=t.enter("label");let d=l.move("[");return d+=l.move(t.containerPhrasing(r,{before:d,after:"](",...l.current()})),d+=l.move("]("),h(),!r.url&&r.title||/[\0- \u007F]/.test(r.url)?(h=t.enter("destinationLiteral"),d+=l.move("<"),d+=l.move(t.safe(r.url,{before:d,after:">",...l.current()})),d+=l.move(">")):(h=t.enter("destinationRaw"),d+=l.move(t.safe(r.url,{before:d,after:r.title?" ":")",...l.current()}))),h(),r.title&&(h=t.enter(`title${o}`),d+=l.move(" "+s),d+=l.move(t.safe(r.title,{before:d,after:s,...l.current()})),d+=l.move(s),h()),d+=l.move(")"),u(),d}function t3(r,e,t){return zE(r,t)?"<":"["}BE.peek=n3;function BE(r,e,t,n){const s=r.referenceType,o=t.enter("linkReference");let l=t.enter("label");const u=t.createTracker(n);let h=u.move("[");const d=t.containerPhrasing(r,{before:h,after:"]",...u.current()});h+=u.move(d+"]["),l();const p=t.stack;t.stack=[],l=t.enter("reference");const m=t.safe(t.associationId(r),{before:h,after:"]",...u.current()});return l(),t.stack=p,o(),s==="full"||!d||d!==m?h+=u.move(m+"]"):s==="shortcut"?h=h.slice(0,-1):h+=u.move("]"),h}function n3(){return"["}function zw(r){const e=r.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function r3(r){const e=zw(r),t=r.options.bulletOther;if(!t)return e==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+t+"`) to be different");return t}function i3(r){const e=r.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function HE(r){const e=r.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function s3(r,e,t,n){const s=t.enter("list"),o=t.bulletCurrent;let l=r.ordered?i3(t):zw(t);const u=r.ordered?l==="."?")":".":r3(t);let h=e&&t.bulletLastUsed?l===t.bulletLastUsed:!1;if(!r.ordered){const p=r.children?r.children[0]:void 0;if((l==="*"||l==="-")&&p&&(!p.children||!p.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(h=!0),HE(t)===l&&p){let m=-1;for(;++m<r.children.length;){const y=r.children[m];if(y&&y.type==="listItem"&&y.children&&y.children[0]&&y.children[0].type==="thematicBreak"){h=!0;break}}}}h&&(l=u),t.bulletCurrent=l;const d=t.containerFlow(r,n);return t.bulletLastUsed=l,t.bulletCurrent=o,s(),d}function o3(r){const e=r.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function a3(r,e,t,n){const s=o3(t);let o=t.bulletCurrent||zw(t);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(t.options.incrementListMarker===!1?0:e.children.indexOf(r))+o);let l=o.length+1;(s==="tab"||s==="mixed"&&(e&&e.type==="list"&&e.spread||r.spread))&&(l=Math.ceil(l/4)*4);const u=t.createTracker(n);u.move(o+" ".repeat(l-o.length)),u.shift(l);const h=t.enter("listItem"),d=t.indentLines(t.containerFlow(r,u.current()),p);return h(),d;function p(m,y,w){return y?(w?"":" ".repeat(l))+m:(w?o:o+" ".repeat(l-o.length))+m}}function l3(r,e,t,n){const s=t.enter("paragraph"),o=t.enter("phrasing"),l=t.containerPhrasing(r,n);return o(),s(),l}const u3=Yg(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function c3(r,e,t,n){return(r.children.some(function(l){return u3(l)})?t.containerPhrasing:t.containerFlow).call(t,r,n)}function h3(r){const e=r.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}UE.peek=d3;function UE(r,e,t,n){const s=h3(t),o=t.enter("strong"),l=t.createTracker(n),u=l.move(s+s);let h=l.move(t.containerPhrasing(r,{after:s,before:u,...l.current()}));const d=h.charCodeAt(0),p=lg(n.before.charCodeAt(n.before.length-1),d,s);p.inside&&(h=uh(d)+h.slice(1));const m=h.charCodeAt(h.length-1),y=lg(n.after.charCodeAt(0),m,s);y.inside&&(h=h.slice(0,-1)+uh(m));const w=l.move(s+s);return o(),t.attentionEncodeSurroundingInfo={after:y.outside,before:p.outside},u+h+w}function d3(r,e,t){return t.options.strong||"*"}function f3(r,e,t,n){return t.safe(r.value,n)}function p3(r){const e=r.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function g3(r,e,t){const n=(HE(t)+(t.options.ruleSpaces?" ":"")).repeat(p3(t));return t.options.ruleSpaces?n.slice(0,-1):n}const $E={blockquote:zz,break:dk,code:Vz,definition:Gz,emphasis:ME,hardBreak:dk,heading:Yz,html:DE,image:FE,imageReference:OE,inlineCode:NE,link:jE,linkReference:BE,list:s3,listItem:a3,paragraph:l3,root:c3,strong:UE,text:f3,thematicBreak:g3};function m3(){return{enter:{table:y3,tableData:fk,tableHeader:fk,tableRow:w3},exit:{codeText:b3,table:v3,tableData:bv,tableHeader:bv,tableRow:bv}}}function y3(r){const e=r._align;this.enter({type:"table",align:e.map(function(t){return t==="none"?null:t}),children:[]},r),this.data.inTable=!0}function v3(r){this.exit(r),this.data.inTable=void 0}function w3(r){this.enter({type:"tableRow",children:[]},r)}function bv(r){this.exit(r)}function fk(r){this.enter({type:"tableCell",children:[]},r)}function b3(r){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,x3));const t=this.stack[this.stack.length-1];t.type,t.value=e,this.exit(r)}function x3(r,e){return e==="|"?e:r}function S3(r){const e=r||{},t=e.tableCellPadding,n=e.tablePipeAlign,s=e.stringLength,o=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:y,table:l,tableCell:h,tableRow:u}};function l(w,x,S,A){return d(p(w,S,A),w.align)}function u(w,x,S,A){const k=m(w,S,A),P=d([k]);return P.slice(0,P.indexOf(`
`))}function h(w,x,S,A){const k=S.enter("tableCell"),P=S.enter("phrasing"),R=S.containerPhrasing(w,{...A,before:o,after:o});return P(),k(),R}function d(w,x){return Oz(w,{align:x,alignDelimiters:n,padding:t,stringLength:s})}function p(w,x,S){const A=w.children;let k=-1;const P=[],R=x.enter("table");for(;++k<A.length;)P[k]=m(A[k],x,S);return R(),P}function m(w,x,S){const A=w.children;let k=-1;const P=[],R=x.enter("tableRow");for(;++k<A.length;)P[k]=h(A[k],w,x,S);return R(),P}function y(w,x,S){let A=$E.inlineCode(w,x,S);return S.stack.includes("tableCell")&&(A=A.replace(/\|/g,"\\$&")),A}}function k3(){return{exit:{taskListCheckValueChecked:pk,taskListCheckValueUnchecked:pk,paragraph:A3}}}function _3(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:E3}}}function pk(r){const e=this.stack[this.stack.length-2];e.type,e.checked=r.type==="taskListCheckValueChecked"}function A3(r){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const t=this.stack[this.stack.length-1];t.type;const n=t.children[0];if(n&&n.type==="text"){const s=e.children;let o=-1,l;for(;++o<s.length;){const u=s[o];if(u.type==="paragraph"){l=u;break}}l===t&&(n.value=n.value.slice(1),n.value.length===0?t.children.shift():t.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,t.position.start=Object.assign({},n.position.start)))}}this.exit(r)}function E3(r,e,t,n){const s=r.children[0],o=typeof r.checked=="boolean"&&s&&s.type==="paragraph",l="["+(r.checked?"x":" ")+"] ",u=t.createTracker(n);o&&u.move(l);let h=$E.listItem(r,e,t,{...n,...u.current()});return o&&(h=h.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),h;function d(p){return p+l}}function C3(){return[iz(),mz(),Rz(),m3(),k3()]}function T3(r){return{extensions:[sz(),yz(),Lz(),S3(r),_3()]}}const P3={tokenize:F3,partial:!0},VE={tokenize:O3,partial:!0},WE={tokenize:N3,partial:!0},GE={tokenize:z3,partial:!0},R3={tokenize:j3,partial:!0},qE={name:"wwwAutolink",tokenize:M3,previous:KE},XE={name:"protocolAutolink",tokenize:D3,previous:YE},Cs={name:"emailAutolink",tokenize:I3,previous:QE},Li={};function L3(){return{text:Li}}let Vo=48;for(;Vo<123;)Li[Vo]=Cs,Vo++,Vo===58?Vo=65:Vo===91&&(Vo=97);Li[43]=Cs;Li[45]=Cs;Li[46]=Cs;Li[95]=Cs;Li[72]=[Cs,XE];Li[104]=[Cs,XE];Li[87]=[Cs,qE];Li[119]=[Cs,qE];function I3(r,e,t){const n=this;let s,o;return l;function l(m){return!nw(m)||!QE.call(n,n.previous)||jw(n.events)?t(m):(r.enter("literalAutolink"),r.enter("literalAutolinkEmail"),u(m))}function u(m){return nw(m)?(r.consume(m),u):m===64?(r.consume(m),h):t(m)}function h(m){return m===46?r.check(R3,p,d)(m):m===45||m===95||vn(m)?(o=!0,r.consume(m),h):p(m)}function d(m){return r.consume(m),s=!0,h}function p(m){return o&&s&&Cn(n.previous)?(r.exit("literalAutolinkEmail"),r.exit("literalAutolink"),e(m)):t(m)}}function M3(r,e,t){const n=this;return s;function s(l){return l!==87&&l!==119||!KE.call(n,n.previous)||jw(n.events)?t(l):(r.enter("literalAutolink"),r.enter("literalAutolinkWww"),r.check(P3,r.attempt(VE,r.attempt(WE,o),t),t)(l))}function o(l){return r.exit("literalAutolinkWww"),r.exit("literalAutolink"),e(l)}}function D3(r,e,t){const n=this;let s="",o=!1;return l;function l(m){return(m===72||m===104)&&YE.call(n,n.previous)&&!jw(n.events)?(r.enter("literalAutolink"),r.enter("literalAutolinkHttp"),s+=String.fromCodePoint(m),r.consume(m),u):t(m)}function u(m){if(Cn(m)&&s.length<5)return s+=String.fromCodePoint(m),r.consume(m),u;if(m===58){const y=s.toLowerCase();if(y==="http"||y==="https")return r.consume(m),h}return t(m)}function h(m){return m===47?(r.consume(m),o?d:(o=!0,h)):t(m)}function d(m){return m===null||ig(m)||ut(m)||Ja(m)||qg(m)?t(m):r.attempt(VE,r.attempt(WE,p),t)(m)}function p(m){return r.exit("literalAutolinkHttp"),r.exit("literalAutolink"),e(m)}}function F3(r,e,t){let n=0;return s;function s(l){return(l===87||l===119)&&n<3?(n++,r.consume(l),s):l===46&&n===3?(r.consume(l),o):t(l)}function o(l){return l===null?t(l):e(l)}}function O3(r,e,t){let n,s,o;return l;function l(d){return d===46||d===95?r.check(GE,h,u)(d):d===null||ut(d)||Ja(d)||d!==45&&qg(d)?h(d):(o=!0,r.consume(d),l)}function u(d){return d===95?n=!0:(s=n,n=void 0),r.consume(d),l}function h(d){return s||n||!o?t(d):e(d)}}function N3(r,e){let t=0,n=0;return s;function s(l){return l===40?(t++,r.consume(l),s):l===41&&n<t?o(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?r.check(GE,e,o)(l):l===null||ut(l)||Ja(l)?e(l):(r.consume(l),s)}function o(l){return l===41&&n++,r.consume(l),s}}function z3(r,e,t){return n;function n(u){return u===33||u===34||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===63||u===95||u===126?(r.consume(u),n):u===38?(r.consume(u),o):u===93?(r.consume(u),s):u===60||u===null||ut(u)||Ja(u)?e(u):t(u)}function s(u){return u===null||u===40||u===91||ut(u)||Ja(u)?e(u):n(u)}function o(u){return Cn(u)?l(u):t(u)}function l(u){return u===59?(r.consume(u),n):Cn(u)?(r.consume(u),l):t(u)}}function j3(r,e,t){return n;function n(o){return r.consume(o),s}function s(o){return vn(o)?t(o):e(o)}}function KE(r){return r===null||r===40||r===42||r===95||r===91||r===93||r===126||ut(r)}function YE(r){return!Cn(r)}function QE(r){return!(r===47||nw(r))}function nw(r){return r===43||r===45||r===46||r===95||vn(r)}function jw(r){let e=r.length,t=!1;for(;e--;){const n=r[e][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){t=!0;break}if(n._gfmAutolinkLiteralWalkedInto){t=!1;break}}return r.length>0&&!t&&(r[r.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}const B3={tokenize:X3,partial:!0};function H3(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:W3,continuation:{tokenize:G3},exit:q3}},text:{91:{name:"gfmFootnoteCall",tokenize:V3},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:U3,resolveTo:$3}}}}function U3(r,e,t){const n=this;let s=n.events.length;const o=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let l;for(;s--;){const h=n.events[s][1];if(h.type==="labelImage"){l=h;break}if(h.type==="gfmFootnoteCall"||h.type==="labelLink"||h.type==="label"||h.type==="image"||h.type==="link")break}return u;function u(h){if(!l||!l._balanced)return t(h);const d=Zr(n.sliceSerialize({start:l.end,end:n.now()}));return d.codePointAt(0)!==94||!o.includes(d.slice(1))?t(h):(r.enter("gfmFootnoteCallLabelMarker"),r.consume(h),r.exit("gfmFootnoteCallLabelMarker"),e(h))}}function $3(r,e){let t=r.length;for(;t--;)if(r[t][1].type==="labelImage"&&r[t][0]==="enter"){r[t][1];break}r[t+1][1].type="data",r[t+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},r[t+3][1].start),end:Object.assign({},r[r.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},r[t+3][1].end),end:Object.assign({},r[t+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},r[r.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},u=[r[t+1],r[t+2],["enter",n,e],r[t+3],r[t+4],["enter",s,e],["exit",s,e],["enter",o,e],["enter",l,e],["exit",l,e],["exit",o,e],r[r.length-2],r[r.length-1],["exit",n,e]];return r.splice(t,r.length-t+1,...u),r}function V3(r,e,t){const n=this,s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let o=0,l;return u;function u(m){return r.enter("gfmFootnoteCall"),r.enter("gfmFootnoteCallLabelMarker"),r.consume(m),r.exit("gfmFootnoteCallLabelMarker"),h}function h(m){return m!==94?t(m):(r.enter("gfmFootnoteCallMarker"),r.consume(m),r.exit("gfmFootnoteCallMarker"),r.enter("gfmFootnoteCallString"),r.enter("chunkString").contentType="string",d)}function d(m){if(o>999||m===93&&!l||m===null||m===91||ut(m))return t(m);if(m===93){r.exit("chunkString");const y=r.exit("gfmFootnoteCallString");return s.includes(Zr(n.sliceSerialize(y)))?(r.enter("gfmFootnoteCallLabelMarker"),r.consume(m),r.exit("gfmFootnoteCallLabelMarker"),r.exit("gfmFootnoteCall"),e):t(m)}return ut(m)||(l=!0),o++,r.consume(m),m===92?p:d}function p(m){return m===91||m===92||m===93?(r.consume(m),o++,d):d(m)}}function W3(r,e,t){const n=this,s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let o,l=0,u;return h;function h(x){return r.enter("gfmFootnoteDefinition")._container=!0,r.enter("gfmFootnoteDefinitionLabel"),r.enter("gfmFootnoteDefinitionLabelMarker"),r.consume(x),r.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(x){return x===94?(r.enter("gfmFootnoteDefinitionMarker"),r.consume(x),r.exit("gfmFootnoteDefinitionMarker"),r.enter("gfmFootnoteDefinitionLabelString"),r.enter("chunkString").contentType="string",p):t(x)}function p(x){if(l>999||x===93&&!u||x===null||x===91||ut(x))return t(x);if(x===93){r.exit("chunkString");const S=r.exit("gfmFootnoteDefinitionLabelString");return o=Zr(n.sliceSerialize(S)),r.enter("gfmFootnoteDefinitionLabelMarker"),r.consume(x),r.exit("gfmFootnoteDefinitionLabelMarker"),r.exit("gfmFootnoteDefinitionLabel"),y}return ut(x)||(u=!0),l++,r.consume(x),x===92?m:p}function m(x){return x===91||x===92||x===93?(r.consume(x),l++,p):p(x)}function y(x){return x===58?(r.enter("definitionMarker"),r.consume(x),r.exit("definitionMarker"),s.includes(o)||s.push(o),qe(r,w,"gfmFootnoteDefinitionWhitespace")):t(x)}function w(x){return e(x)}}function G3(r,e,t){return r.check(Yd,e,r.attempt(B3,e,t))}function q3(r){r.exit("gfmFootnoteDefinition")}function X3(r,e,t){const n=this;return qe(r,s,"gfmFootnoteDefinitionIndent",5);function s(o){const l=n.events[n.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?e(o):t(o)}}function K3(r){let t=(r||{}).singleTilde;const n={name:"strikethrough",tokenize:o,resolveAll:s};return t==null&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function s(l,u){let h=-1;for(;++h<l.length;)if(l[h][0]==="enter"&&l[h][1].type==="strikethroughSequenceTemporary"&&l[h][1]._close){let d=h;for(;d--;)if(l[d][0]==="exit"&&l[d][1].type==="strikethroughSequenceTemporary"&&l[d][1]._open&&l[h][1].end.offset-l[h][1].start.offset===l[d][1].end.offset-l[d][1].start.offset){l[h][1].type="strikethroughSequence",l[d][1].type="strikethroughSequence";const p={type:"strikethrough",start:Object.assign({},l[d][1].start),end:Object.assign({},l[h][1].end)},m={type:"strikethroughText",start:Object.assign({},l[d][1].end),end:Object.assign({},l[h][1].start)},y=[["enter",p,u],["enter",l[d][1],u],["exit",l[d][1],u],["enter",m,u]],w=u.parser.constructs.insideSpan.null;w&&cr(y,y.length,0,Xg(w,l.slice(d+1,h),u)),cr(y,y.length,0,[["exit",m,u],["enter",l[h][1],u],["exit",l[h][1],u],["exit",p,u]]),cr(l,d-1,h-d+3,y),h=d+y.length-2;break}}for(h=-1;++h<l.length;)l[h][1].type==="strikethroughSequenceTemporary"&&(l[h][1].type="data");return l}function o(l,u,h){const d=this.previous,p=this.events;let m=0;return y;function y(x){return d===126&&p[p.length-1][1].type!=="characterEscape"?h(x):(l.enter("strikethroughSequenceTemporary"),w(x))}function w(x){const S=Wu(d);if(x===126)return m>1?h(x):(l.consume(x),m++,w);if(m<2&&!t)return h(x);const A=l.exit("strikethroughSequenceTemporary"),k=Wu(x);return A._open=!k||k===2&&!!S,A._close=!S||S===2&&!!k,u(x)}}}class Y3{constructor(){this.map=[]}add(e,t,n){Q3(this,e,t,n)}consume(e){if(this.map.sort(function(o,l){return o[0]-l[0]}),this.map.length===0)return;let t=this.map.length;const n=[];for(;t>0;)t-=1,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push([...e]),e.length=0;let s=n.pop();for(;s;)e.push(...s),s=n.pop();this.map.length=0}}function Q3(r,e,t,n){let s=0;if(!(t===0&&n.length===0)){for(;s<r.map.length;){if(r.map[s][0]===e){r.map[s][1]+=t,r.map[s][2].push(...n);return}s+=1}r.map.push([e,t,n])}}function J3(r,e){let t=!1;const n=[];for(;e<r.length;){const s=r[e];if(t){if(s[0]==="enter")s[1].type==="tableContent"&&n.push(r[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(r[e-1][1].type==="tableDelimiterMarker"){const o=n.length-1;n[o]=n[o]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(t=!0);e+=1}return n}function Z3(){return{flow:{null:{name:"table",tokenize:ej,resolveAll:tj}}}}function ej(r,e,t){const n=this;let s=0,o=0,l;return u;function u(z){let q=n.events.length-1;for(;q>-1;){const Y=n.events[q][1].type;if(Y==="lineEnding"||Y==="linePrefix")q--;else break}const ne=q>-1?n.events[q][1].type:null,J=ne==="tableHead"||ne==="tableRow"?M:h;return J===M&&n.parser.lazy[n.now().line]?t(z):J(z)}function h(z){return r.enter("tableHead"),r.enter("tableRow"),d(z)}function d(z){return z===124||(l=!0,o+=1),p(z)}function p(z){return z===null?t(z):Re(z)?o>1?(o=0,n.interrupt=!0,r.exit("tableRow"),r.enter("lineEnding"),r.consume(z),r.exit("lineEnding"),w):t(z):Ue(z)?qe(r,p,"whitespace")(z):(o+=1,l&&(l=!1,s+=1),z===124?(r.enter("tableCellDivider"),r.consume(z),r.exit("tableCellDivider"),l=!0,p):(r.enter("data"),m(z)))}function m(z){return z===null||z===124||ut(z)?(r.exit("data"),p(z)):(r.consume(z),z===92?y:m)}function y(z){return z===92||z===124?(r.consume(z),m):m(z)}function w(z){return n.interrupt=!1,n.parser.lazy[n.now().line]?t(z):(r.enter("tableDelimiterRow"),l=!1,Ue(z)?qe(r,x,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):x(z))}function x(z){return z===45||z===58?A(z):z===124?(l=!0,r.enter("tableCellDivider"),r.consume(z),r.exit("tableCellDivider"),S):N(z)}function S(z){return Ue(z)?qe(r,A,"whitespace")(z):A(z)}function A(z){return z===58?(o+=1,l=!0,r.enter("tableDelimiterMarker"),r.consume(z),r.exit("tableDelimiterMarker"),k):z===45?(o+=1,k(z)):z===null||Re(z)?F(z):N(z)}function k(z){return z===45?(r.enter("tableDelimiterFiller"),P(z)):N(z)}function P(z){return z===45?(r.consume(z),P):z===58?(l=!0,r.exit("tableDelimiterFiller"),r.enter("tableDelimiterMarker"),r.consume(z),r.exit("tableDelimiterMarker"),R):(r.exit("tableDelimiterFiller"),R(z))}function R(z){return Ue(z)?qe(r,F,"whitespace")(z):F(z)}function F(z){return z===124?x(z):z===null||Re(z)?!l||s!==o?N(z):(r.exit("tableDelimiterRow"),r.exit("tableHead"),e(z)):N(z)}function N(z){return t(z)}function M(z){return r.enter("tableRow"),$(z)}function $(z){return z===124?(r.enter("tableCellDivider"),r.consume(z),r.exit("tableCellDivider"),$):z===null||Re(z)?(r.exit("tableRow"),e(z)):Ue(z)?qe(r,$,"whitespace")(z):(r.enter("data"),W(z))}function W(z){return z===null||z===124||ut(z)?(r.exit("data"),$(z)):(r.consume(z),z===92?Q:W)}function Q(z){return z===92||z===124?(r.consume(z),W):W(z)}}function tj(r,e){let t=-1,n=!0,s=0,o=[0,0,0,0],l=[0,0,0,0],u=!1,h=0,d,p,m;const y=new Y3;for(;++t<r.length;){const w=r[t],x=w[1];w[0]==="enter"?x.type==="tableHead"?(u=!1,h!==0&&(gk(y,e,h,d,p),p=void 0,h=0),d={type:"table",start:Object.assign({},x.start),end:Object.assign({},x.end)},y.add(t,0,[["enter",d,e]])):x.type==="tableRow"||x.type==="tableDelimiterRow"?(n=!0,m=void 0,o=[0,0,0,0],l=[0,t+1,0,0],u&&(u=!1,p={type:"tableBody",start:Object.assign({},x.start),end:Object.assign({},x.end)},y.add(t,0,[["enter",p,e]])),s=x.type==="tableDelimiterRow"?2:p?3:1):s&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")?(n=!1,l[2]===0&&(o[1]!==0&&(l[0]=l[1],m=yp(y,e,o,s,void 0,m),o=[0,0,0,0]),l[2]=t)):x.type==="tableCellDivider"&&(n?n=!1:(o[1]!==0&&(l[0]=l[1],m=yp(y,e,o,s,void 0,m)),o=l,l=[o[1],t,0,0])):x.type==="tableHead"?(u=!0,h=t):x.type==="tableRow"||x.type==="tableDelimiterRow"?(h=t,o[1]!==0?(l[0]=l[1],m=yp(y,e,o,s,t,m)):l[1]!==0&&(m=yp(y,e,l,s,t,m)),s=0):s&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")&&(l[3]=t)}for(h!==0&&gk(y,e,h,d,p),y.consume(e.events),t=-1;++t<e.events.length;){const w=e.events[t];w[0]==="enter"&&w[1].type==="table"&&(w[1]._align=J3(e.events,t))}return r}function yp(r,e,t,n,s,o){const l=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",u="tableContent";t[0]!==0&&(o.end=Object.assign({},Hl(e.events,t[0])),r.add(t[0],0,[["exit",o,e]]));const h=Hl(e.events,t[1]);if(o={type:l,start:Object.assign({},h),end:Object.assign({},h)},r.add(t[1],0,[["enter",o,e]]),t[2]!==0){const d=Hl(e.events,t[2]),p=Hl(e.events,t[3]),m={type:u,start:Object.assign({},d),end:Object.assign({},p)};if(r.add(t[2],0,[["enter",m,e]]),n!==2){const y=e.events[t[2]],w=e.events[t[3]];if(y[1].end=Object.assign({},w[1].end),y[1].type="chunkText",y[1].contentType="text",t[3]>t[2]+1){const x=t[2]+1,S=t[3]-t[2]-1;r.add(x,S,[])}}r.add(t[3]+1,0,[["exit",m,e]])}return s!==void 0&&(o.end=Object.assign({},Hl(e.events,s)),r.add(s,0,[["exit",o,e]]),o=void 0),o}function gk(r,e,t,n,s){const o=[],l=Hl(e.events,t);s&&(s.end=Object.assign({},l),o.push(["exit",s,e])),n.end=Object.assign({},l),o.push(["exit",n,e]),r.add(t+1,0,o)}function Hl(r,e){const t=r[e],n=t[0]==="enter"?"start":"end";return t[1][n]}const nj={name:"tasklistCheck",tokenize:ij};function rj(){return{text:{91:nj}}}function ij(r,e,t){const n=this;return s;function s(h){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?t(h):(r.enter("taskListCheck"),r.enter("taskListCheckMarker"),r.consume(h),r.exit("taskListCheckMarker"),o)}function o(h){return ut(h)?(r.enter("taskListCheckValueUnchecked"),r.consume(h),r.exit("taskListCheckValueUnchecked"),l):h===88||h===120?(r.enter("taskListCheckValueChecked"),r.consume(h),r.exit("taskListCheckValueChecked"),l):t(h)}function l(h){return h===93?(r.enter("taskListCheckMarker"),r.consume(h),r.exit("taskListCheckMarker"),r.exit("taskListCheck"),u):t(h)}function u(h){return Re(h)?e(h):Ue(h)?r.check({tokenize:sj},e,t)(h):t(h)}}function sj(r,e,t){return qe(r,n,"whitespace");function n(s){return s===null?t(s):e(s)}}function oj(r){return uE([L3(),H3(),K3(r),Z3(),rj()])}const aj={};function lj(r){const e=this,t=r||aj,n=e.data(),s=n.micromarkExtensions||(n.micromarkExtensions=[]),o=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),l=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);s.push(oj(t)),o.push(C3()),l.push(T3(t))}const Jg=ee.createContext({isLoading:!1,isInteractive:!1});function uj(r){const{children:e}=r,[t,n]=ee.useState(!1),[s,o]=ee.useState(!1);return ie.jsx(Jg.Provider,{value:{isLoading:t,setIsLoading:n,isInteractive:s,setIsInteractive:o},children:e})}function cj(){const[r,e]=ee.useState(0),t=ei();return ee.useEffect(()=>{const n=setInterval(()=>{e(s=>(s+1)%4)},500);return()=>clearInterval(n)},[]),ie.jsxs("div",{style:{color:t.color,fontFamily:`"${t.fontFamily}", monospace`,fontSize:t.fontSize},children:["Loading",".".repeat(r)]})}function rw(r){const{message:e}=r,t=ei();return e===void 0?null:ie.jsx("div",{style:{fontFamily:`"${t.fontFamily}", monospace`,fontSize:t.fontSize},children:e})}function hj(r){const{params:e}=r,t=Ud(),n=e["--id"],{readme:s,error:o}=pR(n),{isLoading:l,setIsLoading:u,setIsInteractive:h}=ee.useContext(Jg);return ee.useEffect(()=>{u==null||u(s===void 0&&o===void 0)},[o,s,u]),ee.useEffect(()=>{o&&(h==null||h(!1),t(wR(ie.jsx(rw,{message:o}))))},[t,o,h]),o?ie.jsx(rw,{message:o}):l?ie.jsx(cj,{}):ie.jsx(qA,{children:ie.jsx(QN,{remarkPlugins:[lj],children:s})})}class dj extends $d{constructor(){super("project","Manage projects",{list:new fj,show:new pj})}}class fj extends Es{constructor(){const e={"--all":{type:"boolean",required:!0}};super("list","List all projects",e,void 0,jD)}}class pj extends Es{constructor(){const e={"--id":{type:"number",required:!0}};super("show","Show a project with id",e,void 0,hj,!0)}}const JE=new $d("","",{clear:new jR,exit:new MD,help:new OD,project:new dj,cv:new RD});function gj(r){var l;const e=r.trim();if(e.length===0)return{status:"success",command:void 0};const t=e.split(/\s+/),n={};let s=JE,o;for(let u=0;u<t.length;++u){const h=t[u];if(h.startsWith("-")){const d=h,p=(l=t[u+1])!=null&&l.startsWith("-")||u+1>=t.length?!0:t[u+1];n[d]=p,u+=1;continue}if(s instanceof $d){const d=s.children[h];if(d!==void 0)s=d,d instanceof Es&&(o=d);else return{status:"failed",message:`Unknown command: ${h}`}}else return{status:"failed",message:`Invalid command sequence at: ${h}`}}if(o!==void 0){const u=ND(n,o.paramsSchema);return u.valid&&u.matchedParams?(o.params=u.matchedParams,{status:"success",command:o}):{status:"failed",message:u.error}}return{status:"failed",message:"Incomplete command."}}const mj="_blink_1fn2m_1",yj={"terminal-cursor":"_terminal-cursor_1fn2m_1",blink:mj};function ZE(){return ie.jsx("span",{className:yj["terminal-cursor"]})}const vj={"prompt-container":"_prompt-container_1kbf6_1"};function eC(r){const{theme:e}=r,t=tl(),n={fontSize:e.fontSize,fontFamily:`"${e.fontFamily}", monospace`};return ie.jsxs("div",{className:vj["prompt-container"],style:n,children:[t==null?void 0:t.username,"@Delta ~ %"]})}function wj(){const r=ei(),e=Ud(),t=Ik(),[n,s]=ee.useState(""),[o,l]=ee.useState(),u=ee.useCallback(()=>{var m,y,w,x;const p=gj(n);if(p.status==="failed")e(Lc({name:n,result:ie.jsx(rw,{message:p.message})}));else if(p.status==="success"){const S={name:n,isInteractive:(m=p.command)==null?void 0:m.isInteractive};if(((y=p.command)==null?void 0:y.action)!==void 0)e(Lc(S)),p.command.execute();else if(((w=p.command)==null?void 0:w.result)!==void 0){const A=(x=p.command)==null?void 0:x.result;S.result=ie.jsx(A,{params:p.command.params}),e(Lc(S))}else e(Lc(S))}},[e,n]),h=ee.useCallback(p=>{if(p.key==="Backspace")s(m=>m.slice(0,-1));else if(p.key==="Enter")u(),s("");else if(p.ctrlKey&&p.key==="c")e(Lc({name:n})),s("");else if(p.key==="ArrowUp"){let m=(o??t.length)-1;m<0&&(m=0),t[0].name==="welcome"&&(m=1),l(m),s(t[m].name)}else if(p.key==="ArrowDown"){if(o===void 0)return;let m=o+1;m===t.length&&(m=void 0),l(m),s(m?t[m].name:"")}else p.key.length===1&&s(m=>m+p.key)},[e,t,o,n,u]);ee.useEffect(()=>(document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)),[h,n]);const d=n.replace(/ /g,"");return ie.jsxs("div",{style:{color:r.color,fontFamily:`"${r.fontFamily}", monospace`,fontSize:r.fontSize,display:"flex",alignItems:"center"},children:[ie.jsx(eC,{theme:r})," ",d,ie.jsx(ZE,{})]})}function bj(r){const{isWelcomed:e=!1}=r,t=ei(),n=Ud(),s=tl(),[o,l]=ee.useState();ee.useEffect(()=>{s&&l(void 0)},[s]);const u=ee.useCallback(h=>{if(h.key==="Enter"){if(o===void 0)return;n(OR(o-1))}if(h.key.length>1)return;const d=parseInt(h.key);isNaN(d)||d<1||d>Cv.length||l(d)},[n,o]);return ee.useEffect(()=>{if(!e)return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[u,e]),ie.jsxs("div",{style:{fontFamily:`"${t.fontFamily}", monospace`,fontSize:t.fontSize,display:"flex",flexDirection:"column"},children:[ie.jsx("h1",{children:"Welcome to Delta portfolio"}),ie.jsx("p",{children:"Which porfolio do you want to see?"}),Cv.map((h,d)=>ie.jsxs(ie.Fragment,{children:["[",d+1,"] ",h.name,ie.jsx("br",{})]},d)),ie.jsxs("div",{style:{display:"flex",alignItems:"center"},children:["Enter your choice (number) here:",s?s.id:o,!e&&ie.jsx(ZE,{})]})]})}const xj="_terminal_kh9om_1",Sj={terminal:xj};function kj(r){const{command:e}=r,t=ei();return ie.jsxs("div",{style:{color:t.color,fontFamily:`"${t.fontFamily}", monospace`,fontSize:t.fontSize,display:"flex",alignItems:"center"},children:[ie.jsx(eC,{theme:t})," ",e]})}function _j(r){const{command:e}=r,{setIsInteractive:t}=ee.useContext(Jg);return ee.useEffect(()=>{t==null||t((e.isInteractive??!1)&&e.result!==void 0)},[e.isInteractive,e.result,t]),ie.jsxs("div",{children:[ie.jsx(kj,{command:e.name}),e.result]})}function Aj(){const r=ei(),{background:e,color:t}=r,n=Ik(),s=Ud(),o=tl(),{isLoading:l,isInteractive:u,setIsInteractive:h}=ee.useContext(Jg);return ee.useEffect(()=>{const d=p=>{u&&(p.key==="q"||p.key==="Q")&&(h==null||h(!1),s(vR()))};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[s,u,h]),ie.jsxs("div",{id:Sj.terminal,style:{backgroundColor:e,color:t},children:[n.map((d,p)=>d.name==="welcome"?ie.jsx(bj,{isWelcomed:!!o},0):ie.jsx(_j,{command:d},p)),(!u||!l)&&!!o&&ie.jsx(wj,{})]})}const Ej="_rotate_1h42h_1",Cj={"app-container":"_app-container_1h42h_1",rotate:Ej};xw.workerSrc=new URL("/portfolio-page/assets/pdf.worker.min-DGf6LXVo.mjs",import.meta.url).toString();function Tj(){const r=Ud(),e=tl();return ee.useEffect(()=>{r(hR("dark"))},[r]),ee.useEffect(()=>{e&&(document.title=`Delta - ${e.name}`)},[e]),ie.jsx("div",{id:Cj["app-container"],children:ie.jsx(uj,{children:ie.jsx(Aj,{})})})}function Pj(r){return ie.jsx(bP,{store:oh,children:r.children})}sP.createRoot(document.getElementById("root")).render(ie.jsx(Pj,{children:ie.jsx(ee.StrictMode,{children:ie.jsx(Tj,{})})}));
